// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).ml=e()}(this,(function(){"use strict";var t="function"==typeof Object.defineProperty?Object.defineProperty:null;var e=Object.defineProperty;function r(t){return"number"==typeof t}function n(t){var e,r="";for(e=0;e<t;e++)r+="0";return r}function i(t,e,r){var i=!1,o=e-t.length;return o<0||(function(t){return"-"===t[0]}(t)&&(i=!0,t=t.substr(1)),t=r?t+n(o):n(o)+t,i&&(t="-"+t)),t}var o=String.prototype.toLowerCase,a=String.prototype.toUpperCase;function u(t){var e,n,u;switch(t.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(n=t.arg,u=parseInt(n,10),!isFinite(u)){if(!r(n))throw new Error("invalid integer. Value: "+n);u=0}return u<0&&("u"===t.specifier||10!==e)&&(u=4294967295+u+1),u<0?(n=(-u).toString(e),t.precision&&(n=i(n,t.precision,t.padRight)),n="-"+n):(n=u.toString(e),u||t.precision?t.precision&&(n=i(n,t.precision,t.padRight)):n="",t.sign&&(n=t.sign+n)),16===e&&(t.alternate&&(n="0x"+n),n=t.specifier===a.call(t.specifier)?a.call(n):o.call(n)),8===e&&t.alternate&&"0"!==n.charAt(0)&&(n="0"+n),n}var s=Math.abs,f=String.prototype.toLowerCase,l=String.prototype.toUpperCase,h=String.prototype.replace,c=/e\+(\d)$/,p=/e-(\d)$/,g=/^(\d+)$/,y=/^(\d+)e/,m=/\.0$/,d=/\.0*e/,v=/(\..*[^0])0*e/;function w(t){var e,n,i=parseFloat(t.arg);if(!isFinite(i)){if(!r(t.arg))throw new Error("invalid floating-point number. Value: "+n);i=t.arg}switch(t.specifier){case"e":case"E":n=i.toExponential(t.precision);break;case"f":case"F":n=i.toFixed(t.precision);break;case"g":case"G":s(i)<1e-4?((e=t.precision)>0&&(e-=1),n=i.toExponential(e)):n=i.toPrecision(t.precision),t.alternate||(n=h.call(n,v,"$1e"),n=h.call(n,d,"e"),n=h.call(n,m,""));break;default:throw new Error("invalid double notation. Value: "+t.specifier)}return n=h.call(n,c,"e+0$1"),n=h.call(n,p,"e-0$1"),t.alternate&&(n=h.call(n,g,"$1."),n=h.call(n,y,"$1.e")),i>=0&&t.sign&&(n=t.sign+n),n=t.specifier===l.call(t.specifier)?l.call(n):f.call(n)}function b(t){var e,r="";for(e=0;e<t;e++)r+=" ";return r}var E=String.fromCharCode,_=Array.isArray;function T(t){return t!=t}function A(t){var e={};return e.specifier=t.specifier,e.precision=void 0===t.precision?1:t.precision,e.width=t.width,e.flags=t.flags||"",e.mapping=t.mapping,e}function x(t){var e,r,n,o,a,s,f,l,h,c,p,g,y;if(!_(t))throw new TypeError("invalid argument. First argument must be an array. Value: `"+t+"`.");for(s="",f=1,l=0;l<t.length;l++)if(n=t[l],"string"==typeof n)s+=n;else{if(e=void 0!==n.precision,!(n=A(n)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+l+"`. Value: `"+n+"`.");for(n.mapping&&(f=n.mapping),r=n.flags,h=0;h<r.length;h++)switch(o=r.charAt(h)){case" ":n.sign=" ";break;case"+":n.sign="+";break;case"-":n.padRight=!0,n.padZeros=!1;break;case"0":n.padZeros=r.indexOf("-")<0;break;case"#":n.alternate=!0;break;default:throw new Error("invalid flag: "+o)}if("*"===n.width){if(n.width=parseInt(arguments[f],10),f+=1,T(n.width))throw new TypeError("the argument for * width at position "+f+" is not a number. Value: `"+n.width+"`.");n.width<0&&(n.padRight=!0,n.width=-n.width)}if(e&&"*"===n.precision){if(n.precision=parseInt(arguments[f],10),f+=1,T(n.precision))throw new TypeError("the argument for * precision at position "+f+" is not a number. Value: `"+n.precision+"`.");n.precision<0&&(n.precision=1,e=!1)}switch(n.arg=arguments[f],n.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":e&&(n.padZeros=!1),n.arg=u(n);break;case"s":n.maxWidth=e?n.precision:-1,n.arg=String(n.arg);break;case"c":if(!T(n.arg)){if((a=parseInt(n.arg,10))<0||a>127)throw new Error("invalid character code. Value: "+n.arg);n.arg=T(a)?String(n.arg):E(a)}break;case"e":case"E":case"f":case"F":case"g":case"G":e||(n.precision=6),n.arg=w(n);break;default:throw new Error("invalid specifier: "+n.specifier)}n.maxWidth>=0&&n.arg.length>n.maxWidth&&(n.arg=n.arg.substring(0,n.maxWidth)),n.padZeros?n.arg=i(n.arg,n.width||n.precision,n.padRight):n.width&&(n.arg=(c=n.arg,p=n.width,g=n.padRight,y=void 0,(y=p-c.length)<0?c:c=g?c+b(y):b(y)+c)),s+=n.arg||"",f+=1}return s}var R=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function O(t){var e={mapping:t[1]?parseInt(t[1],10):void 0,flags:t[2],width:t[3],precision:t[5],specifier:t[6]};return"."===t[4]&&void 0===t[5]&&(e.precision="1"),e}function V(t){var e,r,n,i;for(r=[],i=0,n=R.exec(t);n;)(e=t.slice(i,R.lastIndex-n[0].length)).length&&r.push(e),"%"===n[6]?r.push("%"):r.push(O(n)),i=R.lastIndex,n=R.exec(t);return(e=t.slice(i)).length&&r.push(e),r}function S(t){var e,r;if("string"!=typeof t)throw new TypeError(S("invalid argument. First argument must be a string. Value: `%s`.",t));for(e=[V(t)],r=1;r<arguments.length;r++)e.push(arguments[r]);return x.apply(null,e)}var j,L=Object.prototype,I=L.toString,M=L.__defineGetter__,N=L.__defineSetter__,P=L.__lookupGetter__,B=L.__lookupSetter__;j=function(){try{return t({},"x",{}),!0}catch(t){return!1}}()?e:function(t,e,r){var n,i,o,a;if("object"!=typeof t||null===t||"[object Array]"===I.call(t))throw new TypeError(S("invalid argument. First argument must be an object. Value: `%s`.",t));if("object"!=typeof r||null===r||"[object Array]"===I.call(r))throw new TypeError(S("invalid argument. Property descriptor must be an object. Value: `%s`.",r));if((i="value"in r)&&(P.call(t,e)||B.call(t,e)?(n=t.__proto__,t.__proto__=L,delete t[e],t[e]=r.value,t.__proto__=n):t[e]=r.value),o="get"in r,a="set"in r,i&&(o||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return o&&M&&M.call(t,e,r.get),a&&N&&N.call(t,e,r.set),t};var F=j;function U(t,e,r){F(t,e,{configurable:!1,enumerable:!0,writable:!1,value:r})}function k(t,e,r){F(t,e,{configurable:!1,enumerable:!1,writable:!1,value:r})}function Y(t){return"number"==typeof t}var C="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function z(){return C&&"symbol"==typeof Symbol.toStringTag}var D=Object.prototype.toString;var W=Object.prototype.hasOwnProperty;function G(t,e){return null!=t&&W.call(t,e)}var q="function"==typeof Symbol?Symbol:void 0,H="function"==typeof q?q.toStringTag:"";var J=z()?function(t){var e,r,n;if(null==t)return D.call(t);r=t[H],e=G(t,H);try{t[H]=void 0}catch(e){return D.call(t)}return n=D.call(t),e?t[H]=r:delete t[H],n}:function(t){return D.call(t)},X=Number,$=X.prototype.toString;var Z=z();function K(t){return"object"==typeof t&&(t instanceof X||(Z?function(t){try{return $.call(t),!0}catch(t){return!1}}(t):"[object Number]"===J(t)))}function Q(t){return Y(t)||K(t)}k(Q,"isPrimitive",Y),k(Q,"isObject",K);var tt=Number.POSITIVE_INFINITY,et=X.NEGATIVE_INFINITY,rt=Math.floor;function nt(t){return rt(t)===t}function it(t){return t<tt&&t>et&&nt(t)}function ot(t){return Y(t)&&it(t)}function at(t){return K(t)&&it(t.valueOf())}function ut(t){return ot(t)||at(t)}function st(t){return ot(t)&&t>0}function ft(t){return at(t)&&t.valueOf()>0}function lt(t){return st(t)||ft(t)}function ht(t){return"boolean"==typeof t}k(ut,"isPrimitive",ot),k(ut,"isObject",at),k(lt,"isPrimitive",st),k(lt,"isObject",ft);var ct=Boolean,pt=Boolean.prototype.toString;var gt=z();function yt(t){return"object"==typeof t&&(t instanceof ct||(gt?function(t){try{return pt.call(t),!0}catch(t){return!1}}(t):"[object Boolean]"===J(t)))}function mt(t){return ht(t)||yt(t)}k(mt,"isPrimitive",ht),k(mt,"isObject",yt);var dt="object"==typeof self?self:null,vt="object"==typeof window?window:null,wt="object"==typeof globalThis?globalThis:null;function bt(t){if(arguments.length){if(!ht(t))throw new TypeError(S("invalid argument. Must provide a boolean. Value: `%s`.",t));if(t)return new Function("return this;")()}if(wt)return wt;if(dt)return dt;if(vt)return vt;throw new Error("unexpected error. Unable to resolve global object.")}var Et=bt();function _t(t,e,r){F(t,e,{configurable:!1,enumerable:!1,get:r})}var Tt={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};function At(t){return Math.abs(t)}var xt="function";function Rt(t){return typeof t.get===xt&&typeof t.set===xt}var Ot={float64:function(t,e){return t[e]},float32:function(t,e){return t[e]},int32:function(t,e){return t[e]},int16:function(t,e){return t[e]},int8:function(t,e){return t[e]},uint32:function(t,e){return t[e]},uint16:function(t,e){return t[e]},uint8:function(t,e){return t[e]},uint8c:function(t,e){return t[e]},generic:function(t,e){return t[e]},default:function(t,e){return t[e]}};function Vt(t){var e=Ot[t];return"function"==typeof e?e:Ot.default}var St={float64:function(t,e,r){t[e]=r},float32:function(t,e,r){t[e]=r},int32:function(t,e,r){t[e]=r},int16:function(t,e,r){t[e]=r},int8:function(t,e,r){t[e]=r},uint32:function(t,e,r){t[e]=r},uint16:function(t,e,r){t[e]=r},uint8:function(t,e,r){t[e]=r},uint8c:function(t,e,r){t[e]=r},generic:function(t,e,r){t[e]=r},default:function(t,e,r){t[e]=r}};function jt(t){var e=St[t];return"function"==typeof e?e:St.default}var Lt={complex128:function(t,e){return t.get(e)},complex64:function(t,e){return t.get(e)},default:function(t,e){return t.get(e)}};function It(t){var e=Lt[t];return"function"==typeof e?e:Lt.default}var Mt={complex128:function(t,e,r){t.set(r,e)},complex64:function(t,e,r){t.set(r,e)},default:function(t,e,r){t.set(r,e)}};function Nt(t){var e=Mt[t];return"function"==typeof e?e:Mt.default}var Pt=Array.isArray?Array.isArray:function(t){return"[object Array]"===J(t)};function Bt(t){if("function"!=typeof t)throw new TypeError(S("invalid argument. Must provide a function. Value: `%s`.",t));return function(e){var r,n;if(!Pt(e))return!1;if(0===(r=e.length))return!1;for(n=0;n<r;n++)if(!1===t(e[n]))return!1;return!0}}function Ft(t){return null!==t&&"object"==typeof t}function Ut(t){return Ft(t)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))}function kt(){return/^\s*function\s*([^(]*)/i}k(Ft,"isObjectLikeArray",Bt(Ft));var Yt=/^\s*function\s*([^(]*)/i;function Ct(t){var e,r,n;if(("Object"===(r=J(t).slice(8,-1))||"Error"===r)&&t.constructor){if("string"==typeof(n=t.constructor).name)return n.name;if(e=Yt.exec(n.toString()))return e[1]}return Ut(t)?"Buffer":r}k(kt,"REGEXP",Yt);var zt={Float32Array:"float32",Float64Array:"float64",Array:"generic",Int16Array:"int16",Int32Array:"int32",Int8Array:"int8",Uint16Array:"uint16",Uint32Array:"uint32",Uint8Array:"uint8",Uint8ClampedArray:"uint8c",Complex64Array:"complex64",Complex128Array:"complex128",BooleanArray:"bool"},Dt="function"==typeof Float64Array;var Wt="function"==typeof Float64Array?Float64Array:null;function Gt(){var t,e,r;if("function"!=typeof Wt)return!1;try{e=new Wt([1,3.14,-3.14,NaN]),r=e,t=(Dt&&r instanceof Float64Array||"[object Float64Array]"===J(r))&&1===e[0]&&3.14===e[1]&&-3.14===e[2]&&e[3]!=e[3]}catch(e){t=!1}return t}var qt="function"==typeof Float64Array?Float64Array:void 0;var Ht=Gt()?qt:function(){throw new Error("not implemented")},Jt="function"==typeof Float32Array;var Xt="function"==typeof Float32Array?Float32Array:null;var $t,Zt="function"==typeof Float32Array?Float32Array:void 0;$t=function(){var t,e,r;if("function"!=typeof Xt)return!1;try{e=new Xt([1,3.14,-3.14,5e40]),r=e,t=(Jt&&r instanceof Float32Array||"[object Float32Array]"===J(r))&&1===e[0]&&3.140000104904175===e[1]&&-3.140000104904175===e[2]&&e[3]===tt}catch(e){t=!1}return t}()?Zt:function(){throw new Error("not implemented")};var Kt=$t,Qt="function"==typeof Uint32Array;function te(t){return Qt&&t instanceof Uint32Array||"[object Uint32Array]"===J(t)}var ee=4294967295,re="function"==typeof Uint32Array?Uint32Array:null;var ne,ie="function"==typeof Uint32Array?Uint32Array:void 0;ne=function(){var t,e;if("function"!=typeof re)return!1;try{t=te(e=new re(e=[1,3.14,-3.14,ee+1,ee+2]))&&1===e[0]&&3===e[1]&&e[2]===ee-2&&0===e[3]&&1===e[4]}catch(e){t=!1}return t}()?ie:function(){throw new Error("not implemented")};var oe=ne,ae="function"==typeof Int32Array;function ue(t){return ae&&t instanceof Int32Array||"[object Int32Array]"===J(t)}var se=2147483647,fe="function"==typeof Int32Array?Int32Array:null;var le,he="function"==typeof Int32Array?Int32Array:void 0;le=function(){var t,e;if("function"!=typeof fe)return!1;try{t=ue(e=new fe([1,3.14,-3.14,2147483648]))&&1===e[0]&&3===e[1]&&-3===e[2]&&-2147483648===e[3]}catch(e){t=!1}return t}()?he:function(){throw new Error("not implemented")};var ce=le,pe="function"==typeof Uint16Array;var ge="function"==typeof Uint16Array?Uint16Array:null;var ye,me="function"==typeof Uint16Array?Uint16Array:void 0;ye=function(){var t,e,r;if("function"!=typeof ge)return!1;try{e=new ge(e=[1,3.14,-3.14,65536,65537]),r=e,t=(pe&&r instanceof Uint16Array||"[object Uint16Array]"===J(r))&&1===e[0]&&3===e[1]&&65533===e[2]&&0===e[3]&&1===e[4]}catch(e){t=!1}return t}()?me:function(){throw new Error("not implemented")};var de=ye,ve="function"==typeof Int16Array;var we="function"==typeof Int16Array?Int16Array:null;var be,Ee="function"==typeof Int16Array?Int16Array:void 0;be=function(){var t,e,r;if("function"!=typeof we)return!1;try{e=new we([1,3.14,-3.14,32768]),r=e,t=(ve&&r instanceof Int16Array||"[object Int16Array]"===J(r))&&1===e[0]&&3===e[1]&&-3===e[2]&&-32768===e[3]}catch(e){t=!1}return t}()?Ee:function(){throw new Error("not implemented")};var _e=be,Te="function"==typeof Uint8Array;var Ae="function"==typeof Uint8Array?Uint8Array:null;var xe,Re="function"==typeof Uint8Array?Uint8Array:void 0;xe=function(){var t,e,r;if("function"!=typeof Ae)return!1;try{e=new Ae(e=[1,3.14,-3.14,256,257]),r=e,t=(Te&&r instanceof Uint8Array||"[object Uint8Array]"===J(r))&&1===e[0]&&3===e[1]&&253===e[2]&&0===e[3]&&1===e[4]}catch(e){t=!1}return t}()?Re:function(){throw new Error("not implemented")};var Oe=xe,Ve="function"==typeof Uint8ClampedArray;var Se="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null;var je,Le="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0;je=function(){var t,e,r;if("function"!=typeof Se)return!1;try{e=new Se([-1,0,1,3.14,4.99,255,256]),r=e,t=(Ve&&r instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===J(r))&&0===e[0]&&0===e[1]&&1===e[2]&&3===e[3]&&5===e[4]&&255===e[5]&&255===e[6]}catch(e){t=!1}return t}()?Le:function(){throw new Error("not implemented")};var Ie=je,Me="function"==typeof Int8Array;var Ne="function"==typeof Int8Array?Int8Array:null;var Pe,Be="function"==typeof Int8Array?Int8Array:void 0;Pe=function(){var t,e,r;if("function"!=typeof Ne)return!1;try{e=new Ne([1,3.14,-3.14,128]),r=e,t=(Me&&r instanceof Int8Array||"[object Int8Array]"===J(r))&&1===e[0]&&3===e[1]&&-3===e[2]&&-128===e[3]}catch(e){t=!1}return t}()?Be:function(){throw new Error("not implemented")};var Fe=Pe;function Ue(t){return ot(t)&&t>=0}function ke(t){return at(t)&&t.valueOf()>=0}function Ye(t){return Ue(t)||ke(t)}k(Ye,"isPrimitive",Ue),k(Ye,"isObject",ke);var Ce=4294967295;function ze(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&nt(t.length)&&t.length>=0&&t.length<=Ce}var De=9007199254740991;function We(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&nt(t.length)&&t.length>=0&&t.length<=De}var Ge="function"==typeof ArrayBuffer;function qe(t){return Ge&&t instanceof ArrayBuffer||"[object ArrayBuffer]"===J(t)}function He(t){return"object"==typeof t&&null!==t&&!Pt(t)}function Je(t){return"string"==typeof t}var Xe=String.prototype.valueOf;var $e=z();function Ze(t){return"object"==typeof t&&(t instanceof String||($e?function(t){try{return Xe.call(t),!0}catch(t){return!1}}(t):"[object String]"===J(t)))}function Ke(t){return Je(t)||Ze(t)}k(Ke,"isPrimitive",Je),k(Ke,"isObject",Ze);var Qe=Bt(Ke.isPrimitive),tr=Bt(Ke.isObject),er=Bt(Ke);k(er,"primitives",Qe),k(er,"objects",tr);var rr=/./,nr=bt(),ir=nr.document&&nr.document.childNodes,or=Int8Array;var ar="function"==typeof rr||"object"==typeof or||"function"==typeof ir?function(t){return Ct(t).toLowerCase()}:function(t){var e;return null===t?"null":"object"===(e=typeof t)?Ct(t).toLowerCase():e};function ur(t){return"function"===ar(t)}function sr(t,e){if(!(this instanceof sr))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Y(t))throw new TypeError(S("invalid argument. Real component must be a number. Value: `%s`.",t));if(!Y(e))throw new TypeError(S("invalid argument. Imaginary component must be a number. Value: `%s`.",e));return F(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:t}),F(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:e}),this}k(sr,"BYTES_PER_ELEMENT",8),k(sr.prototype,"BYTES_PER_ELEMENT",8),k(sr.prototype,"byteLength",16),k(sr.prototype,"toString",(function(){var t=""+this.re;return this.im<0?t+=" - "+-this.im:t+=" + "+this.im,t+="i"})),k(sr.prototype,"toJSON",(function(){var t={type:"Complex128"};return t.re=this.re,t.im=this.im,t}));var fr="function"==typeof Math.fround?Math.fround:null,lr=new Kt(1);var hr="function"==typeof fr?fr:function(t){return lr[0]=t,lr[0]};function cr(t,e){if(!(this instanceof cr))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Y(t))throw new TypeError(S("invalid argument. Real component must be a number. Value: `%s`.",t));if(!Y(e))throw new TypeError(S("invalid argument. Imaginary component must be a number. Value: `%s`.",e));return F(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:hr(t)}),F(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:hr(e)}),this}function pr(t){return t instanceof sr||t instanceof cr||"object"==typeof t&&null!==t&&"number"==typeof t.re&&"number"==typeof t.im}function gr(t){return nt(t/2)}k(cr,"BYTES_PER_ELEMENT",4),k(cr.prototype,"BYTES_PER_ELEMENT",4),k(cr.prototype,"byteLength",8),k(cr.prototype,"toString",(function(){var t=""+this.re;return this.im<0?t+=" - "+-this.im:t+=" + "+this.im,t+="i"})),k(cr.prototype,"toJSON",(function(){var t={type:"Complex64"};return t.re=this.re,t.im=this.im,t}));var yr=8;function mr(t){return"object"==typeof t&&null!==t&&"Complex64Array"===t.constructor.name&&t.BYTES_PER_ELEMENT===yr}var dr=16;function vr(t){return"object"==typeof t&&null!==t&&"Complex128Array"===t.constructor.name&&t.BYTES_PER_ELEMENT===dr}function wr(){return"function"==typeof q&&"symbol"==typeof q("foo")&&G(q,"iterator")&&"symbol"==typeof q.iterator}var br=wr()?Symbol.iterator:null;function Er(t){return t.re}function _r(t){return t.im}function Tr(t,e){return new Kt(t.buffer,t.byteOffset+t.BYTES_PER_ELEMENT*e,2*(t.length-e))}function Ar(t,e){return new Ht(t.buffer,t.byteOffset+t.BYTES_PER_ELEMENT*e,2*(t.length-e))}function xr(t){var e,r,n;for(e=[];!(r=t.next()).done;)if(ze(n=r.value)&&n.length>=2)e.push(n[0],n[1]);else{if(!pr(n))return new TypeError(S("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",n));e.push(Er(n),_r(n))}return e}var Rr=2*Kt.BYTES_PER_ELEMENT,Or=wr();function Vr(t){return t instanceof Lr||"object"==typeof t&&null!==t&&("Complex64Array"===t.constructor.name||"Complex128Array"===t.constructor.name)&&"number"==typeof t._length&&"object"==typeof t._buffer}function Sr(t){return t===Lr||"Complex128Array"===t.name}function jr(t,e){return new cr(t[e*=2],t[e+1])}function Lr(){var t,e,r,n;if(e=arguments.length,!(this instanceof Lr))return 0===e?new Lr:1===e?new Lr(arguments[0]):2===e?new Lr(arguments[0],arguments[1]):new Lr(arguments[0],arguments[1],arguments[2]);if(0===e)r=new Kt(0);else if(1===e)if(Ue(arguments[0]))r=new Kt(2*arguments[0]);else if(We(arguments[0]))if((n=(r=arguments[0]).length)&&Pt(r)&&pr(r[0])){if(r=function(t,e){var r,n,i,o;for(r=e.length,o=0,i=0;i<r;i++){if(!pr(n=e[i]))return null;t[o]=Er(n),t[o+1]=_r(n),o+=2}return t}(new Kt(2*n),r),null===r){if(!gr(n))throw new RangeError(S("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",n));r=new Kt(arguments[0])}}else{if(mr(r))r=Tr(r,0);else if(vr(r))r=Ar(r,0);else if(!gr(n))throw new RangeError(S("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",n));r=new Kt(r)}else if(qe(arguments[0])){if(!nt((r=arguments[0]).byteLength/Rr))throw new RangeError(S("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",Rr,r.byteLength));r=new Kt(r)}else{if(!He(arguments[0]))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(r=arguments[0],!1===Or)throw new TypeError(S("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",r));if(!ur(r[br]))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if(!ur((r=r[br]()).next))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if((r=xr(r))instanceof Error)throw r;r=new Kt(r)}else{if(!qe(r=arguments[0]))throw new TypeError(S("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",r));if(!Ue(t=arguments[1]))throw new TypeError(S("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",t));if(!nt(t/Rr))throw new RangeError(S("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",Rr,t));if(2===e){if(!nt((n=r.byteLength-t)/Rr))throw new RangeError(S("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",Rr,n));r=new Kt(r,t)}else{if(!Ue(n=arguments[2]))throw new TypeError(S("invalid argument. Length must be a nonnegative integer. Value: `%s`.",n));if(n*Rr>r.byteLength-t)throw new RangeError(S("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",n*Rr));r=new Kt(r,t,2*n)}}return k(this,"_buffer",r),k(this,"_length",r.length/2),this}function Ir(t){return t.re}function Mr(t){return t.im}function Nr(t){var e,r,n;for(e=[];!(r=t.next()).done;)if(ze(n=r.value)&&n.length>=2)e.push(n[0],n[1]);else{if(!pr(n))return new TypeError(S("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",n));e.push(Ir(n),Mr(n))}return e}k(Lr,"BYTES_PER_ELEMENT",Rr),k(Lr,"name","Complex64Array"),k(Lr,"from",(function(t){var e,r,n,i,o,a,u,s,f,l,h,c;if(!ur(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Sr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((r=arguments.length)>1){if(!ur(n=arguments[1]))throw new TypeError(S("invalid argument. Second argument must be a function. Value: `%s`.",n));r>2&&(e=arguments[2])}if(Vr(t)){if(s=t.length,n){for(o=(i=new this(s))._buffer,c=0,h=0;h<s;h++){if(pr(l=n.call(e,t.get(h),h)))o[c]=Er(l),o[c+1]=_r(l);else{if(!(ze(l)&&l.length>=2))throw new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[c]=l[0],o[c+1]=l[1]}c+=2}return i}return new this(t)}if(We(t)){if(n){for(s=t.length,u=t.get&&t.set?It("default"):Vt("default"),h=0;h<s;h++)if(!pr(u(t,h))){f=!0;break}if(f){if(!gr(s))throw new RangeError(S("invalid argument. First argument must have a length which is a multiple of %u. Length: `%u`.",2,s));for(o=(i=new this(s/2))._buffer,h=0;h<s;h++)o[h]=n.call(e,u(t,h),h);return i}for(o=(i=new this(s))._buffer,c=0,h=0;h<s;h++){if(pr(l=n.call(e,u(t,h),h)))o[c]=Er(l),o[c+1]=_r(l);else{if(!(ze(l)&&l.length>=2))throw new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[c]=l[0],o[c+1]=l[1]}c+=2}return i}return new this(t)}if(He(t)&&Or&&ur(t[br])){if(!ur((o=t[br]()).next))throw new TypeError(S("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t));if(a=n?function(t,e,r){var n,i,o,a;for(n=[],a=-1;!(i=t.next()).done;)if(a+=1,ze(o=e.call(r,i.value,a))&&o.length>=2)n.push(o[0],o[1]);else{if(!pr(o))return new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",o));n.push(Er(o),_r(o))}return n}(o,n,e):xr(o),a instanceof Error)throw a;for(o=(i=new this(s=a.length/2))._buffer,h=0;h<s;h++)o[h]=a[h];return i}throw new TypeError(S("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t))})),k(Lr,"of",(function(){var t,e;if(!ur(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Sr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return new this(t)})),k(Lr.prototype,"at",(function(t){if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!nt(t))throw new TypeError(S("invalid argument. Must provide an integer. Value: `%s`.",t));if(t<0&&(t+=this._length),!(t<0||t>=this._length))return jr(this._buffer,t)})),_t(Lr.prototype,"buffer",(function(){return this._buffer.buffer})),_t(Lr.prototype,"byteLength",(function(){return this._buffer.byteLength})),_t(Lr.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),k(Lr.prototype,"BYTES_PER_ELEMENT",Lr.BYTES_PER_ELEMENT),k(Lr.prototype,"copyWithin",(function(t,e){if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*t,2*e):this._buffer.copyWithin(2*t,2*e,2*arguments[2]),this})),k(Lr.prototype,"entries",(function(){var t,e,r,n,i,o;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return t=this,n=this._buffer,r=this._length,o=-1,k(e={},"next",(function(){if(o+=1,i||o>=r)return{done:!0};return{value:[o,jr(n,o)],done:!1}})),k(e,"return",(function(t){if(i=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),br&&k(e,br,(function(){return t.entries()})),e})),k(Lr.prototype,"every",(function(t,e){var r,n;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(!t.call(e,jr(r,n),n,this))return!1;return!0})),k(Lr.prototype,"fill",(function(t,e,r){var n,i,o,a,u,s;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!pr(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(n=this._buffer,i=this._length,arguments.length>1){if(!nt(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));if(e<0&&(e+=i)<0&&(e=0),arguments.length>2){if(!nt(r))throw new TypeError(S("invalid argument. Third argument must be an integer. Value: `%s`.",r));r<0&&(r+=i)<0&&(r=0),r>i&&(r=i)}else r=i}else e=0,r=i;for(a=Er(t),u=_r(t),s=e;s<r;s++)n[o=2*s]=a,n[o+1]=u;return this})),k(Lr.prototype,"filter",(function(t,e){var r,n,i,o;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=[],i=0;i<this._length;i++)o=jr(r,i),t.call(e,o,i,this)&&n.push(o);return new this.constructor(n)})),k(Lr.prototype,"find",(function(t,e){var r,n,i;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(i=jr(r,n),t.call(e,i,n,this))return i})),k(Lr.prototype,"findIndex",(function(t,e){var r,n,i;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(i=jr(r,n),t.call(e,i,n,this))return n;return-1})),k(Lr.prototype,"findLast",(function(t,e){var r,n,i;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=this._length-1;n>=0;n--)if(i=jr(r,n),t.call(e,i,n,this))return i})),k(Lr.prototype,"findLastIndex",(function(t,e){var r,n,i;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=this._length-1;n>=0;n--)if(i=jr(r,n),t.call(e,i,n,this))return n;return-1})),k(Lr.prototype,"forEach",(function(t,e){var r,n,i;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)i=jr(r,n),t.call(e,i,n,this)})),k(Lr.prototype,"get",(function(t){if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Ue(t))throw new TypeError(S("invalid argument. Must provide a nonnegative integer. Value: `%s`.",t));if(!(t>=this._length))return jr(this._buffer,t)})),k(Lr.prototype,"includes",(function(t,e){var r,n,i,o,a;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!pr(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!nt(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0&&(e+=this._length)<0&&(e=0)}else e=0;for(i=Er(t),o=_r(t),r=this._buffer,a=e;a<this._length;a++)if(i===r[n=2*a]&&o===r[n+1])return!0;return!1})),k(Lr.prototype,"indexOf",(function(t,e){var r,n,i,o,a;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!pr(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!nt(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0&&(e+=this._length)<0&&(e=0)}else e=0;for(i=Er(t),o=_r(t),r=this._buffer,a=e;a<this._length;a++)if(i===r[n=2*a]&&o===r[n+1])return a;return-1})),k(Lr.prototype,"join",(function(t){var e,r,n,i;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)n=",";else{if(!Je(t))throw new TypeError(S("invalid argument. First argument must be a string. Value: `%s`.",t));n=t}for(e=[],r=this._buffer,i=0;i<this._length;i++)e.push(jr(r,i).toString());return e.join(n)})),k(Lr.prototype,"keys",(function(){var t,e,r,n,i;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return t=this,r=this._length,i=-1,k(e={},"next",(function(){if(i+=1,n||i>=r)return{done:!0};return{value:i,done:!1}})),k(e,"return",(function(t){if(n=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),br&&k(e,br,(function(){return t.keys()})),e})),k(Lr.prototype,"lastIndexOf",(function(t,e){var r,n,i,o,a;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!pr(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!nt(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e>=this._length?e=this._length-1:e<0&&(e+=this._length)}else e=this._length-1;for(i=Er(t),o=_r(t),r=this._buffer,a=e;a>=0;a--)if(i===r[n=2*a]&&o===r[n+1])return a;return-1})),_t(Lr.prototype,"length",(function(){return this._length})),k(Lr.prototype,"map",(function(t,e){var r,n,i,o,a;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(n=this._buffer,r=(i=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)if(pr(a=t.call(e,jr(n,o),o,this)))r[2*o]=Er(a),r[2*o+1]=_r(a);else{if(!ze(a)||2!==a.length)throw new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",a));r[2*o]=a[0],r[2*o+1]=a[1]}return i})),k(Lr.prototype,"reduce",(function(t,e){var r,n,i,o;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));if(r=this._buffer,i=this._length,arguments.length>1)n=e,o=0;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");n=jr(r,0),o=1}for(;o<i;o++)n=t(n,jr(r,o),o,this);return n})),k(Lr.prototype,"reduceRight",(function(t,e){var r,n,i,o;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));if(r=this._buffer,i=this._length,arguments.length>1)n=e,o=i-1;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");n=jr(r,i-1),o=i-2}for(;o>=0;o--)n=t(n,jr(r,o),o,this);return n})),k(Lr.prototype,"reverse",(function(){var t,e,r,n,i,o;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,t=this._buffer,n=rt(r/2),i=0;i<n;i++)o=r-i-1,e=t[2*i],t[2*i]=t[2*o],t[2*o]=e,e=t[2*i+1],t[2*i+1]=t[2*o+1],t[2*o+1]=e;return this})),k(Lr.prototype,"set",(function(t){var e,r,n,i,o,a,u,s,f;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!Ue(r=arguments[1]))throw new TypeError(S("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",r))}else r=0;if(pr(t)){if(r>=this._length)throw new RangeError(S("invalid argument. Index argument is out-of-bounds. Value: `%u`.",r));return n[r*=2]=Er(t),void(n[r+1]=_r(t))}if(Vr(t)){if(r+(a=t._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(e=t._buffer,f=n.byteOffset+r*Rr,e.buffer===n.buffer&&e.byteOffset<f&&e.byteOffset+e.byteLength>f){for(i=new Kt(e.length),s=0;s<e.length;s++)i[s]=e[s];e=i}for(r*=2,f=0,s=0;s<a;s++)n[r]=e[f],n[r+1]=e[f+1],r+=2,f+=2}else{if(!We(t))throw new TypeError(S("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",t));for(a=t.length,s=0;s<a;s++)if(!pr(t[s])){o=!0;break}if(o){if(!gr(a))throw new RangeError(S("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",a));if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(e=t,f=n.byteOffset+r*Rr,e.buffer===n.buffer&&e.byteOffset<f&&e.byteOffset+e.byteLength>f){for(i=new Kt(a),s=0;s<a;s++)i[s]=e[s];e=i}for(r*=2,a/=2,f=0,s=0;s<a;s++)n[r]=e[f],n[r+1]=e[f+1],r+=2,f+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,s=0;s<a;s++)u=t[s],n[r]=Er(u),n[r+1]=_r(u),r+=2}})),k(Lr.prototype,"slice",(function(t,e){var r,n,i,o,a,u,s;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(a=this._buffer,u=this._length,0===arguments.length)t=0,e=u;else{if(!nt(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=u)<0&&(t=0),1===arguments.length)e=u;else{if(!nt(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0?(e+=u)<0&&(e=0):e>u&&(e=u)}}for(r=t<e?e-t:0,n=(i=new this.constructor(r))._buffer,s=0;s<r;s++)o=2*(s+t),n[2*s]=a[o],n[2*s+1]=a[o+1];return i})),k(Lr.prototype,"some",(function(t,e){var r,n;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(t.call(e,jr(r,n),n,this))return!0;return!1})),k(Lr.prototype,"sort",(function(t){var e,r,n,i,o;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=this._length,e=[],i=0;i<n;i++)e.push(jr(r,i));for(e.sort(t),i=0;i<n;i++)r[o=2*i]=Er(e[i]),r[o+1]=_r(e[i]);return this})),k(Lr.prototype,"subarray",(function(t,e){var r,n,i;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,i=this._length,0===arguments.length)t=0,e=i;else{if(!nt(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=i)<0&&(t=0),1===arguments.length)e=i;else{if(!nt(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0?(e+=i)<0&&(e=0):e>i&&(e=i)}}return t>=i?(i=0,r=n.byteLength):t>=e?(i=0,r=n.byteOffset+t*Rr):(i=e-t,r=n.byteOffset+t*Rr),new this.constructor(n.buffer,r,i<0?0:i)})),k(Lr.prototype,"toLocaleString",(function(t,e){var r,n,i,o,a;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)n=[];else{if(!Je(t)&&!Qe(t))throw new TypeError(S("invalid argument. First argument must be a string or an array of strings. Value: `%s`.",t));n=t}if(arguments.length<2)r={};else{if(!He(e))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",e));r=e}for(o=this._buffer,i=[],a=0;a<this._length;a++)i.push(jr(o,a).toLocaleString(n,r));return i.join(",")})),k(Lr.prototype,"toReversed",(function(){var t,e,r,n,i,o;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,e=new this.constructor(r),n=this._buffer,t=e._buffer,i=0;i<r;i++)o=r-i-1,t[2*i]=n[2*o],t[2*i+1]=n[2*o+1];return e})),k(Lr.prototype,"toSorted",(function(t){var e,r,n,i;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=this._length,e=[],i=0;i<n;i++)e.push(jr(r,i));return e.sort(t),new Lr(e)})),k(Lr.prototype,"toString",(function(){var t,e,r;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],e=this._buffer,r=0;r<this._length;r++)t.push(jr(e,r).toString());return t.join(",")})),k(Lr.prototype,"values",(function(){var t,e,r,n,i,o;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return e=this,i=this._buffer,r=this._length,o=-1,k(t={},"next",(function(){if(o+=1,n||o>=r)return{done:!0};return{value:jr(i,o),done:!1}})),k(t,"return",(function(t){if(n=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),br&&k(t,br,(function(){return e.values()})),t})),k(Lr.prototype,"with",(function(t,e){var r,n,i;if(!Vr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!nt(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(i=this._length,t<0&&(t+=i),t<0||t>=i)throw new RangeError(S("invalid argument. Index argument is out-of-bounds. Value: `%s`.",t));if(!pr(e))throw new TypeError(S("invalid argument. Second argument must be a complex number. Value: `%s`.",e));return(r=(n=new this.constructor(this._buffer))._buffer)[2*t]=Er(e),r[2*t+1]=_r(e),n}));var Pr=2*Ht.BYTES_PER_ELEMENT,Br=wr();function Fr(t){return t instanceof Yr||"object"==typeof t&&null!==t&&("Complex64Array"===t.constructor.name||"Complex128Array"===t.constructor.name)&&"number"==typeof t._length&&"object"==typeof t._buffer}function Ur(t){return t===Yr||"Complex64Array"===t.name}function kr(t,e){return new sr(t[e*=2],t[e+1])}function Yr(){var t,e,r,n;if(e=arguments.length,!(this instanceof Yr))return 0===e?new Yr:1===e?new Yr(arguments[0]):2===e?new Yr(arguments[0],arguments[1]):new Yr(arguments[0],arguments[1],arguments[2]);if(0===e)r=new Ht(0);else if(1===e)if(Ue(arguments[0]))r=new Ht(2*arguments[0]);else if(We(arguments[0]))if((n=(r=arguments[0]).length)&&Pt(r)&&pr(r[0])){if(r=function(t,e){var r,n,i,o;for(r=e.length,o=0,i=0;i<r;i++){if(!pr(n=e[i]))return null;t[o]=Ir(n),t[o+1]=Mr(n),o+=2}return t}(new Ht(2*n),r),null===r){if(!gr(n))throw new RangeError(S("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",n));r=new Ht(arguments[0])}}else{if(mr(r))r=Tr(r,0);else if(vr(r))r=Ar(r,0);else if(!gr(n))throw new RangeError(S("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",n));r=new Ht(r)}else if(qe(arguments[0])){if(!nt((r=arguments[0]).byteLength/Pr))throw new RangeError(S("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",Pr,r.byteLength));r=new Ht(r)}else{if(!He(arguments[0]))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(r=arguments[0],!1===Br)throw new TypeError(S("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",r));if(!ur(r[br]))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if(!ur((r=r[br]()).next))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if((r=Nr(r))instanceof Error)throw r;r=new Ht(r)}else{if(!qe(r=arguments[0]))throw new TypeError(S("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",r));if(!Ue(t=arguments[1]))throw new TypeError(S("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",t));if(!nt(t/Pr))throw new RangeError(S("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",Pr,t));if(2===e){if(!nt((n=r.byteLength-t)/Pr))throw new RangeError(S("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",Pr,n));r=new Ht(r,t)}else{if(!Ue(n=arguments[2]))throw new TypeError(S("invalid argument. Length must be a nonnegative integer. Value: `%s`.",n));if(n*Pr>r.byteLength-t)throw new RangeError(S("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",n*Pr));r=new Ht(r,t,2*n)}}return k(this,"_buffer",r),k(this,"_length",r.length/2),this}function Cr(t){var e,r;for(e=[];!(r=t.next()).done;)e.push(ct(r.value));return e}k(Yr,"BYTES_PER_ELEMENT",Pr),k(Yr,"name","Complex128Array"),k(Yr,"from",(function(t){var e,r,n,i,o,a,u,s,f,l,h,c;if(!ur(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Ur(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((r=arguments.length)>1){if(!ur(n=arguments[1]))throw new TypeError(S("invalid argument. Second argument must be a function. Value: `%s`.",n));r>2&&(e=arguments[2])}if(Fr(t)){if(s=t.length,n){for(o=(i=new this(s))._buffer,c=0,h=0;h<s;h++){if(pr(l=n.call(e,t.get(h),h)))o[c]=Ir(l),o[c+1]=Mr(l);else{if(!(ze(l)&&l.length>=2))throw new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[c]=l[0],o[c+1]=l[1]}c+=2}return i}return new this(t)}if(We(t)){if(n){for(s=t.length,u=t.get&&t.set?It("default"):Vt("default"),h=0;h<s;h++)if(!pr(u(t,h))){f=!0;break}if(f){if(!gr(s))throw new RangeError(S("invalid argument. First argument must have a length which is a multiple of two. Length: `%u`.",s));for(o=(i=new this(s/2))._buffer,h=0;h<s;h++)o[h]=n.call(e,u(t,h),h);return i}for(o=(i=new this(s))._buffer,c=0,h=0;h<s;h++){if(pr(l=n.call(e,u(t,h),h)))o[c]=Ir(l),o[c+1]=Mr(l);else{if(!(ze(l)&&l.length>=2))throw new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[c]=l[0],o[c+1]=l[1]}c+=2}return i}return new this(t)}if(He(t)&&Br&&ur(t[br])){if(!ur((o=t[br]()).next))throw new TypeError(S("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t));if(a=n?function(t,e,r){var n,i,o,a;for(n=[],a=-1;!(i=t.next()).done;)if(a+=1,ze(o=e.call(r,i.value,a))&&o.length>=2)n.push(o[0],o[1]);else{if(!pr(o))return new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",o));n.push(Ir(o),Mr(o))}return n}(o,n,e):Nr(o),a instanceof Error)throw a;for(o=(i=new this(s=a.length/2))._buffer,h=0;h<s;h++)o[h]=a[h];return i}throw new TypeError(S("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t))})),k(Yr,"of",(function(){var t,e;if(!ur(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Ur(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return new this(t)})),k(Yr.prototype,"at",(function(t){if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!nt(t))throw new TypeError(S("invalid argument. Must provide an integer. Value: `%s`.",t));if(t<0&&(t+=this._length),!(t<0||t>=this._length))return kr(this._buffer,t)})),_t(Yr.prototype,"buffer",(function(){return this._buffer.buffer})),_t(Yr.prototype,"byteLength",(function(){return this._buffer.byteLength})),_t(Yr.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),k(Yr.prototype,"BYTES_PER_ELEMENT",Yr.BYTES_PER_ELEMENT),k(Yr.prototype,"copyWithin",(function(t,e){if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*t,2*e):this._buffer.copyWithin(2*t,2*e,2*arguments[2]),this})),k(Yr.prototype,"entries",(function(){var t,e,r,n,i,o,a;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return e=this,t=this._buffer,n=this._length,o=-1,a=-2,k(r={},"next",(function(){var e;if(o+=1,i||o>=n)return{done:!0};return e=new sr(t[a+=2],t[a+1]),{value:[o,e],done:!1}})),k(r,"return",(function(t){if(i=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),br&&k(r,br,(function(){return e.entries()})),r})),k(Yr.prototype,"every",(function(t,e){var r,n;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(!t.call(e,kr(r,n),n,this))return!1;return!0})),k(Yr.prototype,"fill",(function(t,e,r){var n,i,o,a,u,s;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!pr(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(n=this._buffer,i=this._length,arguments.length>1){if(!nt(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));if(e<0&&(e+=i)<0&&(e=0),arguments.length>2){if(!nt(r))throw new TypeError(S("invalid argument. Third argument must be an integer. Value: `%s`.",r));r<0&&(r+=i)<0&&(r=0),r>i&&(r=i)}else r=i}else e=0,r=i;for(a=Ir(t),u=Mr(t),s=e;s<r;s++)n[o=2*s]=a,n[o+1]=u;return this})),k(Yr.prototype,"filter",(function(t,e){var r,n,i,o;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=[],i=0;i<this._length;i++)o=kr(r,i),t.call(e,o,i,this)&&n.push(o);return new this.constructor(n)})),k(Yr.prototype,"find",(function(t,e){var r,n,i;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(i=kr(r,n),t.call(e,i,n,this))return i})),k(Yr.prototype,"findIndex",(function(t,e){var r,n,i;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(i=kr(r,n),t.call(e,i,n,this))return n;return-1})),k(Yr.prototype,"findLast",(function(t,e){var r,n,i;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=this._length-1;n>=0;n--)if(i=kr(r,n),t.call(e,i,n,this))return i})),k(Yr.prototype,"findLastIndex",(function(t,e){var r,n,i;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=this._length-1;n>=0;n--)if(i=kr(r,n),t.call(e,i,n,this))return n;return-1})),k(Yr.prototype,"forEach",(function(t,e){var r,n,i;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)i=kr(r,n),t.call(e,i,n,this)})),k(Yr.prototype,"get",(function(t){if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Ue(t))throw new TypeError(S("invalid argument. Must provide a nonnegative integer. Value: `%s`.",t));if(!(t>=this._length))return kr(this._buffer,t)})),_t(Yr.prototype,"length",(function(){return this._length})),k(Yr.prototype,"includes",(function(t,e){var r,n,i,o,a;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!pr(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!nt(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0&&(e+=this._length)<0&&(e=0)}else e=0;for(i=Ir(t),o=Mr(t),r=this._buffer,a=e;a<this._length;a++)if(i===r[n=2*a]&&o===r[n+1])return!0;return!1})),k(Yr.prototype,"indexOf",(function(t,e){var r,n,i,o,a;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!pr(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!nt(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0&&(e+=this._length)<0&&(e=0)}else e=0;for(i=Ir(t),o=Mr(t),r=this._buffer,a=e;a<this._length;a++)if(i===r[n=2*a]&&o===r[n+1])return a;return-1})),k(Yr.prototype,"join",(function(t){var e,r,n,i;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)n=",";else{if(!Ke(t))throw new TypeError(S("invalid argument. First argument must be a string. Value: `%s`.",t));n=t}for(e=[],r=this._buffer,i=0;i<this._length;i++)e.push(kr(r,i).toString());return e.join(n)})),k(Yr.prototype,"keys",(function(){var t,e,r,n,i;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return t=this,r=this._length,i=-1,k(e={},"next",(function(){if(i+=1,n||i>=r)return{done:!0};return{value:i,done:!1}})),k(e,"return",(function(t){if(n=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),br&&k(e,br,(function(){return t.keys()})),e})),k(Yr.prototype,"lastIndexOf",(function(t,e){var r,n,i,o,a;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!pr(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!nt(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e>=this._length?e=this._length-1:e<0&&(e+=this._length)}else e=this._length-1;for(i=Ir(t),o=Mr(t),r=this._buffer,a=e;a>=0;a--)if(i===r[n=2*a]&&o===r[n+1])return a;return-1})),k(Yr.prototype,"map",(function(t,e){var r,n,i,o,a;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(n=this._buffer,r=(i=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)if(pr(a=t.call(e,kr(n,o),o,this)))r[2*o]=Ir(a),r[2*o+1]=Mr(a);else{if(!ze(a)||2!==a.length)throw new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",a));r[2*o]=a[0],r[2*o+1]=a[1]}return i})),k(Yr.prototype,"reduce",(function(t,e){var r,n,i,o;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));if(r=this._buffer,i=this._length,arguments.length>1)n=e,o=0;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");n=kr(r,0),o=1}for(;o<i;o++)n=t(n,kr(r,o),o,this);return n})),k(Yr.prototype,"reduceRight",(function(t,e){var r,n,i,o;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));if(r=this._buffer,i=this._length,arguments.length>1)n=e,o=i-1;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");n=kr(r,i-1),o=i-2}for(;o>=0;o--)n=t(n,kr(r,o),o,this);return n})),k(Yr.prototype,"reverse",(function(){var t,e,r,n,i,o;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,t=this._buffer,n=rt(r/2),i=0;i<n;i++)o=r-i-1,e=t[2*i],t[2*i]=t[2*o],t[2*o]=e,e=t[2*i+1],t[2*i+1]=t[2*o+1],t[2*o+1]=e;return this})),k(Yr.prototype,"set",(function(t){var e,r,n,i,o,a,u,s,f;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!Ue(r=arguments[1]))throw new TypeError(S("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",r))}else r=0;if(pr(t)){if(r>=this._length)throw new RangeError(S("invalid argument. Index argument is out-of-bounds. Value: `%u`.",r));return n[r*=2]=Ir(t),void(n[r+1]=Mr(t))}if(Fr(t)){if(r+(a=t._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(e=t._buffer,f=n.byteOffset+r*Pr,e.buffer===n.buffer&&e.byteOffset<f&&e.byteOffset+e.byteLength>f){for(i=new Ht(e.length),s=0;s<e.length;s++)i[s]=e[s];e=i}for(r*=2,f=0,s=0;s<a;s++)n[r]=e[f],n[r+1]=e[f+1],r+=2,f+=2}else{if(!We(t))throw new TypeError(S("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",t));for(a=t.length,s=0;s<a;s++)if(!pr(t[s])){o=!0;break}if(o){if(!gr(a))throw new RangeError(S("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",a));if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(e=t,f=n.byteOffset+r*Pr,e.buffer===n.buffer&&e.byteOffset<f&&e.byteOffset+e.byteLength>f){for(i=new Ht(a),s=0;s<a;s++)i[s]=e[s];e=i}for(r*=2,a/=2,f=0,s=0;s<a;s++)n[r]=e[f],n[r+1]=e[f+1],r+=2,f+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,s=0;s<a;s++)u=t[s],n[r]=Ir(u),n[r+1]=Mr(u),r+=2}})),k(Yr.prototype,"slice",(function(t,e){var r,n,i,o,a,u,s;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(a=this._buffer,u=this._length,0===arguments.length)t=0,e=u;else{if(!nt(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=u)<0&&(t=0),1===arguments.length)e=u;else{if(!nt(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0?(e+=u)<0&&(e=0):e>u&&(e=u)}}for(r=t<e?e-t:0,n=(i=new this.constructor(r))._buffer,s=0;s<r;s++)o=2*(s+t),n[2*s]=a[o],n[2*s+1]=a[o+1];return i})),k(Yr.prototype,"some",(function(t,e){var r,n;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(t.call(e,kr(r,n),n,this))return!0;return!1})),k(Yr.prototype,"sort",(function(t){var e,r,n,i,o;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=this._length,e=[],i=0;i<n;i++)e.push(kr(r,i));for(e.sort(t),i=0;i<n;i++)r[o=2*i]=Ir(e[i]),r[o+1]=Mr(e[i]);return this})),k(Yr.prototype,"subarray",(function(t,e){var r,n,i;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,i=this._length,0===arguments.length)t=0,e=i;else{if(!nt(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=i)<0&&(t=0),1===arguments.length)e=i;else{if(!nt(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0?(e+=i)<0&&(e=0):e>i&&(e=i)}}return t>=i?(i=0,r=n.byteLength):t>=e?(i=0,r=n.byteOffset+t*Pr):(i=e-t,r=n.byteOffset+t*Pr),new this.constructor(n.buffer,r,i<0?0:i)})),k(Yr.prototype,"toLocaleString",(function(t,e){var r,n,i,o,a;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)n=[];else{if(!Ke(t)&&!Qe(t))throw new TypeError(S("invalid argument. First argument must be a string or an array of strings. Value: `%s`.",t));n=t}if(arguments.length<2)r={};else{if(!He(e))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",e));r=e}for(o=this._buffer,i=[],a=0;a<this._length;a++)i.push(kr(o,a).toLocaleString(n,r));return i.join(",")})),k(Yr.prototype,"toReversed",(function(){var t,e,r,n,i,o;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,e=new this.constructor(r),n=this._buffer,t=e._buffer,i=0;i<r;i++)o=r-i-1,t[2*i]=n[2*o],t[2*i+1]=n[2*o+1];return e})),k(Yr.prototype,"toSorted",(function(t){var e,r,n,i;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=this._length,e=[],i=0;i<n;i++)e.push(kr(r,i));return e.sort(t),new Yr(e)})),k(Yr.prototype,"toString",(function(){var t,e,r;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],e=this._buffer,r=0;r<this._length;r++)t.push(kr(e,r).toString());return t.join(",")})),k(Yr.prototype,"values",(function(){var t,e,r,n,i,o;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return e=this,i=this._buffer,r=this._length,o=-1,k(t={},"next",(function(){if(o+=1,n||o>=r)return{done:!0};return{value:kr(i,o),done:!1}})),k(t,"return",(function(t){if(n=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),br&&k(t,br,(function(){return e.values()})),t})),k(Yr.prototype,"with",(function(t,e){var r,n,i;if(!Fr(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!nt(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(i=this._length,t<0&&(t+=i),t<0||t>=i)throw new RangeError(S("invalid argument. Index argument is out-of-bounds. Value: `%s`.",t));if(!pr(e))throw new TypeError(S("invalid argument. Second argument must be a complex number. Value: `%s`.",e));return(r=(n=new this.constructor(this._buffer))._buffer)[2*t]=Ir(e),r[2*t+1]=Mr(e),n}));var zr=Oe.BYTES_PER_ELEMENT,Dr=wr();function Wr(t){return"object"==typeof t&&null!==t&&"BooleanArray"===t.constructor.name&&t.BYTES_PER_ELEMENT===zr}function Gr(t){return t===qr}function qr(){var t,e,r,n,i;if(e=arguments.length,!(this instanceof qr))return 0===e?new qr:1===e?new qr(arguments[0]):2===e?new qr(arguments[0],arguments[1]):new qr(arguments[0],arguments[1],arguments[2]);if(0===e)r=new Oe(0);else if(1===e)if(Ue(i=arguments[0]))r=new Oe(i);else if(We(i))r=function(t,e){var r,n;for(r=e.length,n=0;n<r;n++)t[n]=ct(e[n]);return t}(new Oe(i.length),i);else if(qe(i))r=new Oe(i);else{if(!He(i))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",i));if(!1===Dr)throw new TypeError(S("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",i));if(!ur(i[br]))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",i));if(!ur((r=i[br]()).next))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",i));r=new Oe(Cr(r))}else{if(!qe(r=arguments[0]))throw new TypeError(S("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",r));if(!Ue(t=arguments[1]))throw new TypeError(S("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",t));if(2===e)r=new Oe(r,t);else{if(!Ue(n=arguments[2]))throw new TypeError(S("invalid argument. Length must be a nonnegative integer. Value: `%s`.",n));if(n*zr>r.byteLength-t)throw new RangeError(S("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",n*zr));r=new Oe(r,t,n)}}return k(this,"_buffer",r),k(this,"_length",r.length),this}k(qr,"BYTES_PER_ELEMENT",zr),k(qr,"name","BooleanArray"),k(qr,"from",(function(t){var e,r,n,i,o,a,u,s,f;if(!ur(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Gr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if((r=arguments.length)>1){if(!ur(n=arguments[1]))throw new TypeError(S("invalid argument. Second argument must be a function. Value: `%s`.",n));r>2&&(e=arguments[2])}if(We(t)){if(n){for(s=t.length,u=t.get&&t.set?It("default"):Vt("default"),o=(i=new this(s))._buffer,f=0;f<s;f++)o[f]=ct(n.call(e,u(t,f),f));return i}return new this(t)}if(He(t)&&Dr&&ur(t[br])){if(!ur((o=t[br]()).next))throw new TypeError(S("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t));for(a=n?function(t,e,r){var n,i,o;for(n=[],o=-1;!(i=t.next()).done;)o+=1,n.push(ct(e.call(r,i.value,o)));return n}(o,n,e):Cr(o),o=(i=new this(s=a.length))._buffer,f=0;f<s;f++)o[f]=a[f];return i}throw new TypeError(S("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t))})),k(qr,"of",(function(){var t,e;if(!ur(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Gr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return new this(t)})),k(qr.prototype,"at",(function(t){var e,r;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ot(t))throw new TypeError(S("invalid argument. Must provide an integer. Value: `%s`.",t));if(r=this._length,e=this._buffer,t<0&&(t+=r),!(t<0||t>=r))return ct(e[t])})),_t(qr.prototype,"buffer",(function(){return this._buffer.buffer})),_t(qr.prototype,"byteLength",(function(){return this._buffer.byteLength})),_t(qr.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),k(qr.prototype,"BYTES_PER_ELEMENT",qr.BYTES_PER_ELEMENT),k(qr.prototype,"copyWithin",(function(t,e){if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");return 2===arguments.length?this._buffer.copyWithin(t,e):this._buffer.copyWithin(t,e,arguments[2]),this})),k(qr.prototype,"entries",(function(){var t,e,r,n,i,o;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");return t=this,n=this._buffer,r=this._length,o=-1,k(e={},"next",(function(){if(o+=1,i||o>=r)return{done:!0};return{value:[o,ct(n[o])],done:!1}})),k(e,"return",(function(t){if(i=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),br&&k(e,br,(function(){return t.entries()})),e})),k(qr.prototype,"every",(function(t,e){var r,n;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(!t.call(e,ct(r[n]),n,this))return!1;return!0})),k(qr.prototype,"fill",(function(t,e,r){var n,i,o,a;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ht(t))throw new TypeError(S("invalid argument. First argument must be a boolean. Value: `%s`.",t));if(n=this._buffer,i=this._length,arguments.length>1){if(!ot(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));if(e<0&&(e+=i)<0&&(e=0),arguments.length>2){if(!ot(r))throw new TypeError(S("invalid argument. Third argument must be an integer. Value: `%s`.",r));r<0&&(r+=i)<0&&(r=0),r>i&&(r=i)}else r=i}else e=0,r=i;for(o=t?1:0,a=e;a<r;a++)n[a]=o;return this})),k(qr.prototype,"filter",(function(t,e){var r,n,i,o;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=[],i=0;i<this._length;i++)o=ct(r[i]),t.call(e,o,i,this)&&n.push(o);return new this.constructor(n)})),k(qr.prototype,"find",(function(t,e){var r,n,i;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)if(n=ct(r[i]),t.call(e,n,i,this))return n})),k(qr.prototype,"findIndex",(function(t,e){var r,n,i;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)if(n=ct(r[i]),t.call(e,n,i,this))return i;return-1})),k(qr.prototype,"findLast",(function(t,e){var r,n,i;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=this._length-1;i>=0;i--)if(n=ct(r[i]),t.call(e,n,i,this))return n})),k(qr.prototype,"findLastIndex",(function(t,e){var r,n,i;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=this._length-1;i>=0;i--)if(n=ct(r[i]),t.call(e,n,i,this))return i;return-1})),k(qr.prototype,"forEach",(function(t,e){var r,n;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)t.call(e,ct(r[n]),n,this)})),k(qr.prototype,"get",(function(t){if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!Ue(t))throw new TypeError(S("invalid argument. Must provide a nonnegative integer. Value: `%s`.",t));if(!(t>=this._length))return ct(this._buffer[t])})),k(qr.prototype,"includes",(function(t,e){var r,n;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ht(t))throw new TypeError(S("invalid argument. First argument must be a boolean. Value: `%s`.",t));if(arguments.length>1){if(!ot(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0&&(e+=this._length)<0&&(e=0)}else e=0;for(r=this._buffer,n=e;n<this._length;n++)if(t===ct(r[n]))return!0;return!1})),k(qr.prototype,"indexOf",(function(t,e){var r,n;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ht(t))throw new TypeError(S("invalid argument. First argument must be a boolean. Value: `%s`.",t));if(arguments.length>1){if(!ot(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0&&(e+=this._length)<0&&(e=0)}else e=0;for(r=this._buffer,n=e;n<this._length;n++)if(t===ct(r[n]))return n;return-1})),k(qr.prototype,"join",(function(t){var e,r,n;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(arguments.length>0){if(!Je(t))throw new TypeError(S("invalid argument. First argument must be a string. Value: `%s`.",t))}else t=",";for(e=this._buffer,r=[],n=0;n<this._length;n++)e[n]?r.push("true"):r.push("false");return r.join(t)})),k(qr.prototype,"keys",(function(){var t,e,r,n,i;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");return t=this,r=this._length,i=-1,k(e={},"next",(function(){if(i+=1,n||i>=r)return{done:!0};return{value:i,done:!1}})),k(e,"return",(function(t){if(n=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),br&&k(e,br,(function(){return t.keys()})),e})),k(qr.prototype,"lastIndexOf",(function(t,e){var r,n;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ht(t))throw new TypeError(S("invalid argument. First argument must be a boolean. Value: `%s`.",t));if(arguments.length>1){if(!ot(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e>=this._length?e=this._length-1:e<0&&(e+=this._length)}else e=this._length-1;for(r=this._buffer,n=e;n>=0;n--)if(t===ct(r[n]))return n;return-1})),_t(qr.prototype,"length",(function(){return this._length})),k(qr.prototype,"map",(function(t,e){var r,n,i,o;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ur(t))throw new TypeError("invalid argument. First argument must be a function. Value: `%s`.",t);for(i=this._buffer,r=(n=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)r[o]=ct(t.call(e,ct(i[o]),o,this));return n})),k(qr.prototype,"reduce",(function(t,e){var r,n,i,o;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));if(r=this._buffer,n=this._length,arguments.length>1)i=e,o=0;else{if(0===n)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");i=ct(r[0]),o=1}for(;o<n;o++)i=t(i,ct(r[o]),o,this);return i})),k(qr.prototype,"reduceRight",(function(t,e){var r,n,i,o;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));if(r=this._buffer,n=this._length,arguments.length>1)i=e,o=n-1;else{if(0===n)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");i=ct(r[n-1]),o=n-2}for(;o>=0;o--)i=t(i,ct(r[o]),o,this);return i})),k(qr.prototype,"reverse",(function(){var t,e,r,n,i,o;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(t=this._buffer,r=this._length,n=rt(r/2),i=0;i<n;i++)o=r-i-1,e=t[i],t[i]=t[o],t[o]=e;return this})),k(qr.prototype,"set",(function(t){var e,r,n,i,o,a,u;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(n=this._buffer,arguments.length>1){if(!Ue(r=arguments[1]))throw new TypeError(S("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",r))}else r=0;if(We(t)){if(r+(o=t.length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(e=Wr(t)?t._buffer:t,u=n.byteOffset+r*zr,e.buffer===n.buffer&&e.byteOffset<u&&e.byteOffset+e.byteLength>u){for(i=new Oe(e.length),a=0;a<e.length;a++)i[a]=e[a];e=i}for(a=0;a<o;r++,a++)n[r]=e[a]?1:0}else{if(r>=this._length)throw new RangeError(S("invalid argument. Index argument is out-of-bounds. Value: `%u`.",r));n[r]=t?1:0}})),k(qr.prototype,"slice",(function(t,e){var r,n,i,o,a,u;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(o=this._buffer,a=this._length,0===arguments.length)t=0,e=a;else{if(!ot(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=a)<0&&(t=0),1===arguments.length)e=a;else{if(!ot(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0?(e+=a)<0&&(e=0):e>a&&(e=a)}}for(r=t<e?e-t:0,n=(i=new this.constructor(r))._buffer,u=0;u<r;u++)n[u]=o[u+t];return i})),k(qr.prototype,"some",(function(t,e){var r,n;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(t.call(e,ct(r[n]),n,this))return!0;return!1})),k(qr.prototype,"sort",(function(t){var e;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(e=this._buffer,0===arguments.length)return e.sort(),this;if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));return e.sort((function(e,r){return t(ct(e),ct(r))})),this})),k(qr.prototype,"subarray",(function(t,e){var r,n,i;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(n=this._buffer,i=this._length,0===arguments.length)t=0,e=i;else{if(!ot(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=i)<0&&(t=0),1===arguments.length)e=i;else{if(!ot(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0?(e+=i)<0&&(e=0):e>i&&(e=i)}}return t>=i?(i=0,r=n.byteLength):t>=e?(i=0,r=n.byteOffset+t*zr):(i=e-t,r=n.byteOffset+t*zr),new this.constructor(n.buffer,r,i<0?0:i)})),k(qr.prototype,"toLocaleString",(function(t,e){var r,n,i,o,a;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(0===arguments.length)n=[];else{if(!Je(t)&&!Qe(t))throw new TypeError(S("invalid argument. First argument must be a string or an array of strings. Value: `%s`.",t));n=t}if(arguments.length<2)r={};else{if(!He(e))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",e));r=e}for(o=this._buffer,i=[],a=0;a<this._length;a++)i.push(ct(o[a]).toLocaleString(n,r));return i.join(",")})),k(qr.prototype,"toReversed",(function(){var t,e,r,n,i;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(r=this._length,e=new this.constructor(r),n=this._buffer,t=e._buffer,i=0;i<r;i++)t[i]=n[r-i-1];return e})),k(qr.prototype,"toSorted",(function(t){var e,r,n,i,o;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(n=this._length,r=new this.constructor(n),i=this._buffer,e=r._buffer,o=0;o<n;o++)e[o]=i[o];if(0===arguments.length)return e.sort(),r;if(!ur(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));return e.sort((function(e,r){return t(ct(e),ct(r))})),r})),k(qr.prototype,"toString",(function(){var t,e,r;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(t=[],e=this._buffer,r=0;r<this._length;r++)e[r]?t.push("true"):t.push("false");return t.join(",")})),k(qr.prototype,"values",(function(){var t,e,r,n,i,o;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");return e=this,i=this._buffer,r=this._length,o=-1,k(t={},"next",(function(){if(o+=1,n||o>=r)return{done:!0};return{value:ct(i[o]),done:!1}})),k(t,"return",(function(t){if(n=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),br&&k(t,br,(function(){return e.values()})),t})),k(qr.prototype,"with",(function(t,e){var r,n;if(!Wr(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!ot(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(n=this._length,t<0&&(t+=n),t<0||t>=n)throw new RangeError(S("invalid argument. Index argument is out-of-bounds. Value: `%s`.",t));if(!ht(e))throw new TypeError(S("invalid argument. Second argument must be a boolean. Value: `%s`.",e));return(r=new this.constructor(this._buffer))._buffer[t]=e?1:0,r}));var Hr=[Ht,Kt,ce,oe,_e,de,Fe,Oe,Ie,Lr,Yr,qr],Jr=["float64","float32","int32","uint32","int16","uint16","int8","uint8","uint8c","complex64","complex128","bool"],Xr=Jr.length;function $r(t){var e;if(Pt(t))return"generic";if(Ut(t))return null;for(e=0;e<Xr;e++)if(t instanceof Hr[e])return Jr[e];return zt[Ct(t)]||null}function Zr(t){var e=$r(t);return Rt(t)?{data:t,dtype:e,accessorProtocol:!0,accessors:[It(e),Nt(e)]}:{data:t,dtype:e,accessorProtocol:!1,accessors:[Vt(e),jt(e)]}}var Kr=Array.prototype.slice;function Qr(t,e,r){var n;return function(t,e){return"function"==typeof t[e]}(t,"slice")?t.slice(e,r):(n=Zr(t)).accessorProtocol?function(t,e,r){var n,i,o,a;for(n=t.data,i=t.accessors[0],o=[],a=e;a<r;a++)o.push(i(n,a));return o}(n,e,r):function(t,e,r){return Kr.call(t,e,r)}(t,e,r)}function tn(t,e){return e&&(2===t||3===t)}function en(t,e){return e&&(1===t||3===t)}function rn(t,e,r){var n,i,o,a,u;for(n=t.length,i=r,o=r,u=0;u<n;u++){if(0===t[u])return[r,r];(a=e[u])>0?o+=a*(t[u]-1):a<0&&(i+=a*(t[u]-1))}return[i,o]}k(rn,"assign",(function(t,e,r,n){var i,o,a,u,s;for(i=t.length,o=r,a=r,s=0;s<i;s++){if(0===t[s])return n[0]=r,n[1]=r,n;(u=e[s])>0?a+=u*(t[s]-1):u<0&&(o+=u*(t[s]-1))}return n[0]=o,n[1]=a,n}));var nn=/[-\/\\^$*+?.()|[\]{}]/g;var on=RegExp.prototype.exec;var an=z();function un(t){return"object"==typeof t&&(t instanceof RegExp||(an?function(t){try{return on.call(t),!0}catch(t){return!1}}(t):"[object RegExp]"===J(t)))}function sn(t,e,r){return t.replace(e,r)}function fn(t,e,r){if(!Je(t))throw new TypeError(S("invalid argument. First argument must be a string. Value: `%s`.",t));if(Je(e))e=new RegExp(function(t){var e,r;if(!Je(t))throw new TypeError(S("invalid argument. Must provide a regular expression string. Value: `%s`.",t));if("/"===t[0])for(r=t.length-1;r>=0&&"/"!==t[r];r--);return void 0===r||r<=0?t.replace(nn,"\\$&"):(e=(e=t.substring(1,r)).replace(nn,"\\$&"),t=t[0]+e+t.substring(r))}(e),"g");else if(!un(e))throw new TypeError(S("invalid argument. Second argument must be a string or regular expression. Value: `%s`.",e));if(!Je(r)&&!ur(r))throw new TypeError(S("invalid argument. Third argument must be a string or replacement function. Value: `%s`.",r));return sn(t,e,r)}var ln={int8:"new Int8Array( [ {{data}} ] )",uint8:"new Uint8Array( [ {{data}} ] )",uint8c:"new Uint8ClampedArray( [ {{data}} ] )",int16:"new Int16Array( [ {{data}} ] )",uint16:"new Uint16Array( [ {{data}} ] )",int32:"new Int32Array( [ {{data}} ] )",uint32:"new Uint32Array( [ {{data}} ] )",float32:"new Float32Array( [ {{data}} ] )",float64:"new Float64Array( [ {{data}} ] )",generic:"[ {{data}} ]",binary:"new Buffer( [ {{data}} ] )",complex64:"new Complex64Array( [ {{data}} ] )",complex128:"new Complex128Array( [ {{data}} ] )",bool:"new BooleanArray( [ {{data}} ] )"};var hn,cn={uint16:de,uint8:Oe};(hn=new cn.uint16(1))[0]=4660;var pn=52===new cn.uint8(hn.buffer)[0],gn="function"==typeof ArrayBuffer?ArrayBuffer:null;var yn,mn="function"==typeof ArrayBuffer?ArrayBuffer:void 0;yn=function(){var t,e,r;if("function"!=typeof gn)return!1;try{(t=qe(r=new gn(16))&&"function"==typeof gn.isView)&&((e=new Ht(r))[0]=-3.14,e[1]=NaN,t=t&&gn.isView(e)&&16===r.byteLength&&-3.14===e[0]&&e[1]!=e[1])}catch(e){t=!1}return t}()?mn:function(){throw new Error("not implemented")};var dn=yn,vn="function"==typeof DataView;var wn="function"==typeof DataView?DataView:null;var bn,En="function"==typeof DataView?DataView:void 0;bn=function(){var t,e,r,n;if("function"!=typeof wn)return!1;try{r=new dn(24),e=new wn(r,8),n=e,(t=(vn&&n instanceof DataView||"[object DataView]"===J(n))&&"function"==typeof e.getFloat64&&"function"==typeof e.setFloat64)&&(e.setFloat64(0,-3.14),e.setFloat64(8,NaN),t=t&&e.buffer===r&&16===e.byteLength&&8===e.byteOffset&&-3.14===e.getFloat64(0)&&e.getFloat64(8)!=e.getFloat64(8))}catch(e){t=!1}return t}()?En:function(){throw new Error("not implemented")};var _n=bn,Tn="function"==typeof BigInt?BigInt:void 0,An={all:["binary","bool","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"],typed:["binary","bool","complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],floating_point:["complex64","complex128","float32","float64"],real_floating_point:["float32","float64"],complex_floating_point:["complex64","complex128"],boolean:["bool"],integer:["int16","int32","int8","uint16","uint32","uint8","uint8c"],signed_integer:["int16","int32","int8"],unsigned_integer:["uint16","uint32","uint8","uint8c"],real:["float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],numeric:["complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],index:["int32","uint8","bool","generic"],integer_index:["int32"],boolean_index:["bool"],mask_index:["uint8"],typed_index:["int32","uint8","bool"]},xn=/_and_generic$/;function Rn(){var t,e,r;return 0===arguments.length?An.all.slice():(r=!1,t=arguments[0],xn.test(t)&&"all"!==(t=sn(t,xn,""))&&"index"!==t&&(r=!0),e=(e=An[t])?e.slice():[],r&&e.length>0&&e.push("generic"),e)}function On(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}}function Vn(t){return Object.keys(Object(t))}var Sn,jn=void 0!==Object.keys;function Ln(t){return"[object Arguments]"===J(t)}Sn=function(){return Ln(arguments)}();var In=Sn;function Mn(t){return t!=t}function Nn(t){return Y(t)&&Mn(t)}function Pn(t){return K(t)&&Mn(t.valueOf())}function Bn(t){return Nn(t)||Pn(t)}k(Bn,"isPrimitive",Nn),k(Bn,"isObject",Pn);var Fn=Object.prototype.propertyIsEnumerable;var Un=!Fn.call("beep","0");function kn(t,e){var r;return null!=t&&(!(r=Fn.call(t,e))&&Un&&Ke(t)?!Nn(e=+e)&&ot(e)&&e>=0&&e<t.length:r)}var Yn=In?Ln:function(t){return null!==t&&"object"==typeof t&&!Pt(t)&&"number"==typeof t.length&&nt(t.length)&&t.length>=0&&t.length<=ee&&G(t,"callee")&&!kn(t,"callee")},Cn=Array.prototype.slice;function zn(){}var Dn=kn(zn,"prototype"),Wn=!kn({toString:null},"toString");function Gn(t,e,r){var n,i;if(!We(t)&&!Je(t))throw new TypeError(S("invalid argument. First argument must be an array-like object. Value: `%s`.",t));if(0===(n=t.length))return-1;if(3===arguments.length){if(!ot(r))throw new TypeError(S("invalid argument. Third argument must be an integer. Value: `%s`.",r));if(r>=0){if(r>=n)return-1;i=r}else(i=n+r)<0&&(i=0)}else i=0;if(Bn(e)){for(;i<n;i++)if(Bn(t[i]))return i}else for(;i<n;i++)if(t[i]===e)return i;return-1}function qn(t){return t.constructor&&t.constructor.prototype===t}var Hn=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],Jn="undefined"==typeof window?void 0:window;var Xn=function(){var t;if("undefined"===ar(Jn))return!1;for(t in Jn)try{-1===Gn(Hn,t)&&G(Jn,t)&&null!==Jn[t]&&"object"===ar(Jn[t])&&qn(Jn[t])}catch(t){return!0}return!1}(),$n="undefined"!=typeof window;var Zn,Kn=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];Zn=jn?function(){return 2!==(Vn(arguments)||"").length}(1,2)?function(t){return Yn(t)?Vn(Cn.call(t)):Vn(t)}:Vn:function(t){var e,r,n,i,o,a,u;if(i=[],Yn(t)){for(u=0;u<t.length;u++)i.push(u.toString());return i}if("string"==typeof t){if(t.length>0&&!G(t,"0"))for(u=0;u<t.length;u++)i.push(u.toString())}else{if(!1==(n="function"==typeof t)&&!Ft(t))return i;r=Dn&&n}for(o in t)r&&"prototype"===o||!G(t,o)||i.push(String(o));if(Wn)for(e=function(t){if(!1===$n&&!Xn)return qn(t);try{return qn(t)}catch(t){return!1}}(t),u=0;u<Kn.length;u++)a=Kn[u],e&&"constructor"===a||!G(t,a)||i.push(String(a));return i};var Qn=Zn;k(Rn,"enum",On),function(t,e){var r,n,i;for(r=Qn(e),i=0;i<r.length;i++)U(t,n=r[i],e[n])}(Rn,{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256});var ti=["row-major","column-major"];function ei(){return ti.slice()}var ri=["row-major","column-major"];function ni(){return{"row-major":101,"column-major":102}}k((function(){return ri.slice()}),"enum",ni);var ii={"row-major":101,"column-major":102};function oi(){return{"row-major":ii["row-major"],"column-major":ii["column-major"]}}k(ei,"enum",oi);var ai=["throw","normalize","clamp","wrap"];function ui(){return ai.slice()}function si(){return{throw:1,clamp:2,wrap:3,normalize:4}}k(ui,"enum",si);var fi={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},li=oi(),hi={throw:1,clamp:2,wrap:3,normalize:4};var ci=4294967295,pi=4294967296,gi=new Oe(8),yi=new _n(gi.buffer);function mi(t,e,r,n){var i,o,a;if(0===t){for(a=0;a<gi.length;a++)e[n]=0,n+=r;return e}for(o=(t&ci)>>>0,i=rt(t/pi),pn?(yi.setUint32(0,o,pn),yi.setUint32(4,i,pn)):(yi.setUint32(0,i,pn),yi.setUint32(4,o,pn)),a=0;a<gi.length;a++)e[n]=gi[a],n+=r;return e}k((function(t){var e,r,n,i;return e=new Oe(8),0===t||(i=(4294967295&t)>>>0,n=rt(t/4294967296),r=new _n(e.buffer),pn?(r.setUint32(0,i,pn),r.setUint32(4,n,pn)):(r.setUint32(0,n,pn),r.setUint32(4,i,pn))),e}),"assign",mi);var di={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},vi=oi(),wi={throw:1,clamp:2,wrap:3,normalize:4};function bi(t,e,r,n,i,o){var a,u,s,f,l;if(!(this instanceof bi))return new bi(t,e,r,n,i,o);for(f=1,l=0;l<r.length;l++)f*=r[l];return u=e.BYTES_PER_ELEMENT?e.BYTES_PER_ELEMENT*f:null,this._byteLength=u,this._bytesPerElement=function(t){return Tt[t]||null}(t),this._buffer=e,this._dtype=t,this._length=f,this._ndims=r.length,this._offset=i,this._order=o,this._shape=r,this._strides=n,this._accessors=ct(e.get&&e.set),this._iterationOrder=function(t){var e,r;for(e=0,r=0;r<t.length;r++)t[r]<0&&(e+=1);return 0===e?1:e===t.length?-1:0}(n),a=function(t,e,r,n,i){var o;return 0!==t&&0!==i&&t===(o=rn(e,r,n))[1]-o[0]+1}(f,r,n,i,this._iterationOrder),s=function(t){var e,r,n,i,o,a;if(0===(r=t.length))return 0;for(e=!0,n=!0,i=At(t[0]),a=1;a<r;a++){if(o=At(t[a]),e&&o<i?e=!1:n&&o>i&&(n=!1),!n&&!e)return 0;i=o}return n&&e?3:n?1:2}(n),this._flags={ROW_MAJOR_CONTIGUOUS:en(s,a),COLUMN_MAJOR_CONTIGUOUS:tn(s,a),READONLY:!1},this.__meta_dataview__=null,this}function Ei(t){return t instanceof bi||null!==t&&"object"==typeof t&&"object"==typeof t.data&&"object"==typeof t.shape&&"object"==typeof t.strides&&"number"==typeof t.offset&&"string"==typeof t.order&&"number"==typeof t.ndims&&"string"==typeof t.dtype&&"number"==typeof t.length&&"object"==typeof t.flags&&"function"==typeof t.get&&"function"==typeof t.set}function _i(t){return Ei(t)&&1===t.ndims&&1===t.shape.length&&1===t.strides.length}function Ti(t,e){return e>0?0:(1-t)*e}k(bi,"name","ndarray"),_t(bi.prototype,"byteLength",(function(){return this._byteLength})),_t(bi.prototype,"BYTES_PER_ELEMENT",(function(){return this._bytesPerElement})),_t(bi.prototype,"data",(function(){return this._buffer})),_t(bi.prototype,"dtype",(function(){return this._dtype})),_t(bi.prototype,"flags",(function(){return{ROW_MAJOR_CONTIGUOUS:(t=this._flags).ROW_MAJOR_CONTIGUOUS,COLUMN_MAJOR_CONTIGUOUS:t.COLUMN_MAJOR_CONTIGUOUS,READONLY:t.READONLY};var t})),_t(bi.prototype,"length",(function(){return this._length})),_t(bi.prototype,"ndims",(function(){return this._ndims})),_t(bi.prototype,"offset",(function(){return this._offset})),_t(bi.prototype,"order",(function(){return this._order})),_t(bi.prototype,"shape",(function(){return Qr(this._shape,0,this._shape.length)})),_t(bi.prototype,"strides",(function(){return Qr(this._strides,0,this._strides.length)})),k(bi.prototype,"get",(function(){var t,e;for(t=this._offset,e=0;e<arguments.length;e++)t+=this._strides[e]*arguments[e];return this._accessors?this._buffer.get(t):this._buffer[t]})),k(bi.prototype,"iget",(function(t){var e,r,n,i,o,a;if(0===(n=this._ndims))return this._accessors?this._buffer.get(this._offset):this._buffer[this._offset];if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.get(this._offset+t):this._buffer[this._offset+t];if(-1===this._iterationOrder)return this._accessors?this._buffer.get(this.offset-t):this._buffer[this._offset-t]}if(r=this._shape,e=this._strides,i=this._offset,"column-major"===this._order){for(a=0;a<n;a++)t-=o=t%r[a],t/=r[a],i+=o*e[a];return this._accessors?this._buffer.get(i):this._buffer[i]}for(a=n-1;a>=0;a--)t-=o=t%r[a],t/=r[a],i+=o*e[a];return this._accessors?this._buffer.get(i):this._buffer[i]})),k(bi.prototype,"set",(function(){var t,e;for(t=this._offset,e=0;e<arguments.length-1;e++)t+=this._strides[e]*arguments[e];return this._accessors?this._buffer.set(arguments[e],t):this._buffer[t]=arguments[e],this})),k(bi.prototype,"iset",(function(t,e){var r,n,i,o,a,u;if(0===(i=this._ndims))return this._accessors?this._buffer.set(t,this._offset):this._buffer[this._offset]=t,this;if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.set(e,this._offset+t):this._buffer[this._offset+t]=e,this;if(-1===this._iterationOrder)return this._accessors?this._buffer.set(e,this._offset-t):this._buffer[this._offset-t]=e,this}if(n=this._shape,r=this._strides,o=this._offset,"column-major"===this._order){for(u=0;u<i;u++)t-=a=t%n[u],t/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(e,o):this._buffer[o]=e,this}for(u=i-1;u>=0;u--)t-=a=t%n[u],t/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(e,o):this._buffer[o]=e,this})),k(bi.prototype,"toString",(function(){var t,e,r,n,i,o;if(e=this._shape.length,r="ndarray( '"+(n=this._dtype)+"', ",t="",this._length<=100)if("complex64"===n||"complex128"===n)for(o=0;o<this._length;o++)t+=Ir(i=this.iget(o))+", "+Mr(i),o<this._length-1&&(t+=", ");else for(o=0;o<this._length;o++)t+=this.iget(o),o<this._length-1&&(t+=", ");else{if("complex64"===n||"complex128"===n)for(o=0;o<3;o++)t+=Ir(i=this.iget(o))+", "+Mr(i),o<2&&(t+=", ");else for(o=0;o<3;o++)t+=this.iget(o),o<2&&(t+=", ");if(t+=", ..., ","complex64"===n||"complex128"===n)for(o=2;o>=0;o--)t+=Ir(i=this.iget(this._length-1-o))+", "+Mr(i),o>0&&(t+=", ");else for(o=2;o>=0;o--)t+=this.iget(this._length-1-o),o>0&&(t+=", ")}if(r+=fn(ln[this.dtype],"{{data}}",t),r+=", ",r+=0===e?"[]":"[ "+this._shape.join(", ")+" ]",r+=", ",r+="[ ",0===e)r+="0";else for(o=0;o<e;o++)this._strides[o]<0?r+=-this._strides[o]:r+=this._strides[o],o<e-1&&(r+=", ");return r+=" ]",r+=", ",r+="0",r+=", ",r+="'"+this._order+"'",r+=" )"})),k(bi.prototype,"toJSON",(function(){var t,e,r,n;for(e=this._length,(t={}).type="ndarray",t.dtype=this.dtype,t.flags={READONLY:this._flags.READONLY},t.order=this._order,t.shape=this._shape.slice(),t.strides=this._strides.slice(),n=0;n<t.strides.length;n++)t.strides[n]<0&&(t.strides[n]*=-1);if(t.data=[],"complex64"===t.dtype||"complex128"===t.dtype)for(n=0;n<e;n++)r=this.iget(n),t.data.push(Ir(r),Mr(r));else for(n=0;n<e;n++)t.data.push(this.iget(n));return t})),k(bi.prototype,"__array_meta_dataview__","function"==typeof Et.BigInt&&"function"==typeof BigInt&&"bigint"==typeof Et.BigInt("1")&&"bigint"==typeof BigInt("1")?function(){var t,e,r,n,i,o,a,u,s,f,l,h,c,p;if(s=this._mode||"throw",a=this._submode||[s],r=33+16*(h=this._ndims)+(c=a.length),(u=this.__meta_dataview__)&&u.byteLength===r)return u;for(u=new _n(new dn(r)),i=this._shape,o=this._strides,n=this._dtype,t=this._bytesPerElement,f=0,u.setInt8(f,pn?1:0),f+=1,u.setInt16(f,fi[n],pn),f+=2,u.setBigInt64(f,Tn(h),pn),l=8*h,f+=8,p=0;p<h;p++)u.setBigInt64(f,Tn(i[p]),pn),u.setBigInt64(f+l,Tn(o[p]*t),pn),f+=8;for(f+=l,u.setBigInt64(f,Tn(this._offset*t),pn),f+=8,u.setInt8(f,li[this._order]),f+=1,u.setInt8(f,hi[s]),f+=1,u.setBigInt64(f,Tn(c),pn),f+=8,p=0;p<c;p++)u.setInt8(f,hi[a[p]]),f+=1;return e=0,e|=this._flags.READONLY?4:0,u.setInt32(f,e,pn),this.__meta_dataview__=u,u}:function(){var t,e,r,n,i,o,a,u,s,f,l,h,c,p,g;if(f=this._mode||"throw",u=this._submode||[f],n=33+16*(c=this._ndims)+(p=u.length),(s=this.__meta_dataview__)&&s.byteLength===n)return s;for(s=new _n(new dn(n)),e=new Oe(s.buffer),o=this._shape,a=this._strides,i=this._dtype,t=this._bytesPerElement,l=0,s.setInt8(l,pn?1:0),l+=1,s.setInt16(l,di[i],pn),mi(c,e,1,l+=2),h=8*c,l+=8,g=0;g<c;g++)mi(o[g],e,1,l),mi(a[g]*t,e,1,l+h),l+=8;for(l+=h,mi(this._offset*t,e,1,l),l+=8,s.setInt8(l,vi[this._order]),l+=1,s.setInt8(l,wi[f]),mi(p,e,1,l+=1),l+=8,g=0;g<p;g++)s.setInt8(l,wi[u[g]]),l+=1;return r=0,r|=this._flags.READONLY?4:0,s.setInt32(l,r,pn),this.__meta_dataview__=s,s});var Ai=5;var xi=5;function Ri(t,e,r,n,i,o,a){var u,s,f,l,h,c,p;if(u=0,t<=0)return u;if(l=Zr(e),h=Zr(i),l.accessorProtocol||h.accessorProtocol)return function(t,e,r,n,i,o,a){var u,s,f,l,h,c,p,g,y;if(u=e.data,s=i.data,f=e.accessors[0],l=i.accessors[0],h=0,c=n,p=a,1===r&&1===o){if((g=t%Ai)>0)for(y=0;y<g;y++)h+=f(u,c)*l(s,p),c+=1,p+=1;if(t<Ai)return h;for(y=g;y<t;y+=Ai)h+=f(u,c)*l(s,p)+f(u,c+1)*l(s,p+1)+f(u,c+2)*l(s,p+2)+f(u,c+3)*l(s,p+3)+f(u,c+4)*l(s,p+4),c+=Ai,p+=Ai;return h}for(y=0;y<t;y++)h+=f(u,c)*l(s,p),c+=r,p+=o;return h}(t,l,r,n,h,o,a);if(s=n,f=a,1===r&&1===o){if((c=t%xi)>0)for(p=0;p<c;p++)u+=e[s]*i[f],s+=1,f+=1;if(t<xi)return u;for(p=c;p<t;p+=xi)u+=e[s]*i[f]+e[s+1]*i[f+1]+e[s+2]*i[f+2]+e[s+3]*i[f+3]+e[s+4]*i[f+4],s+=xi,f+=xi;return u}for(p=0;p<t;p++)u+=e[s]*i[f],s+=r,f+=o;return u}k((function(t,e,r,n,i){return Ri(t,e,r,Ti(t,r),n,i,Ti(t,i))}),"ndarray",Ri);function Oi(t,e,r,n,i,o,a,u){var s,f,l,h;if(t<=0||0===e)return o;if(s=i,f=u,1===n&&1===a){if((l=t%4)>0)for(h=0;h<l;h++)o[f]+=e*r[s],s+=n,f+=a;if(t<4)return o;for(h=l;h<t;h+=4)o[f]+=e*r[s],o[f+1]+=e*r[s+1],o[f+2]+=e*r[s+2],o[f+3]+=e*r[s+3],s+=4,f+=4;return o}for(h=0;h<t;h++)o[f]+=e*r[s],s+=n,f+=a;return o}k((function(t,e,r,n,i,o){var a,u,s,f;if(t<=0||0===e)return i;if(1===n&&1===o){if((s=t%4)>0)for(f=0;f<s;f++)i[f]+=e*r[f];if(t<4)return i;for(f=s;f<t;f+=4)i[f]+=e*r[f],i[f+1]+=e*r[f+1],i[f+2]+=e*r[f+2],i[f+3]+=e*r[f+3];return i}for(a=n<0?(1-t)*n:0,u=o<0?(1-t)*o:0,f=0;f<t;f++)i[u]+=e*r[a],a+=n,u+=o;return i}),"ndarray",Oi);var Vi=8;function Si(t,e,r,n,i,o,a){var u,s,f,l;if(t<=0)return i;if(u=n,s=a,1===r&&1===o){if((f=t%Vi)>0)for(l=0;l<f;l++)i[s]=e[u],u+=r,s+=o;if(t<Vi)return i;for(l=f;l<t;l+=Vi)i[s]=e[u],i[s+1]=e[u+1],i[s+2]=e[u+2],i[s+3]=e[u+3],i[s+4]=e[u+4],i[s+5]=e[u+5],i[s+6]=e[u+6],i[s+7]=e[u+7],u+=Vi,s+=Vi;return i}for(l=0;l<t;l++)i[s]=e[u],u+=r,s+=o;return i}function ji(t,e,r,n,i){return t<=0?n:Si(t,e,r,Ti(t,r),n,i,Ti(t,i))}k(ji,"ndarray",Si);var Li=5;function Ii(t,e,r,n,i){var o,a,u;if(t<=0||1===e)return r;if(o=i,1===n){if((a=t%Li)>0)for(u=0;u<a;u++)r[o]*=e,o+=n;if(t<Li)return r;for(u=a;u<t;u+=Li)r[o]*=e,r[o+1]*=e,r[o+2]*=e,r[o+3]*=e,r[o+4]*=e,o+=Li;return r}for(u=0;u<t;u++)r[o]*=e,o+=n;return r}function Mi(t,e,r,n){return Ii(t,e,r,n,Ti(t,n))}function Ni(t,e){return Mn(t)||Mn(e)?NaN:t===tt||e===tt?tt:t===e&&0===t?function(t){return 0===t&&1/t===tt}(t)?t:e:t>e?t:e}k(Mi,"ndarray",Ii);var Pi=Math.ceil;function Bi(t){return t<0?Pi(t):rt(t)}var Fi=1023,Ui=1023,ki=-1023,Yi=-1074;function Ci(t){return t===tt||t===et}var zi,Di,Wi=2147483648,Gi=2147483647;!0===pn?(zi=1,Di=0):(zi=0,Di=1);var qi={HIGH:zi,LOW:Di},Hi=new Ht(1),Ji=new oe(Hi.buffer),Xi=qi.HIGH,$i=qi.LOW;function Zi(t,e,r,n){return Hi[0]=t,e[n]=Ji[Xi],e[n+r]=Ji[$i],e}function Ki(t){return Zi(t,[0,0],1,0)}k(Ki,"assign",Zi);var Qi,to,eo=!0===pn?1:0,ro=new Ht(1),no=new oe(ro.buffer);function io(t){return ro[0]=t,no[eo]}!0===pn?(Qi=1,to=0):(Qi=0,to=1);var oo={HIGH:Qi,LOW:to},ao=new Ht(1),uo=new oe(ao.buffer),so=oo.HIGH,fo=oo.LOW;function lo(t,e){return uo[so]=t,uo[fo]=e,ao[0]}var ho=[0,0];function co(t,e){var r,n;return Ki.assign(t,ho,1,0),r=ho[0],r&=Gi,n=io(e),lo(r|=n&=Wi,ho[1])}var po=22250738585072014e-324,go=4503599627370496;function yo(t,e,r,n){return Mn(t)||Ci(t)?(e[n]=t,e[n+r]=0,e):0!==t&&At(t)<po?(e[n]=t*go,e[n+r]=-52,e):(e[n]=t,e[n+r]=0,e)}k((function(t){return yo(t,[0,0],1,0)}),"assign",yo);var mo=2146435072;var vo=2220446049250313e-31,wo=2148532223,bo=[0,0],Eo=[0,0];function _o(t,e){var r,n;return 0===e||0===t||Mn(t)||Ci(t)?t:(yo(t,bo,1,0),t=bo[0],e+=bo[1],e+=function(t){var e=io(t);return(e=(e&mo)>>>20)-Fi|0}(t),e<Yi?co(0,t):e>Ui?t<0?et:tt:(e<=ki?(e+=52,n=vo):n=1,Ki.assign(t,Eo,1,0),r=Eo[0],r&=wo,n*lo(r|=e+Fi<<20,Eo[1])))}var To=.6931471803691238,Ao=1.9082149292705877e-10,xo=1.4426950408889634,Ro=709.782712893384,Oo=-745.1332191019411,Vo=1/(1<<28),So=-Vo;function jo(t){var e;return Mn(t)||t===tt?t:t===et?0:t>Ro?tt:t<Oo?0:t>So&&t<Vo?1+t:function(t,e,r){var n,i,o,a;return _o(1-(e-(n=t-e)*(o=n-(i=n*n)*(0===(a=i)?.16666666666666602:.16666666666666602+a*(a*(6613756321437934e-20+a*(4.1381367970572385e-8*a-16533902205465252e-22))-.0027777777777015593)))/(2-o)-t),r)}(t-(e=Bi(t<0?xo*t-.5:xo*t+.5))*To,e*Ao,e)}function Lo(t){return gr(t>0?t-1:t+1)}var Io=Math.sqrt,Mo=!0===pn?0:1,No=new Ht(1),Po=new oe(No.buffer);function Bo(t,e){return No[0]=t,Po[Mo]=e>>>0,No[0]}function Fo(t){return 0|t}var Uo=1072693247,ko=1e300,Yo=1e-300;var Co=!0===pn?1:0,zo=new Ht(1),Do=new oe(zo.buffer);function Wo(t,e){return zo[0]=t,Do[Co]=e>>>0,zo[0]}var Go=20;var qo=1048575,Ho=1048576,Jo=1072693248,Xo=536870912,$o=524288,Zo=9007199254740992,Ko=.9617966939259756,Qo=.9617967009544373,ta=-7.028461650952758e-9,ea=[1,1.5],ra=[0,.5849624872207642],na=[0,1.350039202129749e-8];var ia=1.4426950408889634,oa=1.4426950216293335,aa=1.9259629911266175e-8;var ua=.6931471805599453,sa=1048575;var fa=1048576,la=1071644672,ha=.6931471824645996,ca=-1.904654299957768e-9;var pa=1072693247,ga=1105199104,ya=1139802112,ma=1083179008,da=1072693248,va=1083231232,wa=3230714880,ba=31,Ea=1e300,_a=1e-300,Ta=8008566259537294e-32,Aa=[0,0],xa=[0,0];function Ra(t,e){var r,n,i,o,a,u,s,f,l,h,c,p,g,y;if(Mn(t)||Mn(e))return NaN;if(Ki.assign(e,Aa,1,0),a=Aa[0],0===Aa[1]){if(0===e)return 1;if(1===e)return t;if(-1===e)return 1/t;if(.5===e)return Io(t);if(-.5===e)return 1/Io(t);if(2===e)return t*t;if(3===e)return t*t*t;if(4===e)return(t*=t)*t;if(Ci(e))return function(t,e){return-1===t?(t-t)/(t-t):1===t?1:At(t)<1==(e===tt)?0:tt}(t,e)}if(Ki.assign(t,Aa,1,0),o=Aa[0],0===Aa[1]){if(0===o)return function(t,e){return e===et?tt:e===tt?0:e>0?Lo(e)?t:0:Lo(e)?co(tt,t):tt}(t,e);if(1===t)return 1;if(-1===t&&Lo(e))return-1;if(Ci(t))return t===et?Ra(-0,-e):e<0?0:tt}if(t<0&&!1===nt(e))return(t-t)/(t-t);if(i=At(t),r=o&Gi|0,n=a&Gi|0,s=a>>>ba|0,u=(u=o>>>ba|0)&&Lo(e)?-1:1,n>ga){if(n>ya)return function(t,e){return(io(t)&Gi)<=Uo?e<0?ko*ko:Yo*Yo:e>0?ko*ko:Yo*Yo}(t,e);if(r<pa)return 1===s?u*Ea*Ea:u*_a*_a;if(r>da)return 0===s?u*Ea*Ea:u*_a*_a;c=function(t,e){var r,n,i,o,a,u,s;return o=(i=e-1)*i*(0===(s=i)?.5:.5+s*(.25*s-.3333333333333333)),r=(u=i*aa-o*ia)-((n=Bo(n=(a=oa*i)+u,0))-a),t[0]=n,t[1]=r,t}(xa,i)}else c=function(t,e,r){var n,i,o,a,u,s,f,l,h,c,p,g,y,m,d,v,w,b,E,_,T;return b=0,r<Ho&&(b-=53,r=io(e*=Zo)),b+=(r>>Go)-Fi|0,r=(E=r&qo|0)|Jo|0,E<=235662?_=0:E<767610?_=1:(_=0,b+=1,r-=Ho),a=Bo(i=(v=(e=Wo(e,r))-(f=ea[_]))*(w=1/(e+f)),0),n=(r>>1|Xo)+$o,s=Wo(0,n+=_<<18),d=(o=i*i)*o*(0===(T=o)?.5999999999999946:.5999999999999946+T*(.4285714285785502+T*(.33333332981837743+T*(.272728123808534+T*(.23066074577556175+.20697501780033842*T))))),s=Bo(s=3+(o=a*a)+(d+=(u=w*(v-a*s-a*(e-(s-f))))*(a+i)),0),h=Bo(h=(v=a*s)+(w=u*s+(d-(s-3-o))*i),0),c=Qo*h,y=(p=ta*h+(w-(h-v))*Ko+na[_])-((g=Bo(g=c+p+(l=ra[_])+(m=b),0))-m-l-c),t[0]=g,t[1]=y,t}(xa,i,r);if(p=(h=(e-(f=Bo(e,0)))*c[0]+e*c[1])+(l=f*c[0]),Ki.assign(p,Aa,1,0),g=Fo(Aa[0]),y=Fo(Aa[1]),g>=ma){if(0!=(g-ma|y))return u*Ea*Ea;if(h+Ta>p-l)return u*Ea*Ea}else if((g&Gi)>=va){if(0!=(g-wa|y))return u*_a*_a;if(h<=p-l)return u*_a*_a}return p=function(t,e,r){var n,i,o,a,u,s,f,l,h,c;return h=((l=t&Gi|0)>>Go)-Fi|0,f=0,l>la&&(i=Wo(0,((f=t+(fa>>h+1)>>>0)&~(sa>>(h=((f&Gi)>>Go)-Fi|0)))>>>0),f=(f&sa|fa)>>Go-h>>>0,t<0&&(f=-f),e-=i),t=Fo(t=io(s=1-((s=(o=(i=Bo(i=r+e,0))*ha)+(a=(r-(i-e))*ua+i*ca))*(n=s-(i=s*s)*(0===(c=i)?.16666666666666602:.16666666666666602+c*(c*(6613756321437934e-20+c*(4.1381367970572385e-8*c-16533902205465252e-22))-.0027777777777015593)))/(n-2)-((u=a-(s-o))+s*u)-s))),(t+=f<<Go>>>0)>>Go<=0?_o(s,f):Wo(s,t)}(g,l,h),u*p}function Oa(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length&&nt(t.length)&&t.length>=0&&t.length<=Ce}function Va(t){if("function"!=typeof t)throw new TypeError(S("invalid argument. Must provide a function. Value: `%s`.",t));return function(e){var r,n;if(!Oa(e))return!1;if(0===(r=e.length))return!1;for(n=0;n<r;n++)if(!1===t(e[n]))return!1;return!0}}var Sa=Va(Ye.isPrimitive),ja=Va(Ye.isObject),La=Va(Ye);k(La,"primitives",Sa),k(La,"objects",ja);var Ia=Va(ut.isPrimitive),Ma=Va(ut.isObject),Na=Va(ut);function Pa(t){var e,r,n;if(!We(t))throw new TypeError(S("invalid argument. Must provide an array-like object. Value: `%s`.",t));return n=$r(t),Rt(t)&&(e=It(n)),r=t.length,void 0===e?function(e){var n;for(n=0;n<r;n++)if(t[n]===e)return!0;return!1}:function(n){var i;for(i=0;i<r;i++)if(e(t,i)===n)return!0;return!1}}k(Na,"primitives",Ia),k(Na,"objects",Ma),k((function(t,e){var r,n,i,o;for(i=$r(t),n=Rt(t)?It(i):Vt(i),r=t.length,o=0;o<r;o++)if(n(t,o)===e)return!0;return!1}),"factory",Pa);var Ba=Pa(ei()),Fa=Pa(Rn());function Ua(t){var e,r,n;if(0===(e=t.length))return 0;for(r=1,n=0;n<e;n++)r*=t[n];return r}function ka(){return{dtypes:{default:"float64",numeric:"float64",real:"float64",floating_point:"float64",real_floating_point:"float64",complex_floating_point:"complex128",integer:"int32",signed_integer:"int32",unsigned_integer:"uint32",boolean:"bool",index:"int32",integer_index:"int32",boolean_index:"bool",mask_index:"uint8"},order:"row-major",casting:"safe",index_mode:"throw"}}var Ya={dtypes:{default:"float64",numeric:"float64",real:"float64",floating_point:"float64",real_floating_point:"float64",complex_floating_point:"complex128",integer:"int32",signed_integer:"int32",unsigned_integer:"uint32",boolean:"bool",index:"int32",integer_index:"int32",boolean_index:"bool",mask_index:"uint8"},order:"row-major",casting:"safe",index_mode:"throw"},Ca={"dtypes.default":Ya.dtypes.default,"dtypes.numeric":Ya.dtypes.numeric,"dtypes.real":Ya.dtypes.real,"dtypes.floating_point":Ya.dtypes.floating_point,"dtypes.real_floating_point":Ya.dtypes.real_floating_point,"dtypes.complex_floating_point":Ya.dtypes.complex_floating_point,"dtypes.integer":Ya.dtypes.integer,"dtypes.signed_integer":Ya.dtypes.signed_integer,"dtypes.unsigned_integer":Ya.dtypes.unsigned_integer,"dtypes.boolean":Ya.dtypes.boolean,"dtypes.index":Ya.dtypes.index,"dtypes.integer_index":Ya.dtypes.integer_index,"dtypes.boolean_index":Ya.dtypes.boolean_index,"dtypes.mask_index":Ya.dtypes.mask_index,order:Ya.order,casting:Ya.casting,index_mode:Ya.index_mode};function za(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e?new TypeError(S("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `%s`.",t)):null}k(ka,"get",(function(t){var e=Ca[t];return void 0===e?null:e}));var Da=Object.create;function Wa(){}var Ga="function"==typeof Da?Da:function(t){return Wa.prototype=t,new Wa};function qa(t,e){return t<0?0:t>e?e:t}function Ha(t,e){var r=e+1;return t<0?((t+=r)<0&&0!==(t%=r)&&(t+=r),t):t>e?((t-=r)>e&&(t%=r),t):t}function Ja(t,e){return t<0?(t+=e+1)<0?-1:t:t>e?-1:t}var Xa=Pa(ui()),$a={wrap:Ha,clamp:qa,normalize:function(t,e){var r=Ja(t,e);if(r<0||r>e)throw new RangeError(S("invalid argument. Index must resolve to a value on the interval: [0, %d]. Value: `%d`.",e,t));return r},throw:function(t,e){if(t<0||t>e)throw new RangeError(S("invalid argument. Index must resolve to a value on the interval: [0, %d]. Value: `%d`.",e,t));return t}};function Za(t,e,r){var n;if("clamp"===r)return qa(t,e);if("wrap"===r)return Ha(t,e);if(n=t,"normalize"===r&&(n=Ja(n,e)),n<0||n>e)throw new RangeError(S("invalid argument. Index must resolve to a value on the interval: [0, %d]. Value: `%d`.",e,t));return n}k(Za,"factory",(function(t){if(!Xa(t))throw new TypeError(S("invalid argument. First argument must be a recognized index mode. Value: `%s`.",t));return $a[t]}));var Ka=bi.prototype.iget;var Qa=bi.prototype.iset;function tu(t,e){var r,n;for(r=[],n=0;n<e;n++)r.push(t[n]);return r}var eu,ru=Object,nu=Object.getPrototypeOf;eu=ur(Object.getPrototypeOf)?nu:function(t){var e=function(t){return t.__proto__}(t);return e||null===e?e:"[object Function]"===J(t.constructor)?t.constructor.prototype:t instanceof ru?ru.prototype:null};var iu=eu;function ou(t){return null==t?null:(t=ru(t),iu(t))}var au=Object.prototype;function uu(t){var e;return!!He(t)&&(!(e=ou(t))||!G(t,"constructor")&&G(e,"constructor")&&ur(e.constructor)&&"[object Function]"===J(e.constructor)&&G(e,"isPrototypeOf")&&ur(e.isPrototypeOf)&&(e===au||function(t){var e;for(e in t)if(!G(t,e))return!1;return!0}(t)))}var su=32767,fu=ka.get("index_mode"),lu=!1;function hu(t,e,r,n,i,o,a){var u,s,f,l,h;if(!(this instanceof hu))return arguments.length<7?new hu(t,e,r,n,i,o):new hu(t,e,r,n,i,o,a);if(!Fa(t))throw new TypeError(S("invalid argument. First argument must be a supported ndarray data type. Value: `%s`.",t));if(!We(e))throw new TypeError(S("invalid argument. Second argument must be an array-like object, typed-array-like, or a Buffer. Value: `%s`.",e));if(e.get&&e.set&&(!ur(e.get)||!ur(e.set)))throw new TypeError(S("invalid argument. Second argument `get` and `set` properties must be functions. Value: `%s`.",e));if(!Sa(r)&&(!We(r)||r.length>0))throw new TypeError(S("invalid argument. Third argument must be an array-like object containing nonnegative integers. Value: `%s`.",r));if((u=r.length)>su)throw new RangeError(S("invalid argument. Number of dimensions must not exceed %u due to stack limits. Value: `%u`.",su,u));if(!Ia(n))throw new TypeError(S("invalid argument. Fourth argument must be an array-like object containing integers. Value: `%s`.",n));if(u>0){if(n.length!==u)throw new RangeError(S("invalid argument. Fourth argument length must match the number of dimensions. Expected number of dimensions: `%u`. Strides length: `%u`.",u,n.length))}else{if(1!==n.length)throw new RangeError("invalid argument. Fourth argument length must be equal to 1 when creating a zero-dimensional ndarray.");if(0!==n[0])throw new RangeError(S("invalid argument. Fourth argument must contain a single element equal to 0. Value: `%d`.",n[0]))}if(!Ue(i))throw new TypeError(S("invalid argument. Fifth argument must be a nonnegative integer. Value: `%s`.",i));if(!Ba(o))throw new TypeError(S("invalid argument. Sixth argument must be a supported order. Value: `%s`.",o));if(u>0&&!function(t,e,r,n){var i=rn(e,r,n);return i[0]>=0&&i[1]<t}(e.length,r,n,i)&&Ua(r)>0)throw new Error("invalid arguments. Input buffer is incompatible with the specified meta data. Ensure that the offset is valid with regard to the strides array and that the buffer has enough elements to satisfy the desired array shape.");if((s={}).mode=fu,s.readonly=lu,arguments.length>6&&(f=function(t,e){var r;if(!uu(e))return new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",e));if(G(e,"mode")&&(t.mode=e.mode,!Xa(t.mode)))return new TypeError(S("invalid option. `%s` option must be a recognized mode. Option: `%s`.","mode",t.mode));if(G(e,"submode")){if(t.submode=e.submode,!ze(t.submode))return new TypeError(S("invalid option. `%s` option must be an array containing recognized modes. Option: `%s`.","submode",t.submode));if(0===t.submode.length)return new TypeError(S("invalid option. `%s` option must be an array containing recognized modes. Option: `%s`.","submode",t.submode.join(",")));for(r=0;r<t.submode.length;r++)if(!Xa(t.submode[r]))return new TypeError(S("invalid option. Each submode must be a recognized mode. Option: `%s`.",t.submode[r]));t.submode=t.submode.slice()}return G(e,"readonly")&&(t.readonly=e.readonly,!ht(t.readonly))?new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","readonly",t.readonly)):null}(s,a),f))throw f;return this._mode=s.mode,void 0===s.submode&&(s.submode=[this._mode]),this._submode=s.submode,l=tu(r,u),h=tu(n,u||1),bi.call(this,t,e,l,h,i,o),this._flags.READONLY=s.readonly,this}function cu(t,e){return"column-major"===e?function(t){var e,r,n;for(e=[],r=1,n=0;n<t.length;n++)e.push(r),r*=t[n];return e}(t):function(t){var e,r,n,i;for(e=t.length,r=[],i=0;i<e;i++)r.push(0);for(n=1,i=e-1;i>=0;i--)r[i]=n,n*=t[i];return r}(t)}function pu(t,e,r,n,i,o){var a,u,s,f,l;for(a=t.length,u=1,l=0;l<a;l++)u*=t[l];if("clamp"===o)i<0?i=0:i>=u&&(i=u-1);else if("wrap"===o)i<0?(i+=u)<0&&0!==(i%=u)&&(i+=u):i>=u&&(i-=u)>=u&&(i%=u);else if("normalize"===o&&i<0&&(i+=u),i<0||i>=u)throw new RangeError(S("invalid argument. Linear index must not exceed array dimensions. Number of array elements: `%u`. Value: `%d`.",u,i));if(s=r,"column-major"===n){for(l=0;l<a;l++)i-=f=i%t[l],i/=t[l],s+=f*e[l];return s}for(l=a-1;l>=0;l--)i-=f=i%t[l],i/=t[l],s+=f*e[l];return s}!function(t,e){var r=za(t);if(r)throw r;if(r=za(e))throw r;if(void 0===e.prototype)throw new TypeError(S("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `%s`.",e.prototype));t.prototype=Ga(e.prototype),F(t.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:t})}(hu,bi),k(hu,"name","ndarray"),k(hu.prototype,"get",(function(){var t,e,r,n;if(arguments.length!==this._ndims)throw new RangeError(S("invalid arguments. Number of indices must match the number of dimensions. ndims: `%u`. nargs: `%u`.",this._ndims,arguments.length));for(t=this._offset,r=this._submode.length,n=0;n<arguments.length;n++){if(!ot(arguments[n]))throw new TypeError(S("invalid argument. Indices must be integer valued. Argument: `%u`. Value: `%s`.",n,arguments[n]));e=Za(arguments[n],this._shape[n]-1,this._submode[n%r]),t+=this._strides[n]*e}return this._accessors?this._buffer.get(t):this._buffer[t]})),k(hu.prototype,"iget",(function(t){if(this._ndims>0){if(!ot(t))throw new TypeError(S("invalid argument. Index must be an integer. Value: `%s`.",t));return t=Za(t,this._length-1,this._mode),Ka.call(this,t)}return Ka.call(this)})),k(hu.prototype,"set",(function(){var t,e,r,n;if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(arguments.length!==this._ndims+1)throw new RangeError(S("invalid arguments. Number of indices must match the number of dimensions. ndims: `%u`. nargs: `%u`.",this._ndims,arguments.length));for(t=this._offset,r=this._submode.length,n=0;n<arguments.length-1;n++){if(!ot(arguments[n]))throw new TypeError(S("invalid argument. Indices must be integer valued. Argument: `%i`. Value: `%s`.",n,arguments[n]));e=Za(arguments[n],this._shape[n]-1,this._submode[n%r]),t+=this._strides[n]*e}return this._accessors?this._buffer.set(arguments[n],t):this._buffer[t]=arguments[n],this})),k(hu.prototype,"iset",(function(t,e){if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(this._ndims>0){if(!ot(t))throw new TypeError(S("invalid argument. Index must be an integer. Value: `%s`.",t));t=Za(t,this._length-1,this._mode),Qa.call(this,t,e)}else Qa.call(this,t);return this})),k(cu,"assign",(function(t,e,r){return"column-major"===e?function(t,e){var r,n;for(r=1,n=0;n<t.length;n++)e[n]=r,r*=t[n];return e}(t,r):function(t,e){var r,n;for(r=1,n=t.length-1;n>=0;n--)e[n]=r,r*=t[n];return e}(t,r)}));var gu={basic:"_basicLearningRate",constant:"_constantLearningRate",invscaling:"_inverseScalingLearningRate",pegasos:"_pegasosLearningRate"},yu={hinge:"_hingeLoss",log:"_logLoss",modifiedHuber:"_modifiedHuberLoss",perceptron:"_perceptronLoss",squaredHinge:"_squaredHingeLoss"};function mu(t,e){var r;return this._N=t,this._opts=e,this._scaleFactor=1,this._t=0,this._learningRateMethod=gu[e.learningRate[0]],this._lossMethod=yu[e.loss],r=t,e.intercept&&(r+=1),this._weights=new Ht(r),this._coefficients=new hu("float64",new Ht(r),[r],[1],0,"row-major"),this}k(mu.prototype,"_add",(function(t,e){var r=e/this._scaleFactor,n=this._weights;return Oi(t.shape[0],r,t.data,t.strides[0],t.offset,n,1,0),this._opts.intercept&&(n[this._N]+=r),this})),k(mu.prototype,"_basicLearningRate",(function(){return 10/(10+this._t)})),k(mu.prototype,"_constantLearningRate",(function(){return this._opts.learningRate[1]})),k(mu.prototype,"_dot",(function(t,e,r){var n=Ri(this._N,this._weights,1,0,t,e,r);return this._opts.intercept&&(n+=this._weights[this._N]),n*=this._scaleFactor})),k(mu.prototype,"_hingeLoss",(function(t,e){var r;return r=this[this._learningRateMethod](),this._regularize(r),e*this._dot(t.data,t.strides[0],t.offset)<1&&this._add(t,e*r),this})),k(mu.prototype,"_inverseScalingLearningRate",(function(){var t=this._opts.learningRate;return t[1]/Ra(this._t,t[2])})),k(mu.prototype,"_logLoss",(function(t,e){var r,n;return n=this[this._learningRateMethod](),this._regularize(n),r=e/(1+jo(e*this._dot(t.data,t.strides[0],t.offset))),this._add(t,n*r),this})),k(mu.prototype,"_modifiedHuberLoss",(function(t,e){var r,n;return r=this[this._learningRateMethod](),this._regularize(r),(n=e*this._dot(t.data,t.strides[0],t.offset))<-1?this._add(t,4*r*e):this._add(t,r*(e-n*e)),this})),k(mu.prototype,"_pegasosLearningRate",(function(){return 1/(this._opts.lambda*this._t)})),k(mu.prototype,"_perceptronLoss",(function(t,e){var r;return r=this[this._learningRateMethod](),this._regularize(r),e*this._dot(t.data,t.strides[0],t.offset)<=0&&this._add(t,e*r),this})),k(mu.prototype,"_regularize",(function(t){var e=this._opts.lambda;return e<=0||this._scale(Ni(1-t*e,1e-7)),this})),k(mu.prototype,"_scale",(function(t){var e;if(t<=0)throw new RangeError(S("invalid argument. Attempting to scale a weight vector by a nonpositive value. This is likely due to too large a value of eta * lambda. Value: `%f`.",t));return(e=this._scaleFactor)<1e-11&&(Mi(this._N,e,this._weights,1),this._scaleFactor=1),this._scaleFactor*=t,this})),k(mu.prototype,"_squaredHingeLoss",(function(t,e){var r,n;return r=this[this._learningRateMethod](),this._regularize(r),(n=e*this._dot(t.data,t.strides[0],t.offset))<1&&this._add(t,r*(e-n*e)),this})),_t(mu.prototype,"coefficients",(function(){var t=this._coefficients.data,e=this._weights;return ji(e.length,e,1,t,1),Mi(this._N,this._scaleFactor,t,1),this._coefficients})),_t(mu.prototype,"nfeatures",(function(){return this._N})),k(mu.prototype,"predict",(function(t,e){var r,n,i,o,a,u,s,f,l,h,c,p,g,y,m,d,v;for(n=t.data,o=t.shape,l=t.strides,c=t.offset,u=t.order,r=o.length-1,a=[],d=0;d<r;d++)a.push(o[d]);for(0===r?(p=1,i=new Ht(1),h=[0]):(p=Ua(a),i=new Ht(p),h=cu(a,u)),y=new hu("int8",i,a,h,0,u),g=this._N,f=l[r],d=0;d<p;d++)s=pu(o,l,c,u,d*g,"throw"),m=this._dot(n,f,s),"label"===e?m=m>0?1:-1:"probability"===e&&(m=Mn(v=m)?v:1/(1+jo(-v))),0===r?y.iset(m):y.iset(d,m);return y})),k(mu.prototype,"update",(function(t,e){return this._t+=1,this[this._lossMethod](t,e)}));var du={basic:["basic"],constant:["constant",.02],invscaling:["invscaling",.02,.5],pegasos:["pegasos"]};function vu(t){return Y(t)&&t>=0}function wu(t){return K(t)&&t.valueOf()>=0}function bu(t){return vu(t)||wu(t)}function Eu(t){return Y(t)&&t>0}function _u(t){return K(t)&&t.valueOf()>0}function Tu(t){return Eu(t)||_u(t)}k(bu,"isPrimitive",vu),k(bu,"isObject",wu),k(Tu,"isPrimitive",Eu),k(Tu,"isObject",_u);var Au=["basic","constant","invscaling","pegasos"],xu=["hinge","log","modifiedHuber","perceptron","squaredHinge"],Ru=Pa(Au),Ou=Pa(xu);function Vu(t){return Ei(t)&&2===t.ndims&&2===t.shape.length&&2===t.strides.length}function Su(t,e,r,n){F(t,e,{configurable:!1,enumerable:!1,get:r,set:n})}function ju(t,e,r,n,i,o,a){var u,s,f,l,h,c,p;for(u=e.data,s=i.data,l=e.accessors[0],f=i.accessors[1],h=n,c=a,p=0;p<t;p++)f(s,c,l(u,h)),h+=r,c+=o;return e}var Lu=8;function Iu(t,e,r,n,i){var o,a,u,s,f,l;if(t<=0)return n;if(u=Zr(e),s=Zr(n),u.accessorProtocol||s.accessorProtocol)return ju(t,u,r,o=r<0?(1-t)*r:0,s,i,a=i<0?(1-t)*i:0),s.data;if(1===r&&1===i){if((f=t%Lu)>0)for(l=0;l<f;l++)n[l]=e[l];if(t<Lu)return n;for(l=f;l<t;l+=Lu)n[l]=e[l],n[l+1]=e[l+1],n[l+2]=e[l+2],n[l+3]=e[l+3],n[l+4]=e[l+4],n[l+5]=e[l+5],n[l+6]=e[l+6],n[l+7]=e[l+7];return n}for(o=r<0?(1-t)*r:0,a=i<0?(1-t)*i:0,l=0;l<t;l++)n[a]=e[o],o+=r,a+=i;return n}var Mu=8;function Nu(t,e,r,n,i,o,a){var u,s,f,l,h,c;if(t<=0)return i;if(f=Zr(e),l=Zr(i),f.accessorProtocol||l.accessorProtocol)return ju(t,f,r,n,l,o,a),l.data;if(u=n,s=a,1===r&&1===o){if((h=t%Mu)>0)for(c=0;c<h;c++)i[s]=e[u],u+=r,s+=o;if(t<Mu)return i;for(c=h;c<t;c+=Mu)i[s]=e[u],i[s+1]=e[u+1],i[s+2]=e[u+2],i[s+3]=e[u+3],i[s+4]=e[u+4],i[s+5]=e[u+5],i[s+6]=e[u+6],i[s+7]=e[u+7],u+=Mu,s+=Mu;return i}for(c=0;c<t;c++)i[s]=e[u],u+=r,s+=o;return i}function Pu(){}k(Iu,"ndarray",Nu);var Bu="foo"===Pu.name;var Fu=[Ht,Kt,ce,oe,_e,de,Fe,Oe,Ie],Uu=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],ku=Gt()?ou(Ht):Yu;function Yu(){}function Cu(t){var e,r;if("object"!=typeof t||null===t)return!1;if(t instanceof ku)return!0;for(r=0;r<Fu.length;r++)if(t instanceof Fu[r])return!0;for(;t;){for(e=Ct(t),r=0;r<Uu.length;r++)if(Uu[r]===e)return!0;t=ou(t)}return!1}ku="TypedArray"===function(t){if(!1===ur(t))throw new TypeError(S("invalid argument. Must provide a function. Value: `%s`.",t));return Bu?t.name:Yt.exec(t.toString())[1]}(ku)?ku:Yu;var zu=[Yr,Lr],Du=["Complex64Array","Complex128Array"];function Wu(t,e){if("function"!=typeof e)throw new TypeError(S("invalid argument. Second argument must be callable. Value: `%s`.",e));return t instanceof e}var Gu=[[Ht,"Float64Array"],[Kt,"Float32Array"],[ce,"Int32Array"],[oe,"Uint32Array"],[_e,"Int16Array"],[de,"Uint16Array"],[Fe,"Int8Array"],[Oe,"Uint8Array"],[Ie,"Uint8ClampedArray"],[Lr,"Complex64Array"],[Yr,"Complex128Array"],[qr,"BooleanArray"]];function qu(t){var e,r;for(r=0;r<Gu.length;r++)if(Wu(t,Gu[r][0]))return Gu[r][1];for(;t;){for(e=Ct(t),r=0;r<Gu.length;r++)if(e===Gu[r][1])return Gu[r][1];t=ou(t)}}function Hu(t){var e,r,n,i,o,a;if(Cu(t))e=t;else if(function(t){var e,r;if("object"!=typeof t||null===t)return!1;for(r=0;r<zu.length;r++)if(t instanceof zu[r])return!0;for(;t;){for(e=Ct(t),r=0;r<Du.length;r++)if(Du[r]===e)return!0;t=ou(t)}return!1}(t))e=8===t.BYTES_PER_ELEMENT?Tr(t,0):Ar(t,0);else{if(!((a=t)instanceof qr||"BooleanArray"===Ct(a)))throw new TypeError(S("invalid argument. Must provide a typed array. Value: `%s`.",t));o=0,e=new Oe((i=t).buffer,i.byteOffset+i.BYTES_PER_ELEMENT*o,i.length-o)}for(r={type:qu(t),data:[]},n=0;n<e.length;n++)r.data.push(e[n]);return r}var Ju=8;function Xu(t,e,r){var n;for(n=0;n<Ju;n++)if(Mn(t()))throw new Error("unexpected error. PRNG returned NaN.");for(n=r-1;n>=0;n--)e[n]=t();return e}var $u=2147483646;function Zu(){return 0|rt(1+$u*Math.random())}var Ku=2147483646,Qu=32,ts=1,es=3,rs=2,ns=Qu+3,is=Qu+6,os=Qu+7,as=ns+1,us=ns+2;function ss(t,e){var r;return r=e?"option":"argument",t.length<os+1?new RangeError(S("invalid %s. State array has insufficient length.",r)):t[0]!==ts?new RangeError(S("invalid %s. State array has an incompatible schema version. Expected: `%s`. Actual: `%s`.",r,ts,t[0])):t[1]!==es?new RangeError(S("invalid %s. State array has an incompatible number of sections. Expected: `%s`. Actual: `%s`.",r,es,t[1])):t[rs]!==Qu?new RangeError(S("invalid %s. State array has an incompatible table length. Expected: `%s`. Actual: `%s`.",r,Qu,t[rs])):2!==t[ns]?new RangeError(S("invalid %s. State array has an incompatible state length. Expected: `%u`. Actual: `%u`.",r,2,t[ns])):t[is]!==t.length-os?new RangeError(S("invalid %s. State array length is incompatible with seed section length. Expected: `%u`. Actual: `%u`.",r,t.length-os,t[is])):null}function fs(t){var e,r,n,i,o,a;if(n={},arguments.length){if(!uu(t))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",t));if(G(t,"copy")&&(n.copy=t.copy,!ht(t.copy)))throw new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",t.copy));if(G(t,"state")){if(r=t.state,n.state=!0,!ue(r))throw new TypeError(S("invalid option. `%s` option must be an Int32Array. Option: `%s`.","state",r));if(a=ss(r,!0))throw a;!1===n.copy?e=r:(e=new ce(r.length),Iu(r.length,r,1,e,1)),r=new ce(e.buffer,e.byteOffset+(rs+1)*e.BYTES_PER_ELEMENT,Qu),i=new ce(e.buffer,e.byteOffset+(is+1)*e.BYTES_PER_ELEMENT,r[is])}if(void 0===i)if(G(t,"seed"))if(i=t.seed,n.seed=!0,st(i)){if(i>2147483646)throw new RangeError(S("invalid option. `%s` option must be a positive integer less than the maximum signed 32-bit integer. Option: `%u`.","seed",i));i|=0}else{if(!(We(i)&&i.length>0))throw new TypeError(S("invalid option. `%s` option must be either a positive integer less than the maximum signed 32-bit integer or an array-like object containing integer values less than the maximum signed 32-bit integer. Option: `%s`.","seed",i));o=i.length,(e=new ce(os+o))[0]=ts,e[1]=es,e[rs]=Qu,e[ns]=2,e[us]=i[0],e[is]=o,Iu.ndarray(o,i,1,0,e,1,is+1),r=new ce(e.buffer,e.byteOffset+(rs+1)*e.BYTES_PER_ELEMENT,Qu),i=new ce(e.buffer,e.byteOffset+(is+1)*e.BYTES_PER_ELEMENT,o),r=Xu(g,r,Qu),e[as]=r[0]}else i=0|Zu()}else i=0|Zu();return void 0===r&&((e=new ce(os+1))[0]=ts,e[1]=es,e[rs]=Qu,e[ns]=2,e[us]=i,e[is]=1,e[is+1]=i,r=new ce(e.buffer,e.byteOffset+(rs+1)*e.BYTES_PER_ELEMENT,Qu),i=new ce(e.buffer,e.byteOffset+(is+1)*e.BYTES_PER_ELEMENT,1),r=Xu(g,r,Qu),e[as]=r[0]),k(y,"NAME","minstd-shuffle"),_t(y,"seed",u),_t(y,"seedLength",s),Su(y,"state",h,c),_t(y,"stateLength",f),_t(y,"byteLength",l),k(y,"toJSON",p),k(y,"MIN",1),k(y,"MAX",2147483646),k(y,"normalized",m),k(m,"NAME",y.NAME),_t(m,"seed",u),_t(m,"seedLength",s),Su(m,"state",h,c),_t(m,"stateLength",f),_t(m,"byteLength",l),k(m,"toJSON",p),k(m,"MIN",(y.MIN-1)/Ku),k(m,"MAX",(y.MAX-1)/Ku),y;function u(){var t=e[is];return Iu(t,i,1,new ce(t),1)}function s(){return e[is]}function f(){return e.length}function l(){return e.byteLength}function h(){var t=e.length;return Iu(t,e,1,new ce(t),1)}function c(t){var o;if(!ue(t))throw new TypeError(S("invalid argument. Must provide an Int32Array. Value: `%s`.",t));if(o=ss(t,!1))throw o;!1===n.copy?n.state&&t.length===e.length?Iu(t.length,t,1,e,1):(e=t,n.state=!0):(t.length!==e.length&&(e=new ce(t.length)),Iu(t.length,t,1,e,1)),r=new ce(e.buffer,e.byteOffset+(rs+1)*e.BYTES_PER_ELEMENT,Qu),i=new ce(e.buffer,e.byteOffset+(is+1)*e.BYTES_PER_ELEMENT,e[is])}function p(){var t={type:"PRNG"};return t.name=y.NAME,t.state=Hu(e),t.params=[],t}function g(){var t=0|e[us];return t=16807*t%se|0,e[us]=t,0|t}function y(){var t,n;return t=e[as],n=rt(Qu*(t/se)),t=r[n],e[as]=t,r[n]=g(),t}function m(){return(y()-1)/Ku}}var ls=fs({seed:Zu()});k(ls,"factory",fs);var hs=.6931471803691238,cs=1.9082149292705877e-10,ps=0x40000000000000,gs=.3333333333333333,ys=1048575,ms=2146435072,ds=1048576,vs=1072693248;function ws(t,e,r){return(r?bi:hu)("float64",new Ht(t*e),[t,e],[e,1],0,"row-major")}function bs(t,e){var r,n,i,o,a,u,s,f,l,h,c;for(l=e.shape[0],h=e.shape[1],r=e.data,n=t.data,i=e.strides[0],o=e.strides[1],a=t.strides[0],u=t.strides[1],s=e.offset,f=t.offset,c=0;c<l;c++)Nu(h,r,o,s,n,u,f),s+=i,f+=a;return t}function Es(t,e){return(e?bi:hu)("float64",new Ht(t),[t],[1],0,"row-major")}function _s(t,e){return Nu(e.shape[0],e.data,e.strides[0],e.offset,t.data,t.strides[0],t.offset),t}var Ts=["euclidean","correlation","cosine"],As=["forgy","sample","kmeans++"],xs=Pa(Ts),Rs=Pa(As);var Os={forgy:["forgy",1],sample:["sample",1],"kmeans++":["kmeans++",1,1]};function Vs(t,e,r,n){var i,o,a,u;for(o=0,i=n,u=0;u<t;u++)o+=(a=e[i])*a,i+=r;for(o=Io(o),i=n,u=0;u<t;u++)e[i]/=o;return e}function Ss(t){var e,r,n,i,o,a,u;for(e=t.data,o=t.shape[0],a=t.shape[1],r=t.strides[0],n=t.strides[1],i=t.offset,u=0;u<o;u++)Vs(a,e,n,i),i+=r;return t}function js(t,e,r,n,i,o,a,u,s,f){var l,h,c,p;for(l=n,h=a,c=f,p=0;p<t;p++)e[l]=(e[l]-i[h])/u[c],l+=r,h+=o,c+=s;return e}function Ls(t,e){var r,n,i,o,a,u,s;for(r=t.data,a=t.shape[0],u=t.shape[1],n=t.strides[0],i=t.strides[1],o=t.offset,s=0;s<a;s++)js(u,r,i,o,e,2,0,e,2,1),o+=n;return t}function Is(t){return null!==t&&"object"==typeof t&&Ue(t.length)&&t.length<=De&&"number"==typeof t.BYTES_PER_ELEMENT&&"number"==typeof t.byteOffset&&"number"==typeof t.byteLength}var Ms=9007199254740991,Ns=65535;function Ps(t,e){var r,n;return((r=((t>>>=0)&Ns)>>>0)*(n=((e>>>=0)&Ns)>>>0)>>>0)+((t>>>16>>>0)*n+r*(e>>>16>>>0)<<16>>>0)>>>0}var Bs=ee-1;function Fs(){return rt(1+Bs*Math.random())>>>0}var Us=624,ks=397,Ys=ee>>>0,Cs=19650218,zs=2147483648,Ds=2147483647,Ws=1812433253,Gs=1664525,qs=1566083941,Hs=2636928640,Js=4022730752,Xs=[0,2567483615],$s=1/(Ms+1),Zs=67108864,Ks=2147483648,Qs=1,tf=Ms*$s,ef=1,rf=3,nf=2,of=Us+3,af=Us+5,uf=Us+6;function sf(t,e){var r;return r=e?"option":"argument",t.length<uf+1?new RangeError(S("invalid %s. `state` array has insufficient length.",r)):t[0]!==ef?new RangeError(S("invalid %s. `state` array has an incompatible schema version. Expected: `%s`. Actual: `%s.`",r,ef,t[0])):t[1]!==rf?new RangeError(S("invalid %s. `state` array has an incompatible number of sections. Expected: `%s`. Actual: `%s`.",r,rf,t[1])):t[nf]!==Us?new RangeError(S("invalid %s. `state` array has an incompatible state length. Expected: `%u`. Actual: `%u`.",r,Us,t[nf])):1!==t[of]?new RangeError(S("invalid %s. `state` array has an incompatible section length. Expected: `%u`. Actual: `%u`.",r,1,t[of])):t[af]!==t.length-uf?new RangeError(S("invalid %s. `state` array length is incompatible with seed section length. Expected: `%u`. Actual: `%u`.",r,t.length-uf,t[af])):null}function ff(t,e,r){var n;for(t[0]=r>>>0,n=1;n<e;n++)r=((r=t[n-1]>>>0)^r>>>30)>>>0,t[n]=Ps(r,Ws)+n>>>0;return t}function lf(t){var e,r,n,i,o,a;if(n={},arguments.length){if(!uu(t))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",t));if(G(t,"copy")&&(n.copy=t.copy,!ht(t.copy)))throw new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",t.copy));if(G(t,"state")){if(r=t.state,n.state=!0,!te(r))throw new TypeError(S("invalid option. `%s` option must be a Uint32Array. Option: `%s`.","state",r));if(a=sf(r,!0))throw a;!1===n.copy?e=r:(e=new oe(r.length),Iu(r.length,r,1,e,1)),r=new oe(e.buffer,e.byteOffset+(nf+1)*e.BYTES_PER_ELEMENT,Us),i=new oe(e.buffer,e.byteOffset+(af+1)*e.BYTES_PER_ELEMENT,r[af])}if(void 0===i)if(G(t,"seed"))if(i=t.seed,n.seed=!0,st(i)){if(i>Ys)throw new RangeError(S("invalid option. `%s` option must be a positive integer less than or equal to the maximum unsigned 32-bit integer. Option: `%u`.","seed",i));i>>>=0}else{if(!1===We(i)||i.length<1)throw new TypeError(S("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%s`.","seed",i));if(1===i.length){if(!st(i=i[0]))throw new TypeError(S("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%s`.","seed",i));if(i>Ys)throw new RangeError(S("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%u`.","seed",i));i>>>=0}else o=i.length,(e=new oe(uf+o))[0]=ef,e[1]=rf,e[nf]=Us,e[of]=1,e[of+1]=Us,e[af]=o,Iu.ndarray(o,i,1,0,e,1,af+1),r=new oe(e.buffer,e.byteOffset+(nf+1)*e.BYTES_PER_ELEMENT,Us),i=new oe(e.buffer,e.byteOffset+(af+1)*e.BYTES_PER_ELEMENT,o),r=function(t,e,r,n){var i,o,a,u;for(o=1,a=0,u=Ni(e,n);u>0;u--)i=Ps(i=((i=t[o-1]>>>0)^i>>>30)>>>0,Gs)>>>0,t[o]=(t[o]>>>0^i)+r[a]+a>>>0,a+=1,(o+=1)>=e&&(t[0]=t[e-1],o=1),a>=n&&(a=0);for(u=e-1;u>0;u--)i=Ps(i=((i=t[o-1]>>>0)^i>>>30)>>>0,qs)>>>0,t[o]=(t[o]>>>0^i)-o>>>0,(o+=1)>=e&&(t[0]=t[e-1],o=1);return t[0]=Ks,t}(r=ff(r,Us,Cs),Us,i,o)}else i=Fs()>>>0}else i=Fs()>>>0;return void 0===r&&((e=new oe(uf+1))[0]=ef,e[1]=rf,e[nf]=Us,e[of]=1,e[of+1]=Us,e[af]=1,e[af+1]=i,r=new oe(e.buffer,e.byteOffset+(nf+1)*e.BYTES_PER_ELEMENT,Us),i=new oe(e.buffer,e.byteOffset+(af+1)*e.BYTES_PER_ELEMENT,1),r=ff(r,Us,i)),k(g,"NAME","mt19937"),_t(g,"seed",u),_t(g,"seedLength",s),Su(g,"state",h,c),_t(g,"stateLength",f),_t(g,"byteLength",l),k(g,"toJSON",p),k(g,"MIN",0),k(g,"MAX",ee),k(g,"normalized",y),k(y,"NAME",g.NAME),_t(y,"seed",u),_t(y,"seedLength",s),Su(y,"state",h,c),_t(y,"stateLength",f),_t(y,"byteLength",l),k(y,"toJSON",p),k(y,"MIN",0),k(y,"MAX",tf),g;function u(){var t=e[af];return Iu(t,i,1,new oe(t),1)}function s(){return e[af]}function f(){return e.length}function l(){return e.byteLength}function h(){var t=e.length;return Iu(t,e,1,new oe(t),1)}function c(t){var o;if(!te(t))throw new TypeError(S("invalid argument. Must provide a Uint32Array. Value: `%s`.",t));if(o=sf(t,!1))throw o;!1===n.copy?n.state&&t.length===e.length?Iu(t.length,t,1,e,1):(e=t,n.state=!0):(t.length!==e.length&&(e=new oe(t.length)),Iu(t.length,t,1,e,1)),r=new oe(e.buffer,e.byteOffset+(nf+1)*e.BYTES_PER_ELEMENT,Us),i=new oe(e.buffer,e.byteOffset+(af+1)*e.BYTES_PER_ELEMENT,e[af])}function p(){var t={type:"PRNG"};return t.name=g.NAME,t.state=Hu(e),t.params=[],t}function g(){var t,n;return(n=e[of+1])>=Us&&(r=function(t){var e,r,n,i;for(i=Us-ks,r=0;r<i;r++)e=t[r]&zs|t[r+1]&Ds,t[r]=t[r+ks]^e>>>1^Xs[e&Qs];for(n=Us-1;r<n;r++)e=t[r]&zs|t[r+1]&Ds,t[r]=t[r-i]^e>>>1^Xs[e&Qs];return e=t[n]&zs|t[0]&Ds,t[n]=t[ks-1]^e>>>1^Xs[e&Qs],t}(r),n=0),t=r[n],e[of+1]=n+1,t^=t>>>11,t^=t<<7&Hs,t^=t<<15&Js,(t^=t>>>18)>>>0}function y(){var t=g()>>>5,e=g()>>>6;return(t*Zs+e)*$s}}function hf(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/}k(lf({seed:Fs()}),"factory",lf),k(hf,"REGEXP",/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/);var cf=void 0!==Object.getOwnPropertyNames,pf=ru.getOwnPropertyNames;var gf=cf?function(t){return pf(ru(t))}:function(t){return Qn(ru(t))},yf=void 0!==Object.getOwnPropertyDescriptor,mf=Object.getOwnPropertyDescriptor;var df=yf?function(t,e){var r;return null==t||void 0===(r=mf(t,e))?null:r}:function(t,e){return G(t,e)?{configurable:!0,enumerable:!0,writable:!0,value:t[e]}:null},vf="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},wf=[],bf=[],Ef="undefined"!=typeof Uint8Array?Uint8Array:Array,_f=!1;function Tf(){_f=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)wf[e]=t[e],bf[t.charCodeAt(e)]=e;bf["-".charCodeAt(0)]=62,bf["_".charCodeAt(0)]=63}function Af(t,e,r){for(var n,i,o=[],a=e;a<r;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(wf[(i=n)>>18&63]+wf[i>>12&63]+wf[i>>6&63]+wf[63&i]);return o.join("")}function xf(t){var e;_f||Tf();for(var r=t.length,n=r%3,i="",o=[],a=16383,u=0,s=r-n;u<s;u+=a)o.push(Af(t,u,u+a>s?s:u+a));return 1===n?(e=t[r-1],i+=wf[e>>2],i+=wf[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=wf[e>>10],i+=wf[e>>4&63],i+=wf[e<<2&63],i+="="),o.push(i),o.join("")}function Rf(t,e,r,n,i){var o,a,u=8*i-n-1,s=(1<<u)-1,f=s>>1,l=-7,h=r?i-1:0,c=r?-1:1,p=t[e+h];for(h+=c,o=p&(1<<-l)-1,p>>=-l,l+=u;l>0;o=256*o+t[e+h],h+=c,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+t[e+h],h+=c,l-=8);if(0===o)o=1-f;else{if(o===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=f}return(p?-1:1)*a*Math.pow(2,o-n)}function Of(t,e,r,n,i,o){var a,u,s,f=8*o-i-1,l=(1<<f)-1,h=l>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,g=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),(e+=a+h>=1?c/s:c*Math.pow(2,1-h))*s>=2&&(a++,s/=2),a+h>=l?(u=0,a=l):a+h>=1?(u=(e*s-1)*Math.pow(2,i),a+=h):(u=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=255&u,p+=g,u/=256,i-=8);for(a=a<<i|u,f+=i;f>0;t[r+p]=255&a,p+=g,a/=256,f-=8);t[r+p-g]|=128*y}var Vf={}.toString,Sf=Array.isArray||function(t){return"[object Array]"==Vf.call(t)};Mf.TYPED_ARRAY_SUPPORT=void 0===vf.TYPED_ARRAY_SUPPORT||vf.TYPED_ARRAY_SUPPORT;var jf=Lf();function Lf(){return Mf.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function If(t,e){if(Lf()<e)throw new RangeError("Invalid typed array length");return Mf.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Mf.prototype:(null===t&&(t=new Mf(e)),t.length=e),t}function Mf(t,e,r){if(!(Mf.TYPED_ARRAY_SUPPORT||this instanceof Mf))return new Mf(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Bf(this,t)}return Nf(this,t,e,r)}function Nf(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);Mf.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Mf.prototype:t=Ff(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!Mf.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|Yf(e,r);t=If(t,n);var i=t.write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(kf(e)){var r=0|Uf(e.length);return 0===(t=If(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?If(t,0):Ff(t,e);if("Buffer"===e.type&&Sf(e.data))return Ff(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function Pf(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Bf(t,e){if(Pf(e),t=If(t,e<0?0:0|Uf(e)),!Mf.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function Ff(t,e){var r=e.length<0?0:0|Uf(e.length);t=If(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function Uf(t){if(t>=Lf())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Lf().toString(16)+" bytes");return 0|t}function kf(t){return!(null==t||!t._isBuffer)}function Yf(t,e){if(kf(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return pl(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return gl(t).length;default:if(n)return pl(t).length;e=(""+e).toLowerCase(),n=!0}}function Cf(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return rl(this,e,r);case"utf8":case"utf-8":return Kf(this,e,r);case"ascii":return tl(this,e,r);case"latin1":case"binary":return el(this,e,r);case"base64":return Zf(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nl(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function zf(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Df(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=Mf.from(e,n)),kf(e))return 0===e.length?-1:Wf(t,e,r,n,i);if("number"==typeof e)return e&=255,Mf.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Wf(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Wf(t,e,r,n,i){var o,a=1,u=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,r/=2}function f(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=r;o<u;o++)if(f(t,o)===f(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===s)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+s>u&&(r=u-s),o=r;o>=0;o--){for(var h=!0,c=0;c<s;c++)if(f(t,o+c)!==f(e,c)){h=!1;break}if(h)return o}return-1}function Gf(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[r+a]=u}return a}function qf(t,e,r,n){return yl(pl(e,t.length-r),t,r,n)}function Hf(t,e,r,n){return yl(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function Jf(t,e,r,n){return Hf(t,e,r,n)}function Xf(t,e,r,n){return yl(gl(e),t,r,n)}function $f(t,e,r,n){return yl(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function Zf(t,e,r){return 0===e&&r===t.length?xf(t):xf(t.slice(e,r))}function Kf(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,u,s,f=t[i],l=null,h=f>239?4:f>223?3:f>191?2:1;if(i+h<=r)switch(h){case 1:f<128&&(l=f);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&f)<<6|63&o)>127&&(l=s);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(s=(15&f)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:o=t[i+1],a=t[i+2],u=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(s=(15&f)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(l=s)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(t){var e=t.length;if(e<=Qf)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Qf));return r}(n)}Mf.poolSize=8192,Mf._augment=function(t){return t.__proto__=Mf.prototype,t},Mf.from=function(t,e,r){return Nf(null,t,e,r)},Mf.TYPED_ARRAY_SUPPORT&&(Mf.prototype.__proto__=Uint8Array.prototype,Mf.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Mf[Symbol.species]),Mf.alloc=function(t,e,r){return function(t,e,r,n){return Pf(e),e<=0?If(t,e):void 0!==r?"string"==typeof n?If(t,e).fill(r,n):If(t,e).fill(r):If(t,e)}(null,t,e,r)},Mf.allocUnsafe=function(t){return Bf(null,t)},Mf.allocUnsafeSlow=function(t){return Bf(null,t)},Mf.isBuffer=ml,Mf.compare=function(t,e){if(!kf(t)||!kf(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},Mf.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Mf.concat=function(t,e){if(!Sf(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Mf.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Mf.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!kf(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Mf.byteLength=Yf,Mf.prototype._isBuffer=!0,Mf.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)zf(this,e,e+1);return this},Mf.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)zf(this,e,e+3),zf(this,e+1,e+2);return this},Mf.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)zf(this,e,e+7),zf(this,e+1,e+6),zf(this,e+2,e+5),zf(this,e+3,e+4);return this},Mf.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Kf(this,0,t):Cf.apply(this,arguments)},Mf.prototype.equals=function(t){if(!kf(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Mf.compare(this,t)},Mf.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Mf.prototype.compare=function(t,e,r,n,i){if(!kf(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),u=Math.min(o,a),s=this.slice(n,i),f=t.slice(e,r),l=0;l<u;++l)if(s[l]!==f[l]){o=s[l],a=f[l];break}return o<a?-1:a<o?1:0},Mf.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},Mf.prototype.indexOf=function(t,e,r){return Df(this,t,e,r,!0)},Mf.prototype.lastIndexOf=function(t,e,r){return Df(this,t,e,r,!1)},Mf.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Gf(this,t,e,r);case"utf8":case"utf-8":return qf(this,t,e,r);case"ascii":return Hf(this,t,e,r);case"latin1":case"binary":return Jf(this,t,e,r);case"base64":return Xf(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $f(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Mf.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Qf=4096;function tl(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function el(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function rl(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=cl(t[o]);return i}function nl(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function il(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function ol(t,e,r,n,i,o){if(!kf(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function al(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function ul(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function sl(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function fl(t,e,r,n,i){return i||sl(t,0,r,4),Of(t,e,r,n,23,4),r+4}function ll(t,e,r,n,i){return i||sl(t,0,r,8),Of(t,e,r,n,52,8),r+8}Mf.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),Mf.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=Mf.prototype;else{var i=e-t;r=new Mf(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},Mf.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||il(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},Mf.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||il(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},Mf.prototype.readUInt8=function(t,e){return e||il(t,1,this.length),this[t]},Mf.prototype.readUInt16LE=function(t,e){return e||il(t,2,this.length),this[t]|this[t+1]<<8},Mf.prototype.readUInt16BE=function(t,e){return e||il(t,2,this.length),this[t]<<8|this[t+1]},Mf.prototype.readUInt32LE=function(t,e){return e||il(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Mf.prototype.readUInt32BE=function(t,e){return e||il(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Mf.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||il(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},Mf.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||il(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Mf.prototype.readInt8=function(t,e){return e||il(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Mf.prototype.readInt16LE=function(t,e){e||il(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Mf.prototype.readInt16BE=function(t,e){e||il(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Mf.prototype.readInt32LE=function(t,e){return e||il(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Mf.prototype.readInt32BE=function(t,e){return e||il(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Mf.prototype.readFloatLE=function(t,e){return e||il(t,4,this.length),Rf(this,t,!0,23,4)},Mf.prototype.readFloatBE=function(t,e){return e||il(t,4,this.length),Rf(this,t,!1,23,4)},Mf.prototype.readDoubleLE=function(t,e){return e||il(t,8,this.length),Rf(this,t,!0,52,8)},Mf.prototype.readDoubleBE=function(t,e){return e||il(t,8,this.length),Rf(this,t,!1,52,8)},Mf.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||ol(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},Mf.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||ol(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},Mf.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||ol(this,t,e,1,255,0),Mf.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Mf.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||ol(this,t,e,2,65535,0),Mf.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):al(this,t,e,!0),e+2},Mf.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||ol(this,t,e,2,65535,0),Mf.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):al(this,t,e,!1),e+2},Mf.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||ol(this,t,e,4,4294967295,0),Mf.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):ul(this,t,e,!0),e+4},Mf.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||ol(this,t,e,4,4294967295,0),Mf.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):ul(this,t,e,!1),e+4},Mf.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);ol(this,t,e,r,i-1,-i)}var o=0,a=1,u=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+r},Mf.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);ol(this,t,e,r,i-1,-i)}var o=r-1,a=1,u=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+r},Mf.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||ol(this,t,e,1,127,-128),Mf.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Mf.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||ol(this,t,e,2,32767,-32768),Mf.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):al(this,t,e,!0),e+2},Mf.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||ol(this,t,e,2,32767,-32768),Mf.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):al(this,t,e,!1),e+2},Mf.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||ol(this,t,e,4,2147483647,-2147483648),Mf.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):ul(this,t,e,!0),e+4},Mf.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||ol(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Mf.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):ul(this,t,e,!1),e+4},Mf.prototype.writeFloatLE=function(t,e,r){return fl(this,t,e,!0,r)},Mf.prototype.writeFloatBE=function(t,e,r){return fl(this,t,e,!1,r)},Mf.prototype.writeDoubleLE=function(t,e,r){return ll(this,t,e,!0,r)},Mf.prototype.writeDoubleBE=function(t,e,r){return ll(this,t,e,!1,r)},Mf.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!Mf.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},Mf.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Mf.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=kf(t)?t:pl(new Mf(t,n).toString()),u=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%u]}return this};var hl=/[^+\/0-9A-Za-z-_]/g;function cl(t){return t<16?"0"+t.toString(16):t.toString(16)}function pl(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function gl(t){return function(t){var e,r,n,i,o,a;_f||Tf();var u=t.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[u-2]?2:"="===t[u-1]?1:0,a=new Ef(3*u/4-o),n=o>0?u-4:u;var s=0;for(e=0,r=0;e<n;e+=4,r+=3)i=bf[t.charCodeAt(e)]<<18|bf[t.charCodeAt(e+1)]<<12|bf[t.charCodeAt(e+2)]<<6|bf[t.charCodeAt(e+3)],a[s++]=i>>16&255,a[s++]=i>>8&255,a[s++]=255&i;return 2===o?(i=bf[t.charCodeAt(e)]<<2|bf[t.charCodeAt(e+1)]>>4,a[s++]=255&i):1===o&&(i=bf[t.charCodeAt(e)]<<10|bf[t.charCodeAt(e+1)]<<4|bf[t.charCodeAt(e+2)]>>2,a[s++]=i>>8&255,a[s++]=255&i),a}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(hl,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function yl(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function ml(t){return null!=t&&(!!t._isBuffer||dl(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&dl(t.slice(0,0))}(t))}function dl(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var vl=Object.freeze({__proto__:null,Buffer:Mf,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),Mf.alloc(+t)},isBuffer:ml,kMaxLength:jf}),wl=Mf;function bl(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var r=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}var El,_l=bl(vl).Buffer;El=function(){var t,e;if("function"!=typeof wl)return!1;try{t=Ut(e="function"==typeof wl.from?wl.from([1,2,3,4]):new wl([1,2,3,4]))&&1===e[0]&&2===e[1]&&3===e[2]&&4===e[3]}catch(e){t=!1}return t}()?_l:function(){throw new Error("not implemented")};var Tl=El;var Al=ur(Tl.from)?function(t){if(!Ut(t))throw new TypeError(S("invalid argument. Must provide a Buffer. Value: `%s`.",t));return Tl.from(t)}:function(t){if(!Ut(t))throw new TypeError(S("invalid argument. Must provide a Buffer. Value: `%s`.",t));return new Tl(t)};function xl(t){return new Fe(t)}function Rl(t){return new Oe(t)}function Ol(t){return new Ie(t)}function Vl(t){return new _e(t)}function Sl(t){return new de(t)}function jl(t){return new ce(t)}function Ll(t){return new oe(t)}function Il(t){return new Kt(t)}function Ml(t){return new Ht(t)}var Nl={int8array:xl,uint8array:Rl,uint8clampedarray:Ol,int16array:Vl,uint16array:Sl,int32array:jl,uint32array:Ll,float32array:Il,float64array:Ml};function Pl(t,e,r,n,i){var o,a,u,s,f,l,h,c,p,g;if(i-=1,"object"!=typeof t||null===t)return t;if(Ut(t))return Al(t);if(function(t){if("object"!=typeof t||null===t)return!1;if(t instanceof Error)return!0;for(;t;){if("[object Error]"===J(t))return!0;t=ou(t)}return!1}(t))return function(t){var e,r,n,i,o,a,u=[],s=[];for(o=new t.constructor(t.message),u.push(t),s.push(o),t.stack&&(o.stack=t.stack),t.code&&(o.code=t.code),t.errno&&(o.errno=t.errno),t.syscall&&(o.syscall=t.syscall),e=Qn(t),a=0;a<e.length;a++)i=e[a],G(r=df(t,i),"value")&&(n=Pt(t[i])?[]:{},r.value=Pl(t[i],n,u,s,-1)),F(o,i,r);return o}(t);if("date"===(u=ar(t)))return new Date(+t);if("regexp"===u)return function(t){if(!Je(t))throw new TypeError(S("invalid argument. Must provide a regular expression string. Value: `%s`.",t));return(t=/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/.exec(t))?new RegExp(t[1],t[2]):null}(t.toString());if("set"===u)return new Set(t);if("map"===u)return new Map(t);if("string"===u||"boolean"===u||"number"===u)return t.valueOf();if(f=Nl[u])return f(t);if("array"!==u&&"object"!==u)return"function"==typeof Object.freeze?function(t){var e,r,n,i,o,a,u,s;for(e=[],i=[],u=Object.create(ou(t)),e.push(t),i.push(u),r=gf(t),s=0;s<r.length;s++)n=r[s],G(o=df(t,n),"value")&&(a=Pt(t[n])?[]:{},o.value=Pl(t[n],a,e,i,-1)),F(u,n,o);return Object.isExtensible(t)||Object.preventExtensions(u),Object.isSealed(t)&&Object.seal(u),Object.isFrozen(t)&&Object.freeze(u),u}(t):{};if(a=Qn(t),i>0)for(o=u,g=0;g<a.length;g++)c=t[l=a[g]],u=ar(c),"object"!=typeof c||null===c||"array"!==u&&"object"!==u||Ut(c)?"object"===o?(G(s=df(t,l),"value")&&(s.value=Pl(c)),F(e,l,s)):e[l]=Pl(c):-1===(p=Gn(r,c))?(h=Pt(c)?new Array(c.length):{},r.push(c),n.push(h),"array"===o?e[l]=Pl(c,h,r,n,i):(G(s=df(t,l),"value")&&(s.value=Pl(c,h,r,n,i)),F(e,l,s))):e[l]=n[p];else if("array"===u)for(g=0;g<a.length;g++)e[l=a[g]]=t[l];else for(g=0;g<a.length;g++)l=a[g],s=df(t,l),F(e,l,s);return Object.isExtensible(t)||Object.preventExtensions(e),Object.isSealed(t)&&Object.seal(e),Object.isFrozen(t)&&Object.freeze(e),e}function Bl(t,e){var r;if(arguments.length>1){if(!Ue(e))throw new TypeError(S("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",e));if(0===e)return t}else e=tt;return Pl(t,r=Pt(t)?new Array(t.length):{},[t],[r],e)}function Fl(t,e,r){var n,i,o,a;for(o=t.length,i=new Array(e),a=0;a<e;a++)n=rt(o*r()),i[a]=t[n];return i}var Ul=Array.prototype.slice;function kl(t,e,r){var n,i,o;for(i=t.length-1;i>0;i--)o=rt(r()*(i+1)),n=t[i],t[i]=t[o],t[o]=n;return Ul.call(t,0,e)}var Yl={mutate:!1,replace:!0};function Cl(t,e){return Mn(t)||Mn(e)?NaN:Ci(t)||Ci(e)?t===e?NaN:tt:At(t-e)}var zl=1.4901161193847656e-8;function Dl(t,e){return uu(e)?G(e,"size")&&(t.size=e.size,!Ye(t.size))?new TypeError(S("invalid option. `%s` option must be a nonnegative integer. Option: `%s`.","size",t.size)):G(e,"probs")&&(t.probs=e.probs,!function(t){var e,r;if(Pt(t)){for(e=0,r=0;r<t.length;r++){if(!Y(t[r])||t[r]>1||t[r]<0)return!1;e+=t[r]}return Cl(e,1)<=zl}if(Cu(t)){for(e=0,r=0;r<t.length;r++){if(t[r]>1||t[r]<0)return!1;e+=t[r]}return Cl(e,1)<=zl}return!1}(t.probs))?new TypeError(S("invalid option. `%s` option must be an array of probabilities that sum to one. Option: `%s`.","probs",t.probs)):G(e,"mutate")&&(t.mutate=e.mutate,!ht(t.mutate))?new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","mutate",t.mutate)):G(e,"replace")&&(t.replace=e.replace,!ht(t.replace))?new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","replace",t.replace)):null:new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",e))}var Wl=Array.prototype.slice;function Gl(){var t,e,r,n,i,o;if(r=Bl(Yl),1===arguments.length)Oa(arguments[0])||Is(arguments[0])?e=arguments[0]:i=Dl(r,t=arguments[0]);else if(arguments.length>1){if(t=arguments[1],!Oa(e=arguments[0])&&!Is(e))throw new TypeError(S("invalid argument. `%s` argument must be array-like. Value: `%s`.","pool",e));i=Dl(r,t)}if(i)throw i;return n=t&&t.seed?lf({seed:t.seed}):lf(),void 0===e?o=function(t,e){var i,o,a,u,s;if(!Oa(t)&&!Is(t))throw new TypeError(S("invalid argument. First argument must be array-like. Value: `%s`.",t));Je(t)&&(t=t.split(""));if(a={},arguments.length>1&&(s=Dl(a,e)))throw s;i=void 0===a.replace?r.replace:a.replace;void 0!==a.probs&&(o=a.probs);u=a.size?a.size:r.size?r.size:t.length;if(!1===i&&u>t.length)throw new RangeError(S("invalid option. `size` option must be less than or equal to the length of `x` when `replace` is `false`. Option: `%s`.",u));if(o)return i?function(t,e,r,n){var i,o,a,u,s,f,l,h,c,p;for(a=n.slice(),f=t.length,i=[],o=[],c=0;c<f;c++)a[c]*=f,a[c]<1?i.push(c):o.push(c);for(u=new Array(f),l=new Array(f);0!==i.length&&0!==o.length;)p=i.shift(),h=o.shift(),l[p]=a[p],u[p]=h,a[h]=a[h]+a[p]-1,a[h]<1?i.push(h):o.push(h);for(c=0;c<o.length;c++)l[o[c]]=1;for(c=0;c<i.length;c++)l[i[c]]=1;for(s=new Array(e),c=0;c<e;c++)p=rt(f*r()),r()<l[p]?s[c]=t[p]:s[c]=t[u[p]];return s}(t,u,n,o):function(t,e,r,n){var i,o,a,u,s,f,l,h;for(u=t.length,i=new Array(u),s=0;s<u;s++)i[s]=n[s];for(a=new Array(e),s=0;s<e;s++){for(h=r(),o=0,f=0;f<u&&!(h<(o+=i[f]));f++);for(l=0;l<u;l++)l!==f&&(i[l]/=1-i[f]);i[f]=0,a[s]=t[f]}return a}(t,u,n,o);if(i)return Fl(t,u,n);return kl(Wl.call(t),u,n)}:(e=Je(e)?e.split(""):Bl(e),o=function(t){var i,o,a,u,s,f;if(0===e.length)return null;if(a={},arguments.length&&(s=Dl(a,t)))throw s;o=void 0===a.mutate?r.mutate:a.mutate;i=void 0===a.replace?r.replace:a.replace;u=a.size?a.size:r.size?r.size:e.length;if(!1===i&&u>e.length)throw new RangeError(S("invalid option. `size` option must be less than or equal to the population size when `replace` is `false`. Option: `%s`.",u));if(i)return Fl(e,u,n);f=kl(e,u,n),o&&(e=e.slice(u,e.length));return f}),k(o,"seed",n.seed),k(o,"PRNG",n),n=n.normalized,o}function ql(t){return function(){return t}}function Hl(t,e,r){var n,i,o,a,u,s,f,l;if(0===(o=r-e))return e;if(f=t.MIN,(i=t.MAX-f)===o)return t()-f+e;if(i<o)for(a=0;;){for(o===Ms?(a=rt(o/(i+1)),o%(i+1)===i&&(a+=1)):a=rt((o+1)/(i+1)),n=0,s=1;s<=a;){if(n+=(t()-f)*s,s*i==o-s+1)return n;s*=i+1}if(!((l=Hl(t,0,rt(o/s)))>Ms/s||(n+=l*=s)>o))return n+e}for(i===Ms?(u=rt(i/(o+1)),i%(o+1)===o&&(u+=1)):u=rt((i+1)/(o+1));;)if(n=t()-f,(n=rt(n/u))<=o)return n+e}function Jl(){var t,e,r,n,i,o;if(0===arguments.length)e=lf();else if(1===arguments.length){if(!uu(t=arguments[0]))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",t));if(G(t,"prng")){if(!ur(t.prng))throw new TypeError(S("invalid option. `%s` option must be a pseudorandom number generator function. Option: `%s`.","prng",t.prng));if(!nt((e=t.prng).MIN))throw new TypeError(S("invalid option. `%s` option must have a `MIN` property specifying the minimum possible pseudorandom integer value.","prng"));if(!nt(e.MAX))throw new TypeError(S("invalid option. `%s` option must have a `MAX` property specifying the maximum possible pseudorandom integer value.","prng"))}else e=lf(t)}else{if(n=function(t,e){return!ot(t)||Bn(t)?new TypeError(S("invalid argument. First argument must be an integer and not NaN. Value: `%s`.",t)):!ot(e)||Bn(e)?new TypeError(S("invalid argument. Second argument must be an integer and not NaN. Value: `%s`.",e)):t>e?new RangeError(S("invalid argument. Minimum support must be less than or equal to maximum support. Value: `[%d, %d]`.",t,e)):null}(i=arguments[0],o=arguments[1]))throw n;if(arguments.length>2){if(!uu(t=arguments[2]))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",t));if(G(t,"prng")){if(!ur(t.prng))throw new TypeError(S("invalid option. `%s` option must be a pseudorandom number generator function. Option: `%s`.","prng",t.prng));if(!nt((e=t.prng).MIN))throw new TypeError(S("invalid option. `%s` option must have a `MIN` property specifying the minimum possible pseudorandom integer value.","prng"));if(!nt(e.MAX))throw new TypeError(S("invalid option. `%s` option must have a `MAX` property specifying the maximum possible pseudorandom integer value.","prng"))}else e=lf(t)}else e=lf()}return k(r=void 0===i?function(t,r){if(Mn(t)||Mn(r)||!nt(t)||!nt(r)||t>r)return NaN;return Hl(e,t,r)}:function(){return Hl(e,i,o)},"NAME","discrete-uniform"),t&&t.prng?(k(r,"seed",null),k(r,"seedLength",null),Su(r,"state",ql(null),zn),k(r,"stateLength",null),k(r,"byteLength",null),k(r,"toJSON",ql(null)),k(r,"PRNG",e)):(_t(r,"seed",(function(){return e.seed})),_t(r,"seedLength",(function(){return e.seedLength})),Su(r,"state",(function(){return e.state}),(function(t){e.state=t})),_t(r,"stateLength",(function(){return e.stateLength})),_t(r,"byteLength",(function(){return e.byteLength})),k(r,"toJSON",(function(){var t={type:"PRNG"};t.name=r.NAME,t.state=Hu(e.state),t.params=void 0===i?[]:[i,o];return t})),k(r,"PRNG",e)),r}function Xl(t,e,r,n,i,o,a){var u=function(t,e,r,n,i,o,a){var u,s,f,l,h;for(u=n,s=a,l=0,h=0;h<t;h++)l+=(f=e[u]-i[s])*f,u+=r,s+=o;return Io(l)}(t,e,r,n,i,o,a);return u*u}function $l(t,e,r,n,i,o,a){var u,s,f,l;for(u=n,s=a,f=0,l=0;l<t;l++)f+=e[u]*i[s],u+=r,s+=o;return f}function Zl(t,e,r,n,i,o,a){var u=1-$l(t,e,r,n,i,o,a);return u*u}function Kl(t,e,r,n,i,o,a){var u=1-$l(t,e,r,n,i,o,a);return u*u}function Ql(t,e,r,n,i,o){var a,u,s,f,l;for(f=i.data,a=(s=i.strides[0])*o,u=0,l=0;l<r;l++)t[l]=e(n,f,1,u,f,1,a),u+=s;return t}function th(){var t,e;return t=0,e=0,function(r){if(0===arguments.length)return 0===e?null:t;return t+=(r-t)/(e+=1)}}function eh(t,e,r,n,i,o,a,u,s){var f,l,h,c;for(f=tt,c=0;c<e;c++)(h=t(r,n,1,o,a,u,s))<f&&(f=h,l=c),o+=i;return l}function rh(t,e,r,n,i,o,a,u){var s,f;for(f=0;f<t;f++)s=r[i],s+=(o[u]-s)/e,r[i]=s,i+=n,u+=a;return r}function nh(t,e,r,n,i,o){var a,u;return u=t.shape[1],function(s){void 0===a&&((a=ws(o.init[1],u,!0)).count=0);if(a.count<o.init[1]&&(Nu(u,s.data,s.strides[0],s.offset,a.data,a.strides[1],a.strides[0]*a.count),a.count+=1,a.count<o.init[1]))return!1;o.normalize&&("cosine"===o.metric?a=Ss(a):"correlation"===o.metric&&(a=Ls(a,n())));t="forgy"===o.init[0]?function(t,e,r){var n,i,o,a,u,s,f,l,h,c,p,g,y,m,d,v;for(y=t.shape[0],m=t.shape[1],i=t.data,f=t.strides[0],l=t.strides[1],c=t.offset,a=e.data,o=e.shape[0],u=e.strides[0],s=e.strides[1],g=e.offset,n=Jl(0,y-1,{seed:r}),h=[],d=0;d<y*m;d++)h.push(th());for(d=0;d<o;d++){for(p=m*n(),v=0;v<m;v++)h[p+v](a[g+s*v]);g+=u}for(p=0,d=0;d<y;d++){for(v=0;v<m;v++)i[c+l*v]=h[p](),p+=1;c+=f}return t}(t,a,o.seed):"sample"===o.init[0]?function(t,e,r){var n,i,o,a,u,s,f,l,h,c,p;for(h=t.shape[0],c=t.shape[1],i=t.data,s=t.strides[1],f=t.offset,o=e.data,a=e.strides[0],u=e.strides[1],n=[],p=0;p<e.shape[0];p++)n.push(p);for(l=h===n.length?n:Gl({seed:r,size:h,mutate:!1,replacement:!1})(n),p=0;p<h;p++)Si(c,o,u,a*l[p],i,s,f);return t}(t,a,o.seed):function(t,e,r,n,i){var o,a,u,s,f,l,h,c,p,g,y,m,d,v,w,b,E,_,T,A,x,R,O,V,S,j,L,I;if(V=t.shape[0],s=t.shape[1],c=e.shape[0],m=t.data,E=t.strides[0],_=t.strides[1],T=t.offset,d=e.data,w=e.strides[0],b=e.strides[1],u=Jl({seed:(h=lf({seed:i}))()}),h=h.normalized,y="cosine"===r?Zl:"correlation"===r?Kl:Xl,O=u(0,c-1),1===V)return Si(s,d,b,w*O,m,_,T);for(o=[O],A=new Array(s),f=new Array(2*c),v=0,j=0;j<c;j++)f[v]=tt,f[v+1]=0,v+=2;for(l=new Array(c),L=1;L<V;L++){for(Ql(A,y,c,s,e,o[L-1]),p=0,v=0,j=0;j<c;j++)A[j]<f[v]?(f[v]=A[j],f[v+1]=L-1,p+=A[j]):p+=f[v],v+=2;for(l[0]=f[0]/p,v=2,j=1;j<c;j++)l[j]=l[j-1]+f[v]/p,v+=2;for(g=tt,x=-1,I=0;I<n;I++){for(O=-1;-1===O;)for(S=h(),j=0;j<c;j++)if(S<l[j]){O=j;break}for(p=0,a=w*O,v=0,j=0;j<c;j++)(R=y(s,d,1,w*j,d,1,a))<f[v]?p+=R:p+=f[v],v+=2;p<g&&(g=p,x=O)}o.push(x)}for(j=0;j<V;j++)Si(s,d,b,w*o[j],m,_,T),T+=E;return t}(t,a,o.metric,o.init[2],o.seed);return function(t,e,r,n,i){var o,a,u,s,f,l,h,c,p,g,y;for(p=e.shape[0],o=e.shape[1],s=t.shape[0],a=e.data,f=e.strides[0],u=t.data,l=t.strides[0],c=0,y=0;y<s;y++)h=f*(g=eh(i,p,o,a,f,0,u,1,c)),rh(o,r.get(g,0)+1,a,1,h,u,1,c),n(g,i(o,a,1,h,u,1,c)),c+=l}(a,t,e,r,i),!0}}function ih(t){var e,r,n,i,o;if(0===arguments.length)e=[0,0];else{if(!ze(t))throw new TypeError(S("invalid argument. Output argument must be an array-like object. Value: `%s`.",t));e=t}return i=0,n=0,o=0,function(t){if(0===arguments.length)return 0===o?null:(e[0]=n,1===o?(Mn(i)?e[1]=NaN:e[1]=0,e):(e[1]=Io(i/(o-1)),e));if(i+=(r=t-n)*(t-(n+=r/(o+=1))),e[0]=n,o<2)return Mn(i)?e[1]=NaN:e[1]=0,e;return e[1]=Io(i/(o-1)),e}}k(Gl(),"factory",Gl),k(Jl(),"factory",Jl);var oh=4;function ah(t,e){var r;if(!(this instanceof ah))return new ah(t,e);if(!lt(t))throw new TypeError(S("invalid argument. First argument must be a positive integer. Value: `%s`.",t));if(!mt(e))throw new TypeError(S("invalid argument. Second argument must be a boolean. Value: `%s`.",e));for(this.scale=1,this.norm=0,this.intercept=e,this.nWeights=t+(this.intercept?1:0),this._data=new Array(this.nWeights),r=0;r<this.nWeights;r++)this._data[r]=0}k(ah.prototype,"scaleTo",(function(t){var e;if(this.scale<1e-11){for(e=0;e<this.nWeights;e++)this._data[e]*=this.scale;this.scale=1}if(this.norm*=Ra(t,2),!(t>0))throw new RangeError(S("unexpected error. Scaling weight vector by nonpositive value, likely due to too large value of eta * lambda. Value: `%f`.",t));this.scale*=t})),k(ah.prototype,"add",(function(t,e){var r,n,i;for(n=0,void 0===e&&(e=1),i=0;i<t.length;i++)r=t[i]*e,n+=this._data[i]*r,this._data[i]=this._data[i]+r/this.scale;this.intercept&&(r=1*e,n+=this._data[i]*r,this._data[i]=this._data[i]+r/this.scale),this.norm+=(function(t,e){var r,n=t.length,i=0;for(r=0;r<n;r++)i+=t[r]*e[r];return i}(t,t)+(this.intercept?1:0))*Ra(e,2)+2*this.scale*n})),k(ah.prototype,"innerProduct",(function(t){var e,r=0;for(e=0;e<t.length;e++)r+=this._data[e]*t[e];return r+=this.intercept?this._data[e]:0,r*=this.scale}));var uh=1e-7;function sh(t,e,r){var n;e>0&&(n=1-r*e,t.scaleTo(Ni(n,uh)))}function fh(t,e,r,n,i,o){var a=t.innerProduct(e)-r;sh(t,i,n),a>o?t.add(e,-n):a<-o&&t.add(e,+n)}function lh(t,e,r,n,i){var o=r-t.innerProduct(e);sh(t,i,n),t.add(e,n*o)}function hh(t,e,r,n,i,o){var a=t.innerProduct(e)-r;sh(t,i,n),a>o?t.add(e,-n):a<-o?t.add(e,+n):t.add(e,-n*a)}var ch={epsilon:.1,eta0:.02,intercept:!0,lambda:.001,learningRate:"basic",loss:"squaredError"};var ph={};U(ph,"incrBinaryClassification",(function(t,e){var r,n,i;if(!st(t))throw new TypeError(S("invalid argument. First argument must be a positive integer. Value: `%s`.",t));if(n={intercept:!0,lambda:1e-4,learningRate:du.basic.slice(),loss:"log"},arguments.length>1&&(i=function(t,e){var r;if(!uu(e))return new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",e));if(G(e,"intercept")&&(t.intercept=e.intercept,!ht(t.intercept)))return new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","intercept",t.intercept));if(G(e,"lambda")&&(t.lambda=e.lambda,!vu(t.lambda)))return new TypeError(S("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","lambda",t.lambda));if(G(e,"learningRate")){if(!ze(e.learningRate))return new TypeError(S("invalid option. `%s` option must be an array-like object. Option: `%s`.","learningRate",e.learningRate));if(r=e.learningRate[0],t.learningRate[0]=r,!Ru(r))return new TypeError(S('invalid option. First `%s` option must be one of the following: "%s". Option: `%s`.',"learningRate",Au.join('", "'),r));if(e.learningRate.length>1&&("constant"===r||"invscaling"===r)&&(t.learningRate[1]=e.learningRate[1],!Eu(t.learningRate[1])))return new TypeError(S("invalid option. Second `%s` option must be a positive number. Option: `%s`.","learningRate",t.learningRate[1]));if(e.learningRate.length>2&&"invscaling"===r&&(t.learningRate[2]=e.learningRate[2],!Y(t.learningRate[2])))return new TypeError(S("invalid option. Third `%s` option must be a number. Option: `%s`.","learningRate",t.learningRate[2]))}return G(e,"loss")&&(t.loss=e.loss,!Ou(t.loss))?new TypeError(S('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"loss",xu.join('", "'),t.loss)):null}(n,e)))throw i;return r=new mu(t,n),k(o,"predict",(function(e,i){var o,a;if(!Ei(e))throw new TypeError(S("invalid argument. First argument must be an ndarray. Value: `%s`.",e));if((o=e.shape)[o.length-1]!==t)throw new TypeError(S("invalid argument. First argument must be an ndarray whose last dimension is of size %u. Actual size: `%u`.",t,o[o.length-1]));if(a="label",arguments.length>1){if("probability"===i){if("log"!==n.loss&&"modifiedHuber"!==n.loss)throw new Error(S('invalid argument. Second argument is incompatible with model loss function. Probability predictions are only supported when the loss function is one of the following: "%s". Model loss function: `%s`.',["log","modifiedHuber"].join('", "'),n.loss))}else if("label"!==i&&"linear"!==i)throw new TypeError(S('invalid argument. Second argument must be a string value equal to either "label", "probability", or "linear". Value: `%s`.',i));a=i}return r.predict(e,a)})),o;function o(t,e){if(0===arguments.length)return r.coefficients;if(!_i(t))throw new TypeError(S("invalid argument. First argument must be a one-dimensional ndarray. Value: `%s`.",t));if(-1!==e&&1!==e)throw new TypeError(S("invalid argument. Second argument must be either +1 or -1. Value: `%s`.",e));if(t.shape[0]!==r.nfeatures)throw new TypeError(S("invalid argument. First argument must be a one-dimensional ndarray of length %u. Actual length: `%u`.",r.nfeatures,t.shape[0]));return r.update(t,e),r.coefficients}})),U(ph,"incrkmeans",(function(){var t,e,r,n,i,o,a,u,s,f,l,h,c,p;if(Vu(arguments[0]))p=arguments[0].shape[0],u=arguments[0].shape[1],e=bs(e=ws(p,u,!0),arguments[0]),arguments.length>1&&(n=arguments[1],c=!0);else{if(!st(arguments[0]))throw new TypeError(S("invalid argument. First argument must either be a positive integer specifying the number of clusters or a matrix containing initial centroids. Value: `%s`.",arguments[0]));if(p=arguments[0],!st(u=arguments[1]))throw new TypeError(S("invalid argument. Argument specifying number of dimensions must be a positive integer. Value: `%s`.",u));arguments.length>2&&(n=arguments[2],c=!0)}if((f={metric:"euclidean",init:Os["kmeans++"].slice(),seed:ls(),normalize:!0,copy:!0}).init[1]=p,f.init[2]=2+rt(function(t){var e,r,n,i,o,a,u,s,f,l,h,c;return 0===t?et:Mn(t)||t<0?NaN:(o=0,(r=io(t))<ds&&(o-=54,r=io(t*=ps)),r>=ms?t+t:(o+=(r>>20)-Fi|0,o+=(s=614244+(r&=ys)&1048576|0)>>20|0,u=(t=Wo(t,r|s^vs))-1,(ys&2+r)<3?0===u?0===o?0:o*hs+o*cs:(a=u*u*(.5-gs*u),0===o?u-a:o*hs-(a-o*cs-u)):(s=r-398458|0,f=440401-r|0,i=(h=(c=(l=u/(2+u))*l)*c)*function(t){return 0===t?.3999999999940942:.3999999999940942+t*(.22222198432149784+.15313837699209373*t)}(h),n=c*function(t){return 0===t?.6666666666666735:.6666666666666735+t*(.2857142874366239+t*(.1818357216161805+.14798198605116586*t))}(h),a=n+i,(s|=f)>0?(e=.5*u*u,0===o?u-(e-l*(e+a)):o*hs-(e-(l*(e+a)+o*cs)-u)):0===o?u-l*(u-a):o*hs-(l*(u-a)-o*cs-u))))}(p)),c&&(h=function(t,e){if(!uu(e))return new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",e));if(G(e,"metric")&&(t.metric=e.metric,!xs(t.metric)))return new TypeError(S('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"metric",Ts.join('", "'),t.metric));if(G(e,"init")){if(!ze(e.init))return new TypeError(S("invalid option. `%s` option must be an array-like object. Option: `%s`.","init",e.init));if(!Rs(e.init[0]))return new TypeError(S('invalid option. `%s` option method must be one of the following: "%s". Option: `%s`.',"init",As.join('", "'),e.init[0]));if(t.init[0]=e.init[0],e.init.length>1&&(t.init[1]=e.init[1],!st(t.init[1])))return new TypeError(S("invalid option. First `%s` parameter option must be a positive integer. Option: `%s`.","init",t.init[1]));if(e.init.length>2&&(t.init[2]=e.init[2],!st(t.init[2])))return new TypeError(S("invalid option. Second `%s` parameter option must be a positive integer. Option: `%s`.","init",t.init[2]))}return G(e,"normalize")&&(t.normalize=e.normalize,!ht(t.normalize))?new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","normalize",t.normalize)):G(e,"copy")&&(t.copy=e.copy,!ht(t.copy))?new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",t.copy)):(G(e,"seed")&&(t.seed=e.seed),null)}(f,n)))throw h;if(f.init[1]<p)throw new RangeError(S("invalid option. First `%s` parameter option must be greater than or equal to the number of clusters. Options: `%f`.","init",f.init[1]));return i=function(t,e){var r={};return r.centroids=ws(t,e,!1),r.stats=ws(t,oh,!1),r}(p,u),a=ws(p,oh,!0),t=function(t,e){var r,n;for(r=[],n=0;n<e;n++)r.push(0);return function(e,n){var i,o,a;return a=t.get(e,0)+1,t.set(e,0,a),t.set(e,1,t.get(e,1)+n),o=t.get(e,2),o+=(i=n-o)/a,r[e]+=i*(n-o),t.set(e,2,o),t.set(e,3,Io(r[e]/(a-1))),t}}(a,p),"cosine"===f.metric?(s=Zl,f.copy&&(o=Es(u,!0))):"correlation"===f.metric?(s=Kl,f.normalize&&(r=function(t){var e,r,n,i,o;for(e=2*(n=new Ht(2*t)).BYTES_PER_ELEMENT,r=[],i=0,o=0;o<t;o++)r.push(ih(new Ht(n.buffer,i,2))),i+=e;return function(e){var i;if(0===arguments.length)return n;for(i=0;i<t;i++)r[i](e.get(i));return n}}(u)),f.copy&&(o=Es(u,!0))):s=Xl,void 0===e?(e=ws(p,u,!0),l=nh(e,a,t,r,s,f)):bs(i.centroids,e),k(g,"seed",f.seed),k(g,"predict",(function(t,n){var i,o,a,h,c,g,y,m,d,v,w;if(arguments.length>1){if(!_i(t))throw new TypeError(S("invalid argument. Output argument must be a one-dimensional ndarray. Value: `%s`.",t));d=t,m=n}else m=t;if(!Vu(m))throw new TypeError(S("invalid argument. Must provide a two-dimensional ndarray. Value: `%s`.",m));if(m.shape[1]!==u)throw new Error(S("invalid argument. Number of matrix columns must match centroid dimensions. Expected: `%u`. Actual: `%u`.",u,m.shape[1]));if(void 0===d)d=Es(m.shape[0],!1);else if(d.length!==m.shape[0])throw new Error(S("invalid argument. Output vector length must match the number of data points. Expected: `%u`. Actual: `%u`.",m.shape[0],d.length));if(l)return null;a=m.shape[0],f.normalize&&("cosine"===f.metric?(f.copy&&(m=bs(ws(a,u,!0),m)),m=Ss(m)):"correlation"===f.metric&&(f.copy&&(m=bs(ws(a,u,!0),m)),m=Ls(m,r())));for(o=e.data,g=e.strides[0],i=m.data,h=m.strides[0],c=m.strides[1],y=m.offset,w=0;w<a;w++)v=eh(s,p,u,o,g,0,i,c,y),d.set(w,v),y+=h;return d})),g;function g(n){var h,c,g,y,m,d,v,w,b,E,_;if(0===arguments.length)return l?null:i;if(!_i(w=n))throw new TypeError(S("invalid argument. Must provide a one-dimensional ndarray. Value: `%s`.",w));if(w.shape[0]!==u)throw new Error(S("invalid argument. Vector length must match centroid dimensions. Expected: `%u``. Actual: `%u``.",u,w.shape[0]));if(r&&r(w),l){if(!1===l(w))return null;l=void 0}else f.normalize&&("cosine"===f.metric?(f.copy&&(w=_s(o,w)),Vs(u,w.data,w.strides[0],w.offset)):"correlation"===f.metric&&(f.copy&&(w=_s(o,w)),g=r(),js(u,w.data,w.strides[0],w.offset,g,2,0,g,2,1))),h=e.data,m=e.strides[0],c=w.data,y=w.strides[0],d=w.offset,v=m*(_=eh(s,p,u,h,m,0,c,y,d)),b=a.get(_,0)+1,rh(u,b,h,1,v,c,y,d),E=s(u,h,1,v,c,y,d),t(_,E);return ji(e.length,e.data,1,i.centroids.data,1),ji(a.length,a.data,1,i.stats.data,1),i}})),U(ph,"incrSGDRegression",(function(t){var e,r,n,i,o,a,u;if(a=Bl(ch),arguments.length>0&&(u=function(t,e){return uu(e)?G(e,"epsilon")&&(t.epsilon=e.epsilon,!Eu(t.epsilon))?new TypeError(S("invalid option. `%s` option must be a positive number. Option: `%s`.","epsilon",t.epsilon)):G(e,"eta0")&&(t.eta0=e.eta0,!Eu(t.eta0))?new TypeError(S("invalid option. `%s` option must be a positive number. Option: `%s`.","eta0",t.eta0)):G(e,"lambda")&&(t.lambda=e.lambda,!vu(t.lambda))?new TypeError(S("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","lambda",t.lambda)):G(e,"learningRate")&&(t.learningRate=e.learningRate,!Je(t.learningRate))?new TypeError(S("invalid option. `%s` option must be a string. Option: `%s`.","learningRate",t.learningRate)):G(e,"loss")&&(t.loss=e.loss,!Je(t.loss))?new TypeError(S("invalid option. `%s` option must be a string. Option: `%s`.","loss",t.loss)):G(e,"intercept")&&(t.intercept=e.intercept,!ht(t.intercept))?new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","intercept",t.intercept)):null:new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",e))}(a,t)))throw u;switch(n=null,a.loss){case"epsilonInsensitive":r=fh;break;case"huber":r=hh;break;case"squaredError":r=lh;break;default:throw Error(S('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"loss",["epsilonInsensitive","huber","squaredError"].join('", "'),a.loss))}function o(t,o){var u;if(!Pt(t))throw new TypeError(S("invalid argument. First argument must be an array. Value: `%s`.",t));if(n||(n=new ah(t.length,a.intercept),e=a.intercept?n.nWeights-1:n.nWeights),t.length!==e)throw new TypeError(S("invalid argument. First argument must be an array of length %u. Value: `%s`.",e,t));u=i(),r(n,t,o,u,a.lambda,a.epsilon)}return i=function(t,e,r){var n,i;switch(n=1,t){case"basic":i=function(){var t=1e3/(n+1e3);return n+=1,t};break;case"constant":i=function(){return n+=1,e};break;case"pegasos":i=function(){var t=1/(r*n);return n+=1,t};break;default:throw new Error(S('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"learningRate",["basic","constant","pegasos"].join('", "'),t))}return i}(a.learningRate,a.eta0,a.lambda),_t(o,"coefs",(function(){var t,e;for(t=new Array(n.nWeights),e=0;e<t.length;e++)t[e]=n._data[e]*n.scale;return t})),k(o,"predict",(function(t){if(!Pt(t)||t.length!==e)throw new TypeError(S("invalid argument. First argument must be an array of length %u. Value: `%s`.",e||0,t));return n.innerProduct(t)})),o}));var gh={};return U(gh,"incr",ph),gh}));
//# sourceMappingURL=browser.js.map
