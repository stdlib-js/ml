"use strict";var p=function(e,r){return function(){return r||e((r={exports:{}}).exports,r),r.exports}};var mr=p(function(en,hr){
var R=require('@stdlib/utils/define-nonenumerable-read-only-property/dist'),dr=require('@stdlib/utils/define-nonenumerable-read-only-accessor/dist'),si=require('@stdlib/string/format/dist'),oi=require('@stdlib/blas/base/gdot/dist').ndarray,ui=require('@stdlib/blas/base/gaxpy/dist').ndarray,vi=require('@stdlib/blas/base/dcopy/dist'),fr=require('@stdlib/blas/base/dscal/dist'),li=require('@stdlib/math/base/special/max/dist'),ci=require('@stdlib/math/base/special/exp/dist'),di=require('@stdlib/math/base/special/pow/dist'),fi=require('@stdlib/math/base/special/expit/dist'),W=require('@stdlib/array/float64/dist'),pr=require('@stdlib/ndarray/ctor/dist'),pi=require('@stdlib/ndarray/base/shape2strides/dist'),hi=require('@stdlib/ndarray/base/numel/dist'),mi=require('@stdlib/ndarray/base/vind2bind/dist'),gi=1e-7,qi=1e-11,bi={basic:"_basicLearningRate",constant:"_constantLearningRate",invscaling:"_inverseScalingLearningRate",pegasos:"_pegasosLearningRate"},yi={hinge:"_hingeLoss",log:"_logLoss",modifiedHuber:"_modifiedHuberLoss",perceptron:"_perceptronLoss",squaredHinge:"_squaredHingeLoss"};function E(e,r){var i;return this._N=e,this._opts=r,this._scaleFactor=1,this._t=0,this._learningRateMethod=bi[r.learningRate[0]],this._lossMethod=yi[r.loss],i=e,r.intercept&&(i+=1),this._weights=new W(i),this._coefficients=new pr("float64",new W(i),[i],[1],0,"row-major"),this}R(E.prototype,"_add",function(r,i){var a=i/this._scaleFactor,t=this._weights;return ui(r.shape[0],a,r.data,r.strides[0],r.offset,t,1,0),this._opts.intercept&&(t[this._N]+=a),this});R(E.prototype,"_basicLearningRate",function(){return 10/(10+this._t)});R(E.prototype,"_constantLearningRate",function(){return this._opts.learningRate[1]});R(E.prototype,"_dot",function(r,i,a){var t=oi(this._N,this._weights,1,0,r,i,a);return this._opts.intercept&&(t+=this._weights[this._N]),t*=this._scaleFactor,t});R(E.prototype,"_hingeLoss",function(r,i){var a,t;return a=this[this._learningRateMethod](),this._regularize(a),t=this._dot(r.data,r.strides[0],r.offset),i*t<1&&this._add(r,i*a),this});R(E.prototype,"_inverseScalingLearningRate",function(){var r=this._opts.learningRate;return r[1]/di(this._t,r[2])});R(E.prototype,"_logLoss",function(r,i){var a,t,n;return t=this[this._learningRateMethod](),this._regularize(t),n=this._dot(r.data,r.strides[0],r.offset),a=i/(1+ci(i*n)),this._add(r,t*a),this});R(E.prototype,"_modifiedHuberLoss",function(r,i){var a,t;return a=this[this._learningRateMethod](),this._regularize(a),t=i*this._dot(r.data,r.strides[0],r.offset),t<-1?this._add(r,4*a*i):this._add(r,a*(i-t*i)),this});R(E.prototype,"_pegasosLearningRate",function(){return 1/(this._opts.lambda*this._t)});R(E.prototype,"_perceptronLoss",function(r,i){var a,t;return a=this[this._learningRateMethod](),this._regularize(a),t=this._dot(r.data,r.strides[0],r.offset),i*t<=0&&this._add(r,i*a),this});R(E.prototype,"_regularize",function(r){var i=this._opts.lambda;return i<=0?this:(this._scale(li(1-r*i,gi)),this)});R(E.prototype,"_scale",function(r){var i;if(r<=0)throw new RangeError(si('0h9Eb',r));return i=this._scaleFactor,i<qi&&(fr(this._N,i,this._weights,1),this._scaleFactor=1),this._scaleFactor*=r,this});R(E.prototype,"_squaredHingeLoss",function(r,i){var a,t;return a=this[this._learningRateMethod](),this._regularize(a),t=i*this._dot(r.data,r.strides[0],r.offset),t<1&&this._add(r,a*(i-t*i)),this});dr(E.prototype,"coefficients",function(){var r=this._coefficients.data,i=this._weights;return vi(i.length,i,1,r,1),fr(this._N,this._scaleFactor,r,1),this._coefficients});dr(E.prototype,"nfeatures",function(){return this._N});R(E.prototype,"predict",function(r,i){var a,t,n,o,s,v,u,l,c,d,m,g,_,y,q,h;for(t=r.data,o=r.shape,c=r.strides,m=r.offset,v=r.order,a=o.length-1,s=[],h=0;h<a;h++)s.push(o[h]);for(a===0?(g=1,n=new W(1),d=[0]):(g=hi(s),n=new W(g),d=pi(s,v)),y=new pr("int8",n,s,d,0,v),_=this._N,l=c[a],h=0;h<g;h++)u=mi(o,c,m,v,h*_,"throw"),q=this._dot(t,l,u),i==="label"?q=q>0?1:-1:i==="probability"&&(q=fi(q)),a===0?y.iset(q):y.iset(h,q);return y});R(E.prototype,"update",function(r,i){return this._t+=1,this[this._lossMethod](r,i)});hr.exports=E
});var gr=p(function(an,wi){wi.exports={basic:["basic"],constant:["constant",.02],invscaling:["invscaling",.02,.5],pegasos:["pegasos"]}});var qr=p(function(tn,_i){_i.exports=["basic","constant","invscaling","pegasos"]});var br=p(function(nn,Ei){Ei.exports=["hinge","log","modifiedHuber","perceptron","squaredHinge"]});var Rr=p(function(sn,Er){
var Ri=require('@stdlib/assert/is-nonnegative-number/dist').isPrimitive,Ti=require('@stdlib/assert/is-positive-number/dist').isPrimitive,Oi=require('@stdlib/assert/is-number/dist').isPrimitive,Li=require('@stdlib/assert/is-boolean/dist').isPrimitive,Ni=require('@stdlib/assert/is-array-like-object/dist'),Ai=require('@stdlib/assert/is-plain-object/dist'),B=require('@stdlib/assert/has-own-property/dist'),yr=require('@stdlib/assert/contains/dist'),x=require('@stdlib/string/format/dist'),wr=qr(),_r=br();function Mi(e,r){var i;if(!Ai(r))return new TypeError(x('0h92V',r));if(B(r,"intercept")&&(e.intercept=r.intercept,!Li(e.intercept)))return new TypeError(x('0h92o',"intercept",e.intercept));if(B(r,"lambda")&&(e.lambda=r.lambda,!Ri(e.lambda)))return new TypeError(x('0h94k',"lambda",e.lambda));if(B(r,"learningRate")){if(!Ni(r.learningRate))return new TypeError(x('0h94l',"learningRate",r.learningRate));if(i=r.learningRate[0],e.learningRate[0]=i,!yr(wr,i))return new TypeError(x('0h94m',"learningRate",wr.join('", "'),i));if(r.learningRate.length>1&&(i==="constant"||i==="invscaling")&&(e.learningRate[1]=r.learningRate[1],!Ti(e.learningRate[1])))return new TypeError(x('0h94n',"learningRate",e.learningRate[1]));if(r.learningRate.length>2&&i==="invscaling"&&(e.learningRate[2]=r.learningRate[2],!Oi(e.learningRate[2])))return new TypeError(x('0h94o',"learningRate",e.learningRate[2]));}return B(r,"loss")&&(e.loss=r.loss,!yr(_r,e.loss))?new TypeError(x('0h94S',"loss",_r.join('", "'),e.loss)):null;}Er.exports=Mi
});var Or=p(function(on,Tr){
var zi=require('@stdlib/assert/is-positive-integer/dist').isPrimitive,Fi=require('@stdlib/assert/is-vector-like/dist'),Pi=require('@stdlib/assert/is-ndarray-like/dist'),xi=require('@stdlib/utils/define-nonenumerable-read-only-property/dist'),S=require('@stdlib/string/format/dist'),Si=mr(),Vi=gr(),ki=Rr();function Ii(e,r){var i,a,t;if(!zi(e))throw new TypeError(S('0h94b',e));if(a={intercept:!0,lambda:1e-4,learningRate:Vi.basic.slice(),loss:"log"},arguments.length>1&&(t=ki(a,r),t))throw t;return i=new Si(e,a),xi(n,"predict",o),n;function n(s,v){if(arguments.length===0)return i.coefficients;if(!Fi(s))throw new TypeError(S('0h94c',s));if(v!==-1&&v!==1)throw new TypeError(S('0h94d',v));if(s.shape[0]!==i.nfeatures)throw new TypeError(S('0h94e',i.nfeatures,s.shape[0]));return i.update(s,v),i.coefficients}function o(s,v){var u,l;if(!Pi(s))throw new TypeError(S('0h94f',s));if(u=s.shape,u[u.length-1]!==e)throw new TypeError(S('0h9Ea',e,u[u.length-1]));if(l="label",arguments.length>1){if(v==="probability"){if(a.loss!=="log"&&a.loss!=="modifiedHuber")throw new Error(S('0h94h',["log","modifiedHuber"].join('", "'),a.loss))}else if(v!=="label"&&v!=="linear")throw new TypeError(S('0h94i',v));l=v}return i.predict(s,l)}}Tr.exports=Ii
});var Nr=p(function(un,Lr){
var ji=Or();Lr.exports=ji
});var Z=p(function(vn,Ar){
var Ci=require('@stdlib/array/float64/dist'),Hi=require('@stdlib/ndarray/ctor/dist'),Di=require('@stdlib/ndarray/base/ctor/dist');function Wi(e,r,i){var a,t,n,o;return i?o=Di:o=Hi,t=new Ci(e*r),n=[e,r],a=[r,1],o("float64",t,n,a,0,"row-major")}Ar.exports=Wi
});var zr=p(function(ln,Mr){
var Bi=require('@stdlib/blas/base/gcopy/dist').ndarray;function Gi(e,r){var i,a,t,n,o,s,v,u,l,c,d;for(l=r.shape[0],c=r.shape[1],i=r.data,a=e.data,t=r.strides[0],n=r.strides[1],o=e.strides[0],s=e.strides[1],v=r.offset,u=e.offset,d=0;d<l;d++)Bi(c,i,n,v,a,s,u),v+=t,u+=o;return e}Mr.exports=Gi
});var Pr=p(function(cn,Fr){
var Ui=require('@stdlib/array/float64/dist'),Ji=require('@stdlib/ndarray/ctor/dist'),Ki=require('@stdlib/ndarray/base/ctor/dist');function Qi(e,r){var i,a,t,n;return r?n=Ki:n=Ji,a=new Ui(e),t=[e],i=[1],n("float64",a,t,i,0,"row-major")}Fr.exports=Qi
});var Sr=p(function(dn,xr){
var Zi=require('@stdlib/blas/base/gcopy/dist').ndarray;function $i(e,r){return Zi(r.shape[0],r.data,r.strides[0],r.offset,e.data,e.strides[0],e.offset),e}xr.exports=$i
});var Vr=p(function(fn,Yi){Yi.exports=["euclidean","correlation","cosine"]});var kr=p(function(pn,Xi){Xi.exports=["forgy","sample","kmeans++"]});var Br=p(function(hn,Wr){
var ra=require('@stdlib/assert/is-plain-object/dist'),D=require('@stdlib/assert/has-own-property/dist'),Ir=require('@stdlib/assert/is-boolean/dist').isPrimitive,ea=require('@stdlib/assert/is-array-like-object/dist'),jr=require('@stdlib/assert/is-positive-integer/dist').isPrimitive,Cr=require('@stdlib/assert/contains/dist'),V=require('@stdlib/string/format/dist'),Hr=Vr(),Dr=kr();function ia(e,r){if(!ra(r))return new TypeError(V('0h92V',r));if(D(r,"metric")&&(e.metric=r.metric,!Cr(Hr,e.metric)))return new TypeError(V('0h94S',"metric",Hr.join('", "'),e.metric));if(D(r,"init")){if(!ea(r.init))return new TypeError(V('0h94l',"init",r.init));if(!Cr(Dr,r.init[0]))return new TypeError(V('0h94y',"init",Dr.join('", "'),r.init[0]));if(e.init[0]=r.init[0],r.init.length>1&&(e.init[1]=r.init[1],!jr(e.init[1])))return new TypeError(V('0h94z',"init",e.init[1]));if(r.init.length>2&&(e.init[2]=r.init[2],!jr(e.init[2])))return new TypeError(V('0h950',"init",e.init[2]));}return D(r,"normalize")&&(e.normalize=r.normalize,!Ir(e.normalize))?new TypeError(V('0h92o',"normalize",e.normalize)):D(r,"copy")&&(e.copy=r.copy,!Ir(e.copy))?new TypeError(V('0h92o',"copy",e.copy)):(D(r,"seed")&&(e.seed=r.seed),null);}Wr.exports=ia
});var Gr=p(function(mn,aa){aa.exports={forgy:["forgy",1],sample:["sample",1],"kmeans++":["kmeans++",1,1]}});var $=p(function(gn,Ur){
var ta=require('@stdlib/math/base/special/sqrt/dist');function na(e,r,i,a){var t,n,o,s;for(n=0,t=a,s=0;s<e;s++)o=r[t],n+=o*o,t+=i;for(n=ta(n),t=a,s=0;s<e;s++)r[t]/=n;return r}Ur.exports=na
});var Y=p(function(qn,Jr){
var sa=$();function oa(e){var r,i,a,t,n,o,s;for(r=e.data,n=e.shape[0],o=e.shape[1],i=e.strides[0],a=e.strides[1],t=e.offset,s=0;s<n;s++)sa(o,r,a,t),t+=i;return e}Jr.exports=oa
});var X=p(function(bn,Kr){
function ua(e,r,i,a,t,n,o,s,v,u){var l,c,d,m;for(l=a,c=o,d=u,m=0;m<e;m++)r[l]=(r[l]-t[c])/s[d],l+=i,c+=n,d+=v;return r}Kr.exports=ua
});var rr=p(function(yn,Qr){
var va=X();function la(e,r){var i,a,t,n,o,s,v;for(i=e.data,o=e.shape[0],s=e.shape[1],a=e.strides[0],t=e.strides[1],n=e.offset,v=0;v<o;v++)va(s,i,t,n,r,2,0,r,2,1),n+=a;return e}Qr.exports=la
});var $r=p(function(wn,Zr){
var ca=require('@stdlib/random/sample/dist').factory,da=require('@stdlib/blas/base/dcopy/dist').ndarray;function fa(e,r,i){var a,t,n,o,s,v,u,l,c,d,m,g;for(d=e.shape[0],m=e.shape[1],n=e.data,u=e.strides[1],l=e.offset,o=r.data,s=r.strides[0],v=r.strides[1],t=[],g=0;g<r.shape[0];g++)t.push(g);for(d===t.length?c=t:(a=ca({seed:i,size:d,mutate:!1,replacement:!1}),c=a(t)),g=0;g<d;g++)da(m,o,v,s*c[g],n,u,l);return e}Zr.exports=fa
});var Xr=p(function(_n,Yr){
var pa=require('@stdlib/math/base/special/sqrt/dist');function ha(e,r,i,a,t,n,o){var s,v,u,l,c;for(s=a,v=o,l=0,c=0;c<e;c++)u=r[s]-t[v],l+=u*u,s+=i,v+=n;return pa(l)}Yr.exports=ha
});var er=p(function(En,re){
var ma=Xr();function ga(e,r,i,a,t,n,o){var s=ma(e,r,i,a,t,n,o);return s*s}re.exports=ga
});var ir=p(function(Rn,ee){
function qa(e,r,i,a,t,n,o){var s,v,u,l;for(s=a,v=o,u=0,l=0;l<e;l++)u+=r[s]*t[v],s+=i,v+=n;return u}ee.exports=qa
});var ar=p(function(Tn,ie){
var ba=ir();function ya(e,r,i,a,t,n,o){var s=1-ba(e,r,i,a,t,n,o);return s*s}ie.exports=ya
});var tr=p(function(On,ae){
var wa=ir();function _a(e,r,i,a,t,n,o){var s=1-wa(e,r,i,a,t,n,o);return s*s}ae.exports=_a
});var oe=p(function(Ln,se){
var Ea=require('@stdlib/random/base/discrete-uniform/dist').factory,Ra=require('@stdlib/random/base/mt19937/dist').factory,te=require('@stdlib/constants/float64/pinf/dist'),ne=require('@stdlib/blas/base/dcopy/dist').ndarray,Ta=er(),Oa=ar(),La=tr();function Na(e,r,i,a,t,n){var o,s,v,u,l;for(u=t.data,v=t.strides[0],o=v*n,s=0,l=0;l<i;l++)e[l]=r(a,u,1,s,u,1,o),s+=v;return e}function Aa(e,r,i,a,t){var n,o,s,v,u,l,c,d,m,g,_,y,q,h,w,A,z,F,M,N,f,T,O,L,cr,b,H,Q;if(L=e.shape[0],v=e.shape[1],d=r.shape[0],y=e.data,z=e.strides[0],F=e.strides[1],M=e.offset,q=r.data,w=r.strides[0],A=r.strides[1],c=Ra({seed:t}),s=Ea({seed:c()}),c=c.normalized,i==="cosine"?_=Oa:i==="correlation"?_=La:_=Ta,O=s(0,d-1),L===1)return ne(v,q,A,w*O,y,F,M);for(n=[O],N=new Array(v),u=new Array(d*2),h=0,b=0;b<d;b++)u[h]=te,u[h+1]=0,h+=2;for(l=new Array(d),H=1;H<L;H++){for(Na(N,_,d,v,r,n[H-1]),m=0,h=0,b=0;b<d;b++)N[b]<u[h]?(u[h]=N[b],u[h+1]=H-1,m+=N[b]):m+=u[h],h+=2;for(l[0]=u[0]/m,h=2,b=1;b<d;b++)l[b]=l[b-1]+u[h]/m,h+=2;for(g=te,f=-1,Q=0;Q<a;Q++){for(O=-1;O===-1;)for(cr=c(),b=0;b<d;b++)if(cr<l[b]){O=b;break}for(m=0,o=w*O,h=0,b=0;b<d;b++)T=_(v,q,1,w*b,q,1,o),T<u[h]?m+=T:m+=u[h],h+=2;m<g&&(g=m,f=O)}n.push(f)}for(b=0;b<L;b++)ne(v,q,A,w*n[b],y,F,M),M+=z;return e}se.exports=Aa
});var ve=p(function(Nn,ue){
var Ma=require('@stdlib/random/base/discrete-uniform/dist').factory,za=require('@stdlib/stats/incr/mean/dist');function Fa(e,r,i){var a,t,n,o,s,v,u,l,c,d,m,g,_,y,q,h,w;for(y=e.shape[0],q=e.shape[1],t=e.data,u=e.strides[0],l=e.strides[1],d=e.offset,o=r.data,n=r.shape[0],s=r.strides[0],v=r.strides[1],g=r.offset,a=Ma(0,y-1,{seed:i}),c=[],h=0;h<y*q;h++)c.push(za());for(h=0;h<n;h++){for(_=a(),m=q*_,w=0;w<q;w++)c[m+w](o[g+v*w]);g+=s}for(m=0,h=0;h<y;h++){for(w=0;w<q;w++)t[d+l*w]=c[m](),m+=1;d+=u}return e}ue.exports=Fa
});var nr=p(function(An,le){
var Pa=require('@stdlib/constants/float64/pinf/dist');function xa(e,r,i,a,t,n,o,s,v){var u,l,c,d;for(u=Pa,d=0;d<r;d++)c=e(i,a,1,n,o,s,v),c<u&&(u=c,l=d),n+=t;return l}le.exports=xa
});var sr=p(function(Mn,ce){
function Sa(e,r,i,a,t,n,o,s){var v,u,l;for(l=0;l<e;l++)u=i[t],v=n[s]-u,u+=v/r,i[t]=u,t+=a,s+=o;return i}ce.exports=Sa
});var fe=p(function(zn,de){
var Va=nr(),ka=sr();function Ia(e,r,i,a,t){var n,o,s,v,u,l,c,d,m,g,_,y,q;for(g=r.shape[0],n=r.shape[1],v=e.shape[0],o=r.data,u=r.strides[0],s=e.data,l=e.strides[0],d=0,q=0;q<v;q++)_=Va(t,g,n,o,u,0,s,1,d),c=u*_,m=i.get(_,0)+1,ka(n,m,o,1,c,s,1,d),y=t(n,o,1,c,s,1,d),a(_,y),d+=l}de.exports=Ia
});var he=p(function(Fn,pe){
var ja=require('@stdlib/blas/base/gcopy/dist').ndarray,Ca=Z(),Ha=Y(),Da=rr(),Wa=$r(),Ba=oe(),Ga=ve(),Ua=fe();function Ja(e,r,i,a,t,n){var o,s;return s=e.shape[1],v;function v(u){return o===void 0&&(o=Ca(n.init[1],s,!0),o.count=0),o.count<n.init[1]&&(ja(s,u.data,u.strides[0],u.offset,o.data,o.strides[1],o.strides[0]*o.count),o.count+=1,o.count<n.init[1])?!1:(n.normalize&&(n.metric==="cosine"?o=Ha(o):n.metric==="correlation"&&(o=Da(o,a()))),n.init[0]==="forgy"?e=Ga(e,o,n.seed):n.init[0]==="sample"?e=Wa(e,o,n.seed):e=Ba(e,o,n.metric,n.init[2],n.seed),Ua(o,e,r,i,t),!0)}}pe.exports=Ja
});var ge=p(function(Pn,me){
var Ka=require('@stdlib/math/base/special/sqrt/dist');function Qa(e,r){var i,a;for(i=[],a=0;a<r;a++)i.push(0);return t;function t(n,o){var s,v,u;return u=e.get(n,0)+1,e.set(n,0,u),e.set(n,1,e.get(n,1)+o),v=e.get(n,2),s=o-v,v+=s/u,i[n]+=s*(o-v),e.set(n,2,v),e.set(n,3,Ka(i[n]/(u-1))),e}}me.exports=Qa
});var ye=p(function(xn,be){
var Za=require('@stdlib/stats/incr/meanstdev/dist'),qe=require('@stdlib/array/float64/dist');function $a(e){var r,i,a,t,n,o;for(i=2,t=new qe(e*i),r=i*t.BYTES_PER_ELEMENT,a=[],n=0,o=0;o<e;o++)a.push(Za(new qe(t.buffer,n,i))),n+=r;return s;function s(v){var u;if(arguments.length===0)return t;for(u=0;u<e;u++)a[u](v.get(u));return t}}be.exports=$a
});var Me=p(function(Sn,Ae){
var we=require('@stdlib/assert/is-positive-integer/dist').isPrimitive,_e=require('@stdlib/assert/is-matrix-like/dist'),Ee=require('@stdlib/assert/is-vector-like/dist'),Re=require('@stdlib/utils/define-nonenumerable-read-only-property/dist'),P=require('@stdlib/string/format/dist'),Ya=require('@stdlib/random/base/minstd-shuffle/dist'),Xa=require('@stdlib/math/base/special/floor/dist'),rt=require('@stdlib/math/base/special/ln/dist'),Te=require('@stdlib/blas/base/dcopy/dist'),k=Z(),G=zr(),or=Pr(),Oe=Sr(),et=Br(),it=Gr(),at=he(),tt=ge(),nt=ye(),st=er(),ot=ar(),ut=tr(),Le=nr(),vt=sr(),lt=$(),ct=Y(),dt=X(),ft=rr(),Ne=4;function pt(e,r){var i={};return i.centroids=k(e,r,!1),i.stats=k(e,Ne,!1),i}function ht(){var e,r,i,a,t,n,o,s,v,u,l,c,d,m;if(_e(arguments[0]))m=arguments[0].shape[0],s=arguments[0].shape[1],r=k(m,s,!0),r=G(r,arguments[0]),arguments.length>1&&(a=arguments[1],d=!0);else if(we(arguments[0])){if(m=arguments[0],s=arguments[1],!we(s))throw new TypeError(P('0h94p',s));arguments.length>2&&(a=arguments[2],d=!0)}else throw new TypeError(P('0h94q',arguments[0]));if(u={metric:"euclidean",init:it["kmeans++"].slice(),seed:Ya(),normalize:!0,copy:!0},u.init[1]=m,u.init[2]=2+Xa(rt(m)),d&&(c=et(u,a),c))throw c;if(u.init[1]<m)throw new RangeError(P('0h94r',"init",u.init[1]));return t=pt(m,s),o=k(m,Ne,!0),e=tt(o,m),u.metric==="cosine"?(v=ot,u.copy&&(n=or(s,!0))):u.metric==="correlation"?(v=ut,u.normalize&&(i=nt(s)),u.copy&&(n=or(s,!0))):v=st,r===void 0?(r=k(m,s,!0),l=at(r,o,e,i,v,u)):G(t.centroids,r),Re(g,"seed",u.seed),Re(g,"predict",_),g;function g(y){var q,h,w,A,z,F,M,N,f,T,O,L;if(arguments.length===0)return l?null:t;if(f=y,!Ee(f))throw new TypeError(P('0h9Dd',f));if(f.shape[0]!==s)throw new Error(P('0h94t',s,f.shape[0]));if(i&&i(f),l){if(q=l(f),q===!1)return null;l=void 0}else u.normalize&&(u.metric==="cosine"?(u.copy&&(f=Oe(n,f)),lt(s,f.data,f.strides[0],f.offset)):u.metric==="correlation"&&(u.copy&&(f=Oe(n,f)),A=i(),dt(s,f.data,f.strides[0],f.offset,A,2,0,A,2,1))),h=r.data,F=r.strides[0],w=f.data,z=f.strides[0],M=f.offset,L=Le(v,m,s,h,F,0,w,z,M),N=F*L,T=o.get(L,0)+1,vt(s,T,h,1,N,w,z,M),O=v(s,h,1,N,w,z,M),e(L,O);return Te(r.length,r.data,1,t.centroids.data,1),Te(o.length,o.data,1,t.stats.data,1),t}function _(y,q){var h,w,A,z,F,M,N,f,T,O,L;if(arguments.length>1){if(!Ee(y))throw new TypeError(P('0h9Ec',y));T=y,f=q}else f=y;if(!_e(f))throw new TypeError(P('0h9Ed',f));if(f.shape[1]!==s)throw new Error(P('0h9Ee',s,f.shape[1]));if(T===void 0)T=or(f.shape[0],!1);else if(T.length!==f.shape[0])throw new Error(P('0h94x',f.shape[0],T.length));if(l)return null;for(A=f.shape[0],u.normalize&&(u.metric==="cosine"?(u.copy&&(f=G(k(A,s,!0),f)),f=ct(f)):u.metric==="correlation"&&(u.copy&&(f=G(k(A,s,!0),f)),f=ft(f,i()))),w=r.data,M=r.strides[0],h=f.data,z=f.strides[0],F=f.strides[1],N=f.offset,L=0;L<A;L++)O=Le(v,m,s,w,M,0,h,F,N),T.set(L,O),N+=z;return T}}Ae.exports=ht
});var Fe=p(function(Vn,ze){
var mt=Me();ze.exports=mt
});var xe=p(function(kn,Pe){
function gt(e,r){var i=e.length,a=0,t;for(t=0;t<i;t++)a+=e[t]*r[t];return a}Pe.exports=gt
});var ke=p(function(In,Ve){
var qt=require('@stdlib/assert/is-positive-integer/dist'),bt=require('@stdlib/assert/is-boolean/dist'),vr=require('@stdlib/utils/define-nonenumerable-read-only-property/dist'),ur=require('@stdlib/string/format/dist'),Se=require('@stdlib/math/base/special/pow/dist'),yt=xe(),wt=1e-11;function _t(e){var r;if(this.scale<wt){for(r=0;r<this.nWeights;r++)this._data[r]*=this.scale;this.scale=1}if(this.norm*=Se(e,2),e>0)this.scale*=e;else throw new RangeError(ur('0h954',e))}function Et(e,r){var i,a,t;for(a=0,r===void 0&&(r=1),t=0;t<e.length;t++)i=e[t]*r,a+=this._data[t]*i,this._data[t]=this._data[t]+i/this.scale;this.intercept&&(i=1*r,a+=this._data[t]*i,this._data[t]=this._data[t]+i/this.scale),this.norm+=(yt(e,e)+(this.intercept?1:0))*Se(r,2)+2*this.scale*a}function Rt(e){var r=0,i;for(i=0;i<e.length;i++)r+=this._data[i]*e[i];return r+=this.intercept?this._data[i]:0,r*=this.scale,r}function j(e,r){var i;if(!(this instanceof j))return new j(e,r);if(!qt(e))throw new TypeError(ur('0h94b',e));if(!bt(r))throw new TypeError(ur('0h955',r));for(this.scale=1,this.norm=0,this.intercept=r,this.nWeights=e+(this.intercept?1:0),this._data=new Array(this.nWeights),i=0;i<this.nWeights;i++)this._data[i]=0}vr(j.prototype,"scaleTo",_t);vr(j.prototype,"add",Et);vr(j.prototype,"innerProduct",Rt);Ve.exports=j
});var U=p(function(jn,Ie){
var Tt=require('@stdlib/math/base/special/max/dist'),Ot=1e-7;function Lt(e,r,i){var a;r>0&&(a=1-i*r,e.scaleTo(Tt(a,Ot)))}Ie.exports=Lt
});var Ce=p(function(Cn,je){
var Nt=U();function At(e,r,i,a,t,n){var o=e.innerProduct(r)-i;Nt(e,t,a),o>n?e.add(r,-a):o<-n&&e.add(r,+a)}je.exports=At
});var De=p(function(Hn,He){
var Mt=U();function zt(e,r,i,a,t){var n=i-e.innerProduct(r);Mt(e,t,a),e.add(r,a*n)}He.exports=zt
});var Be=p(function(Dn,We){
var Ft=U();function Pt(e,r,i,a,t,n){var o=e.innerProduct(r)-i;Ft(e,t,a),o>n?e.add(r,-a):o<-n?e.add(r,+a):e.add(r,-a*o)}We.exports=Pt
});var Ue=p(function(Wn,Ge){
var xt=require('@stdlib/string/format/dist');function St(e,r,i){var a,t;switch(a=1,e){case"basic":t=n;break;case"constant":t=o;break;case"pegasos":t=s;break;default:throw new Error(xt('0h94S',"learningRate",["basic","constant","pegasos"].join('", "'),e))}return t;function n(){var v=1e3/(a+1e3);return a+=1,v}function o(){return a+=1,r}function s(){var v=1/(i*a);return a+=1,v}}Ge.exports=St
});var Je=p(function(Bn,Vt){Vt.exports={epsilon:.1,eta0:.02,intercept:!0,lambda:.001,learningRate:"basic",loss:"squaredError"}});var $e=p(function(Gn,Ze){
var kt=require('@stdlib/assert/is-nonnegative-number/dist').isPrimitive,Ke=require('@stdlib/assert/is-positive-number/dist').isPrimitive,It=require('@stdlib/assert/is-boolean/dist').isPrimitive,jt=require('@stdlib/assert/is-plain-object/dist'),Qe=require('@stdlib/assert/is-string/dist').isPrimitive,C=require('@stdlib/assert/has-own-property/dist'),I=require('@stdlib/string/format/dist');function Ct(e,r){return jt(r)?C(r,"epsilon")&&(e.epsilon=r.epsilon,!Ke(e.epsilon))?new TypeError(I('0h94D',"epsilon",e.epsilon)):C(r,"eta0")&&(e.eta0=r.eta0,!Ke(e.eta0))?new TypeError(I('0h94D',"eta0",e.eta0)):C(r,"lambda")&&(e.lambda=r.lambda,!kt(e.lambda))?new TypeError(I('0h94k',"lambda",e.lambda)):C(r,"learningRate")&&(e.learningRate=r.learningRate,!Qe(e.learningRate))?new TypeError(I('0h92W',"learningRate",e.learningRate)):C(r,"loss")&&(e.loss=r.loss,!Qe(e.loss))?new TypeError(I('0h92W',"loss",e.loss)):C(r,"intercept")&&(e.intercept=r.intercept,!It(e.intercept))?new TypeError(I('0h92o',"intercept",e.intercept)):null:new TypeError(I('0h92V',r));}Ze.exports=Ct
});var ri=p(function(Un,Xe){
var Ye=require('@stdlib/assert/is-array/dist'),J=require('@stdlib/string/format/dist'),Ht=require('@stdlib/utils/copy/dist'),Dt=require('@stdlib/utils/define-nonenumerable-read-only-accessor/dist'),Wt=require('@stdlib/utils/define-nonenumerable-read-only-property/dist'),Bt=ke(),Gt=Ce(),Ut=De(),Jt=Be(),Kt=Ue(),Qt=Je(),Zt=$e();function $t(e){var r,i,a,t,s,n,o;if(n=Ht(Qt),arguments.length>0&&(o=Zt(n,e),o))throw o;switch(a=null,n.loss){case"epsilonInsensitive":i=Gt;break;case"huber":i=Jt;break;case"squaredError":i=Ut;break;default:throw Error(J('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"loss",["epsilonInsensitive","huber","squaredError"].join('", "'),n.loss))}t=Kt(n.learningRate,n.eta0,n.lambda);function s(l,c){var d;if(!Ye(l))throw new TypeError(J('0h951',l));if(a||(a=new Bt(l.length,n.intercept),r=n.intercept?a.nWeights-1:a.nWeights),l.length!==r)throw new TypeError(J('0h953',r,l));d=t(),i(a,l,c,d,n.lambda,n.epsilon)}return Dt(s,"coefs",v),Wt(s,"predict",u),s;function v(){var l,c;for(l=new Array(a.nWeights),c=0;c<l.length;c++)l[c]=a._data[c]*a.scale;return l}function u(l){if(!Ye(l)||l.length!==r)throw new TypeError(J('0h953',r||0,l));return a.innerProduct(l)}}Xe.exports=$t
});var ii=p(function(Jn,ei){
var Yt=ri();ei.exports=Yt
});var ti=p(function(Kn,ai){
var lr=require('@stdlib/utils/define-read-only-property/dist'),K={};lr(K,"incrBinaryClassification",Nr());lr(K,"incrkmeans",Fe());lr(K,"incrSGDRegression",ii());ai.exports=K
});var Xt=require('@stdlib/utils/define-read-only-property/dist'),ni={};Xt(ni,"incr",ti());module.exports=ni;
/** @license Apache-2.0 */
/** @license Apache-2.0 */
//# sourceMappingURL=index.js.map
