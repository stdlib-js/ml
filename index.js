// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("path"),require("buffer")):"function"==typeof define&&define.amd?define(["path","buffer"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).ml=t(e.require$$0,e.require$$0$1)}(this,(function(e,t){"use strict";var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var n=Object.defineProperty;function i(e){return"number"==typeof e}function o(e){var t,r="";for(t=0;t<e;t++)r+="0";return r}function a(e,t,r){var n=!1,i=t-e.length;return i<0||(function(e){return"-"===e[0]}(e)&&(n=!0,e=e.substr(1)),e=r?e+o(i):o(i)+e,n&&(e="-"+e)),e}var u=String.prototype.toLowerCase,s=String.prototype.toUpperCase;function f(e){var t,r,n;switch(e.specifier){case"b":t=2;break;case"o":t=8;break;case"x":case"X":t=16;break;default:t=10}if(r=e.arg,n=parseInt(r,10),!isFinite(n)){if(!i(r))throw new Error("invalid integer. Value: "+r);n=0}return n<0&&("u"===e.specifier||10!==t)&&(n=4294967295+n+1),n<0?(r=(-n).toString(t),e.precision&&(r=a(r,e.precision,e.padRight)),r="-"+r):(r=n.toString(t),n||e.precision?e.precision&&(r=a(r,e.precision,e.padRight)):r="",e.sign&&(r=e.sign+r)),16===t&&(e.alternate&&(r="0x"+r),r=e.specifier===s.call(e.specifier)?s.call(r):u.call(r)),8===t&&e.alternate&&"0"!==r.charAt(0)&&(r="0"+r),r}function l(e){return"string"==typeof e}var c=Math.abs,h=String.prototype.toLowerCase,p=String.prototype.toUpperCase,g=String.prototype.replace,m=/e\+(\d)$/,d=/e-(\d)$/,y=/^(\d+)$/,v=/^(\d+)e/,w=/\.0$/,b=/\.0*e/,E=/(\..*[^0])0*e/;function _(e){var t,r,n=parseFloat(e.arg);if(!isFinite(n)){if(!i(e.arg))throw new Error("invalid floating-point number. Value: "+r);n=e.arg}switch(e.specifier){case"e":case"E":r=n.toExponential(e.precision);break;case"f":case"F":r=n.toFixed(e.precision);break;case"g":case"G":c(n)<1e-4?((t=e.precision)>0&&(t-=1),r=n.toExponential(t)):r=n.toPrecision(e.precision),e.alternate||(r=g.call(r,E,"$1e"),r=g.call(r,b,"e"),r=g.call(r,w,""));break;default:throw new Error("invalid double notation. Value: "+e.specifier)}return r=g.call(r,m,"e+0$1"),r=g.call(r,d,"e-0$1"),e.alternate&&(r=g.call(r,y,"$1."),r=g.call(r,v,"$1.e")),n>=0&&e.sign&&(r=e.sign+r),r=e.specifier===p.call(e.specifier)?p.call(r):h.call(r)}function T(e){var t,r="";for(t=0;t<e;t++)r+=" ";return r}function x(e,t,r){var n=t-e.length;return n<0?e:e=r?e+T(n):T(n)+e}var A=String.fromCharCode,O=isNaN,j=Array.isArray;function V(e){var t={};return t.specifier=e.specifier,t.precision=void 0===e.precision?1:e.precision,t.width=e.width,t.flags=e.flags||"",t.mapping=e.mapping,t}function R(e){var t,r,n,i,o,u,s,c,h;if(!j(e))throw new TypeError("invalid argument. First argument must be an array. Value: `"+e+"`.");for(u="",s=1,c=0;c<e.length;c++)if(l(n=e[c]))u+=n;else{if(t=void 0!==n.precision,!(n=V(n)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+c+"`. Value: `"+n+"`.");for(n.mapping&&(s=n.mapping),r=n.flags,h=0;h<r.length;h++)switch(i=r.charAt(h)){case" ":n.sign=" ";break;case"+":n.sign="+";break;case"-":n.padRight=!0,n.padZeros=!1;break;case"0":n.padZeros=r.indexOf("-")<0;break;case"#":n.alternate=!0;break;default:throw new Error("invalid flag: "+i)}if("*"===n.width){if(n.width=parseInt(arguments[s],10),s+=1,O(n.width))throw new TypeError("the argument for * width at position "+s+" is not a number. Value: `"+n.width+"`.");n.width<0&&(n.padRight=!0,n.width=-n.width)}if(t&&"*"===n.precision){if(n.precision=parseInt(arguments[s],10),s+=1,O(n.precision))throw new TypeError("the argument for * precision at position "+s+" is not a number. Value: `"+n.precision+"`.");n.precision<0&&(n.precision=1,t=!1)}switch(n.arg=arguments[s],n.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":t&&(n.padZeros=!1),n.arg=f(n);break;case"s":n.maxWidth=t?n.precision:-1;break;case"c":if(!O(n.arg)){if((o=parseInt(n.arg,10))<0||o>127)throw new Error("invalid character code. Value: "+n.arg);n.arg=O(o)?String(n.arg):A(o)}break;case"e":case"E":case"f":case"F":case"g":case"G":t||(n.precision=6),n.arg=_(n);break;default:throw new Error("invalid specifier: "+n.specifier)}n.maxWidth>=0&&n.arg.length>n.maxWidth&&(n.arg=n.arg.substring(0,n.maxWidth)),n.padZeros?n.arg=a(n.arg,n.width||n.precision,n.padRight):n.width&&(n.arg=x(n.arg,n.width,n.padRight)),u+=n.arg||"",s+=1}return u}var N=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function S(e){var t={mapping:e[1]?parseInt(e[1],10):void 0,flags:e[2],width:e[3],precision:e[5],specifier:e[6]};return"."===e[4]&&void 0===e[5]&&(t.precision="1"),t}function L(e){var t,r,n,i;for(r=[],i=0,n=N.exec(e);n;)(t=e.slice(i,N.lastIndex-n[0].length)).length&&r.push(t),r.push(S(n)),i=N.lastIndex,n=N.exec(e);return(t=e.slice(i)).length&&r.push(t),r}function M(e){return"string"==typeof e}function I(e){var t,r;if(!M(e))throw new TypeError(I("invalid argument. First argument must be a string. Value: `%s`.",e));for(t=[L(e)],r=1;r<arguments.length;r++)t.push(arguments[r]);return R.apply(null,t)}var F,k=Object.prototype,B=k.toString,P=k.__defineGetter__,U=k.__defineSetter__,C=k.__lookupGetter__,z=k.__lookupSetter__;F=function(){try{return r({},"x",{}),!0}catch(e){return!1}}()?n:function(e,t,r){var n,i,o,a;if("object"!=typeof e||null===e||"[object Array]"===B.call(e))throw new TypeError(I("invalid argument. First argument must be an object. Value: `%s`.",e));if("object"!=typeof r||null===r||"[object Array]"===B.call(r))throw new TypeError(I("invalid argument. Property descriptor must be an object. Value: `%s`.",r));if((i="value"in r)&&(C.call(e,t)||z.call(e,t)?(n=e.__proto__,e.__proto__=k,delete e[t],e[t]=r.value,e.__proto__=n):e[t]=r.value),o="get"in r,a="set"in r,i&&(o||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return o&&P&&P.call(e,t,r.get),a&&U&&U.call(e,t,r.set),e};var Y=F;function q(e,t,r){Y(e,t,{configurable:!1,enumerable:!0,writable:!1,value:r})}function G(e,t,r){Y(e,t,{configurable:!1,enumerable:!1,writable:!1,value:r})}function W(e){return"number"==typeof e}var D="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function $(){return D&&"symbol"==typeof Symbol.toStringTag}var H=Object.prototype.toString;var J=Object.prototype.hasOwnProperty;function X(e,t){return null!=e&&J.call(e,t)}var Z="function"==typeof Symbol?Symbol:void 0,K="function"==typeof Z?Z.toStringTag:"";var Q=$()?function(e){var t,r,n;if(null==e)return H.call(e);r=e[K],t=X(e,K);try{e[K]=void 0}catch(t){return H.call(e)}return n=H.call(e),t?e[K]=r:delete e[K],n}:function(e){return H.call(e)},ee=Number,te=ee.prototype.toString;var re=$();function ne(e){return"object"==typeof e&&(e instanceof ee||(re?function(e){try{return te.call(e),!0}catch(e){return!1}}(e):"[object Number]"===Q(e)))}function ie(e){return W(e)||ne(e)}G(ie,"isPrimitive",W),G(ie,"isObject",ne);var oe=Number.POSITIVE_INFINITY,ae=ee.NEGATIVE_INFINITY,ue=Math.floor;function se(e){return ue(e)===e}function fe(e){return e<oe&&e>ae&&se(e)}function le(e){return W(e)&&fe(e)}function ce(e){return ne(e)&&fe(e.valueOf())}function he(e){return le(e)||ce(e)}function pe(e){return le(e)&&e>0}function ge(e){return ce(e)&&e.valueOf()>0}function me(e){return pe(e)||ge(e)}function de(e){return"boolean"==typeof e}G(he,"isPrimitive",le),G(he,"isObject",ce),G(me,"isPrimitive",pe),G(me,"isObject",ge);var ye=Boolean,ve=Boolean.prototype.toString;var we=$();function be(e){return"object"==typeof e&&(e instanceof ye||(we?function(e){try{return ve.call(e),!0}catch(e){return!1}}(e):"[object Boolean]"===Q(e)))}function Ee(e){return de(e)||be(e)}function _e(){return new Function("return this;")()}G(Ee,"isPrimitive",de),G(Ee,"isObject",be);var Te="object"==typeof self?self:null,xe="object"==typeof window?window:null,Ae="object"==typeof global?global:null,Oe="object"==typeof globalThis?globalThis:null;function je(e){if(arguments.length){if(!de(e))throw new TypeError(I("invalid argument. Must provide a boolean. Value: `%s`.",e));if(e)return _e()}if(Oe)return Oe;if(Te)return Te;if(xe)return xe;if(Ae)return Ae;throw new Error("unexpected error. Unable to resolve global object.")}var Ve=je();function Re(e,t,r){Y(e,t,{configurable:!1,enumerable:!1,get:r})}var Ne={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};function Se(e){return Math.abs(e)}function Le(e,t){return t&&(2===e||3===e)}function Me(e,t){return t&&(1===e||3===e)}function Ie(e,t,r){var n,i,o,a,u;for(n=e.length,i=r,o=r,u=0;u<n;u++){if(0===e[u])return[r,r];(a=t[u])>0?o+=a*(e[u]-1):a<0&&(i+=a*(e[u]-1))}return[i,o]}function Fe(e){return e.re}function ke(e){return e.im}function Be(e){return"string"==typeof e}G(Ie,"assign",(function(e,t,r,n){var i,o,a,u,s;for(i=e.length,o=r,a=r,s=0;s<i;s++){if(0===e[s])return n[0]=r,n[1]=r,n;(u=t[s])>0?a+=u*(e[s]-1):u<0&&(o+=u*(e[s]-1))}return n[0]=o,n[1]=a,n}));var Pe=String.prototype.valueOf;var Ue=$();function Ce(e){return"object"==typeof e&&(e instanceof String||(Ue?function(e){try{return Pe.call(e),!0}catch(e){return!1}}(e):"[object String]"===Q(e)))}function ze(e){return Be(e)||Ce(e)}G(ze,"isPrimitive",Be),G(ze,"isObject",Ce);var Ye=/[-\/\\^$*+?.()|[\]{}]/g;var qe=/./,Ge=je(),We=Ge.document&&Ge.document.childNodes,De=Int8Array;function $e(){return/^\s*function\s*([^(]*)/i}var He=/^\s*function\s*([^(]*)/i;G($e,"REGEXP",He);var Je=Array.isArray?Array.isArray:function(e){return"[object Array]"===Q(e)};function Xe(e){return null!==e&&"object"==typeof e}var Ze=function(e){if("function"!=typeof e)throw new TypeError(I("invalid argument. Must provide a function. Value: `%s`.",e));return function(t){var r,n;if(!Je(t))return!1;if(0===(r=t.length))return!1;for(n=0;n<r;n++)if(!1===e(t[n]))return!1;return!0}}(Xe);function Ke(e){return Xe(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Qe(e){var t,r,n;if(("Object"===(r=Q(e).slice(8,-1))||"Error"===r)&&e.constructor){if("string"==typeof(n=e.constructor).name)return n.name;if(t=He.exec(n.toString()))return t[1]}return Ke(e)?"Buffer":r}G(Xe,"isObjectLikeArray",Ze);var et="function"==typeof qe||"object"==typeof De||"function"==typeof We?function(e){return Qe(e).toLowerCase()}:function(e){var t;return null===e?"null":"object"===(t=typeof e)?Qe(e).toLowerCase():t};function tt(e){return"function"===et(e)}var rt=RegExp.prototype.exec;var nt=$();function it(e){return"object"==typeof e&&(e instanceof RegExp||(nt?function(e){try{return rt.call(e),!0}catch(e){return!1}}(e):"[object RegExp]"===Q(e)))}function ot(e,t,r){if(!Be(e))throw new TypeError(I("invalid argument. First argument must be a string. Value: `%s`.",e));if(Be(t))t=new RegExp(function(e){var t,r;if(!Be(e))throw new TypeError(I("invalid argument. Must provide a regular expression string. Value: `%s`.",e));if("/"===e[0])for(r=e.length-1;r>=0&&"/"!==e[r];r--);return void 0===r||r<=0?e.replace(Ye,"\\$&"):(t=(t=e.substring(1,r)).replace(Ye,"\\$&"),e=e[0]+t+e.substring(r))}(t),"g");else if(!it(t))throw new TypeError(I("invalid argument. Second argument must be a string or regular expression. Value: `%s`.",t));if(!Be(r)&&!tt(r))throw new TypeError(I("invalid argument. Third argument must be a string or replacement function. Value: `%s`.",r));return function(e,t,r){return e.replace(t,r)}(e,t,r)}var at={int8:"new Int8Array( [ {{data}} ] )",uint8:"new Uint8Array( [ {{data}} ] )",uint8c:"new Uint8ClampedArray( [ {{data}} ] )",int16:"new Int16Array( [ {{data}} ] )",uint16:"new Uint16Array( [ {{data}} ] )",int32:"new Int32Array( [ {{data}} ] )",uint32:"new Uint32Array( [ {{data}} ] )",float32:"new Float32Array( [ {{data}} ] )",float64:"new Float64Array( [ {{data}} ] )",generic:"[ {{data}} ]",binary:"new Buffer( [ {{data}} ] )",complex64:"new Complex64Array( [ {{data}} ] )",complex128:"new Complex128Array( [ {{data}} ] )"};var ut="function"==typeof Uint8Array;var st="function"==typeof Uint8Array?Uint8Array:null;var ft,lt="function"==typeof Uint8Array?Uint8Array:void 0;ft=function(){var e,t,r;if("function"!=typeof st)return!1;try{t=new st(t=[1,3.14,-3.14,256,257]),r=t,e=(ut&&r instanceof Uint8Array||"[object Uint8Array]"===Q(r))&&1===t[0]&&3===t[1]&&253===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?lt:function(){throw new Error("not implemented")};var ct=ft,ht="function"==typeof Uint16Array;var pt="function"==typeof Uint16Array?Uint16Array:null;var gt,mt="function"==typeof Uint16Array?Uint16Array:void 0;gt=function(){var e,t,r;if("function"!=typeof pt)return!1;try{t=new pt(t=[1,3.14,-3.14,65536,65537]),r=t,e=(ht&&r instanceof Uint16Array||"[object Uint16Array]"===Q(r))&&1===t[0]&&3===t[1]&&65533===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?mt:function(){throw new Error("not implemented")};var dt,yt=gt,vt={uint16:yt,uint8:ct};(dt=new vt.uint16(1))[0]=4660;var wt=52===new vt.uint8(dt.buffer)[0],bt="function"==typeof ArrayBuffer;function Et(e){return bt&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Q(e)}var _t="function"==typeof Float64Array;var Tt="function"==typeof Float64Array?Float64Array:null;function xt(){var e,t,r;if("function"!=typeof Tt)return!1;try{t=new Tt([1,3.14,-3.14,NaN]),r=t,e=(_t&&r instanceof Float64Array||"[object Float64Array]"===Q(r))&&1===t[0]&&3.14===t[1]&&-3.14===t[2]&&t[3]!=t[3]}catch(t){e=!1}return e}var At="function"==typeof Float64Array?Float64Array:void 0;var Ot=xt()?At:function(){throw new Error("not implemented")},jt="function"==typeof ArrayBuffer?ArrayBuffer:null;var Vt,Rt="function"==typeof ArrayBuffer?ArrayBuffer:void 0;Vt=function(){var e,t,r;if("function"!=typeof jt)return!1;try{(e=Et(r=new jt(16))&&"function"==typeof jt.isView)&&((t=new Ot(r))[0]=-3.14,t[1]=NaN,e=e&&jt.isView(t)&&16===r.byteLength&&-3.14===t[0]&&t[1]!=t[1])}catch(t){e=!1}return e}()?Rt:function(){throw new Error("not implemented")};var Nt=Vt,St="function"==typeof DataView;var Lt="function"==typeof DataView?DataView:null;var Mt,It="function"==typeof DataView?DataView:void 0;Mt=function(){var e,t,r,n;if("function"!=typeof Lt)return!1;try{r=new Nt(24),t=new Lt(r,8),n=t,(e=(St&&n instanceof DataView||"[object DataView]"===Q(n))&&"function"==typeof t.getFloat64&&"function"==typeof t.setFloat64)&&(t.setFloat64(0,-3.14),t.setFloat64(8,NaN),e=e&&t.buffer===r&&16===t.byteLength&&8===t.byteOffset&&-3.14===t.getFloat64(0)&&t.getFloat64(8)!=t.getFloat64(8))}catch(t){e=!1}return e}()?It:function(){throw new Error("not implemented")};var Ft=Mt,kt="function"==typeof BigInt?BigInt:void 0,Bt={all:["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"],floating_point:["complex64","complex128","float32","float64"],real_floating_point:["float32","float64"],complex_floating_point:["complex64","complex128"],integer:["int16","int32","int8","uint16","uint32","uint8","uint8c"],signed_integer:["int16","int32","int8"],unsigned_integer:["uint16","uint32","uint8","uint8c"],real:["float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],numeric:["complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"]};function Pt(){var e;return 0===arguments.length?Bt.all.slice():(e=Bt[arguments[0]])?e.slice():[]}function Ut(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}}function Ct(e){return Object.keys(Object(e))}var zt,Yt=void 0!==Object.keys;function qt(e){return"[object Arguments]"===Q(e)}zt=function(){return qt(arguments)}();var Gt=zt;function Wt(e){return e!=e}function Dt(e){return W(e)&&Wt(e)}function $t(e){return ne(e)&&Wt(e.valueOf())}function Ht(e){return Dt(e)||$t(e)}G(Ht,"isPrimitive",Dt),G(Ht,"isObject",$t);var Jt=Object.prototype.propertyIsEnumerable;var Xt=!Jt.call("beep","0");function Zt(e,t){var r;return null!=e&&(!(r=Jt.call(e,t))&&Xt&&ze(e)?!Dt(t=+t)&&le(t)&&t>=0&&t<e.length:r)}var Kt=4294967295;var Qt=Gt?qt:function(e){return null!==e&&"object"==typeof e&&!Je(e)&&"number"==typeof e.length&&se(e.length)&&e.length>=0&&e.length<=Kt&&X(e,"callee")&&!Zt(e,"callee")},er=Array.prototype.slice;function tr(){}var rr=Zt(tr,"prototype"),nr=!Zt({toString:null},"toString"),ir=9007199254740991;function or(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&se(e.length)&&e.length>=0&&e.length<=ir}function ar(e,t,r){var n,i;if(!or(e)&&!Be(e))throw new TypeError(I("invalid argument. First argument must be an array-like object. Value: `%s`.",e));if(0===(n=e.length))return-1;if(3===arguments.length){if(!le(r))throw new TypeError(I("invalid argument. Third argument must be an integer. Value: `%s`.",r));if(r>=0){if(r>=n)return-1;i=r}else(i=n+r)<0&&(i=0)}else i=0;if(Ht(t)){for(;i<n;i++)if(Ht(e[i]))return i}else for(;i<n;i++)if(e[i]===t)return i;return-1}function ur(e){return e.constructor&&e.constructor.prototype===e}var sr=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],fr="undefined"==typeof window?void 0:window;var lr=function(){var e;if("undefined"===et(fr))return!1;for(e in fr)try{-1===ar(sr,e)&&X(fr,e)&&null!==fr[e]&&"object"===et(fr[e])&&ur(fr[e])}catch(e){return!0}return!1}(),cr="undefined"!=typeof window;var hr,pr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];hr=Yt?function(){return 2!==(Ct(arguments)||"").length}(1,2)?function(e){return Qt(e)?Ct(er.call(e)):Ct(e)}:Ct:function(e){var t,r,n,i,o,a,u;if(i=[],Qt(e)){for(u=0;u<e.length;u++)i.push(u.toString());return i}if("string"==typeof e){if(e.length>0&&!X(e,"0"))for(u=0;u<e.length;u++)i.push(u.toString())}else{if(!1==(n="function"==typeof e)&&!Xe(e))return i;r=rr&&n}for(o in e)r&&"prototype"===o||!X(e,o)||i.push(String(o));if(nr)for(t=function(e){if(!1===cr&&!lr)return ur(e);try{return ur(e)}catch(e){return!1}}(e),u=0;u<pr.length;u++)a=pr[u],t&&"constructor"===a||!X(e,a)||i.push(String(a));return i};var gr=hr;G(Pt,"enum",Ut),function(e,t){var r,n,i;for(r=gr(t),i=0;i<r.length;i++)q(e,n=r[i],t[n])}(Pt,{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256});var mr=["row-major","column-major"];function dr(){return mr.slice()}function yr(){return{"row-major":1,"column-major":2}}G(dr,"enum",yr);var vr=["throw","normalize","clamp","wrap"];function wr(){return vr.slice()}function br(){return{throw:1,clamp:2,wrap:3,normalize:4}}G(wr,"enum",br);var Er={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},_r={"row-major":1,"column-major":2},Tr={throw:1,clamp:2,wrap:3,normalize:4};var xr=new ct(8),Ar=new Ft(xr.buffer);function Or(e,t,r,n){var i,o,a;if(0===e){for(a=0;a<xr.length;a++)t[n]=0,n+=r;return t}for(o=(4294967295&e)>>>0,i=ue(e/4294967296),wt?(Ar.setUint32(0,o,wt),Ar.setUint32(4,i,wt)):(Ar.setUint32(0,i,wt),Ar.setUint32(4,o,wt)),a=0;a<xr.length;a++)t[n]=xr[a],n+=r;return t}G((function(e){var t,r,n,i;return t=new ct(8),0===e||(i=(4294967295&e)>>>0,n=ue(e/4294967296),r=new Ft(t.buffer),wt?(r.setUint32(0,i,wt),r.setUint32(4,n,wt)):(r.setUint32(0,n,wt),r.setUint32(4,i,wt))),t}),"assign",Or);var jr={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},Vr={"row-major":1,"column-major":2},Rr={throw:1,clamp:2,wrap:3,normalize:4};function Nr(e,t,r,n,i,o){var a,u,s,f,l;if(!(this instanceof Nr))return new Nr(e,t,r,n,i,o);for(f=1,l=0;l<r.length;l++)f*=r[l];return u=t.BYTES_PER_ELEMENT?t.BYTES_PER_ELEMENT*f:null,this._byteLength=u,this._bytesPerElement=function(e){return Ne[e]||null}(e),this._buffer=t,this._dtype=e,this._length=f,this._ndims=r.length,this._offset=i,this._order=o,this._shape=r,this._strides=n,this._accessors=ye(t.get&&t.set),this._iterationOrder=function(e){var t,r;for(t=0,r=0;r<e.length;r++)e[r]<0&&(t+=1);return 0===t?1:t===e.length?-1:0}(n),a=function(e,t,r,n,i){var o;return 0!==e&&0!==i&&e===(o=Ie(t,r,n))[1]-o[0]+1}(f,r,n,i,this._iterationOrder),s=function(e){var t,r,n,i,o,a;if(0===(r=e.length))return 0;for(t=!0,n=!0,i=Se(e[0]),a=1;a<r;a++){if(o=Se(e[a]),t&&o<i?t=!1:n&&o>i&&(n=!1),!n&&!t)return 0;i=o}return n&&t?3:n?1:2}(n),this._flags={ROW_MAJOR_CONTIGUOUS:Me(s,a),COLUMN_MAJOR_CONTIGUOUS:Le(s,a),READONLY:!1},this.__meta_dataview__=null,this}function Sr(e){return e instanceof Nr||null!==e&&"object"==typeof e&&"object"==typeof e.data&&"object"==typeof e.shape&&"object"==typeof e.strides&&"number"==typeof e.offset&&"string"==typeof e.order&&"number"==typeof e.ndims&&"string"==typeof e.dtype&&"number"==typeof e.length&&"object"==typeof e.flags&&"function"==typeof e.get&&"function"==typeof e.set}function Lr(e){return Sr(e)&&1===e.ndims&&1===e.shape.length&&1===e.strides.length}G(Nr,"name","ndarray"),Re(Nr.prototype,"byteLength",(function(){return this._byteLength})),Re(Nr.prototype,"BYTES_PER_ELEMENT",(function(){return this._bytesPerElement})),Re(Nr.prototype,"data",(function(){return this._buffer})),Re(Nr.prototype,"dtype",(function(){return this._dtype})),Re(Nr.prototype,"flags",(function(){return{ROW_MAJOR_CONTIGUOUS:(e=this._flags).ROW_MAJOR_CONTIGUOUS,COLUMN_MAJOR_CONTIGUOUS:e.COLUMN_MAJOR_CONTIGUOUS,READONLY:e.READONLY};var e})),Re(Nr.prototype,"length",(function(){return this._length})),Re(Nr.prototype,"ndims",(function(){return this._ndims})),Re(Nr.prototype,"offset",(function(){return this._offset})),Re(Nr.prototype,"order",(function(){return this._order})),Re(Nr.prototype,"shape",(function(){return this._shape.slice()})),Re(Nr.prototype,"strides",(function(){return this._strides.slice()})),G(Nr.prototype,"get",(function(){var e,t;for(e=this._offset,t=0;t<arguments.length;t++)e+=this._strides[t]*arguments[t];return this._accessors?this._buffer.get(e):this._buffer[e]})),G(Nr.prototype,"iget",(function(e){var t,r,n,i,o,a;if(0===(n=this._ndims))return this._accessors?this._buffer.get(this._offset):this._buffer[this._offset];if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.get(this._offset+e):this._buffer[this._offset+e];if(-1===this._iterationOrder)return this._accessors?this._buffer.get(this.offset-e):this._buffer[this._offset-e]}if(r=this._shape,t=this._strides,i=this._offset,"column-major"===this._order){for(a=0;a<n;a++)e-=o=e%r[a],e/=r[a],i+=o*t[a];return this._accessors?this._buffer.get(i):this._buffer[i]}for(a=n-1;a>=0;a--)e-=o=e%r[a],e/=r[a],i+=o*t[a];return this._accessors?this._buffer.get(i):this._buffer[i]})),G(Nr.prototype,"set",(function(){var e,t;for(e=this._offset,t=0;t<arguments.length-1;t++)e+=this._strides[t]*arguments[t];return this._accessors?this._buffer.set(arguments[t],e):this._buffer[e]=arguments[t],this})),G(Nr.prototype,"iset",(function(e,t){var r,n,i,o,a,u;if(0===(i=this._ndims))return this._accessors?this._buffer.set(e,this._offset):this._buffer[this._offset]=e,this;if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.set(t,this._offset+e):this._buffer[this._offset+e]=t,this;if(-1===this._iterationOrder)return this._accessors?this._buffer.set(t,this._offset-e):this._buffer[this._offset-e]=t,this}if(n=this._shape,r=this._strides,o=this._offset,"column-major"===this._order){for(u=0;u<i;u++)e-=a=e%n[u],e/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(t,o):this._buffer[o]=t,this}for(u=i-1;u>=0;u--)e-=a=e%n[u],e/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(t,o):this._buffer[o]=t,this})),G(Nr.prototype,"toString",(function(){var e,t,r,n,i,o;if(t=this._shape.length,r="ndarray( '"+(n=this._dtype)+"', ",e="",this._length<=100)if("complex64"===n||"complex128"===n)for(o=0;o<this._length;o++)e+=Fe(i=this.iget(o))+", "+ke(i),o<this._length-1&&(e+=", ");else for(o=0;o<this._length;o++)e+=this.iget(o),o<this._length-1&&(e+=", ");else{if("complex64"===n||"complex128"===n)for(o=0;o<3;o++)e+=Fe(i=this.iget(o))+", "+ke(i),o<2&&(e+=", ");else for(o=0;o<3;o++)e+=this.iget(o),o<2&&(e+=", ");if(e+=", ..., ","complex64"===n||"complex128"===n)for(o=2;o>=0;o--)e+=Fe(i=this.iget(this._length-1-o))+", "+ke(i),o>0&&(e+=", ");else for(o=2;o>=0;o--)e+=this.iget(this._length-1-o),o>0&&(e+=", ")}if(r+=ot(at[this.dtype],"{{data}}",e),r+=", ",r+=0===t?"[]":"[ "+this._shape.join(", ")+" ]",r+=", ",r+="[ ",0===t)r+="0";else for(o=0;o<t;o++)this._strides[o]<0?r+=-this._strides[o]:r+=this._strides[o],o<t-1&&(r+=", ");return r+=" ]",r+=", ",r+="0",r+=", ",r+="'"+this._order+"'",r+=" )"})),G(Nr.prototype,"toJSON",(function(){var e,t,r,n;for(t=this._length,(e={}).type="ndarray",e.dtype=this.dtype,e.flags={READONLY:this._flags.READONLY},e.order=this._order,e.shape=this._shape.slice(),e.strides=this._strides.slice(),n=0;n<t;n++)e.strides[n]<0&&(e.strides[n]*=-1);if(e.data=[],"complex64"===e.dtype||"complex128"===e.dtype)for(n=0;n<t;n++)r=this.iget(n),e.data.push(Fe(r),ke(r));else for(n=0;n<t;n++)e.data.push(this.iget(n));return e})),G(Nr.prototype,"__array_meta_dataview__","function"==typeof Ve.BigInt&&"function"==typeof BigInt&&"bigint"==typeof Ve.BigInt("1")&&"bigint"==typeof BigInt("1")?function(){var e,t,r,n,i,o,a,u,s,f,l,c,h,p;if(s=this._mode||"throw",a=this._submode||[s],r=33+16*(c=this._ndims)+(h=a.length),(u=this.__meta_dataview__)&&u.byteLength===r)return u;for(u=new Ft(new Nt(r)),i=this._shape,o=this._strides,n=this._dtype,e=this._bytesPerElement,f=0,u.setInt8(f,wt?1:0),f+=1,u.setInt16(f,Er[n],wt),f+=2,u.setBigInt64(f,kt(c),wt),l=8*c,f+=8,p=0;p<c;p++)u.setBigInt64(f,kt(i[p]),wt),u.setBigInt64(f+l,kt(o[p]*e),wt),f+=8;for(f+=l,u.setBigInt64(f,kt(this._offset*e),wt),f+=8,u.setInt8(f,_r[this._order]),f+=1,u.setInt8(f,Tr[s]),f+=1,u.setBigInt64(f,kt(h),wt),f+=8,p=0;p<h;p++)u.setInt8(f,Tr[a[p]]),f+=1;return t=0,t|=this._flags.READONLY?4:0,u.setInt32(f,t,wt),this.__meta_dataview__=u,u}:function(){var e,t,r,n,i,o,a,u,s,f,l,c,h,p,g;if(f=this._mode||"throw",u=this._submode||[f],n=33+16*(h=this._ndims)+(p=u.length),(s=this.__meta_dataview__)&&s.byteLength===n)return s;for(s=new Ft(new Nt(n)),t=new ct(s.buffer),o=this._shape,a=this._strides,i=this._dtype,e=this._bytesPerElement,l=0,s.setInt8(l,wt?1:0),l+=1,s.setInt16(l,jr[i],wt),Or(h,t,1,l+=2),c=8*h,l+=8,g=0;g<h;g++)Or(o[g],t,1,l),Or(a[g]*e,t,1,l+c),l+=8;for(l+=c,Or(this._offset*e,t,1,l),l+=8,s.setInt8(l,Vr[this._order]),l+=1,s.setInt8(l,Rr[f]),Or(p,t,1,l+=1),l+=8,g=0;g<p;g++)s.setInt8(l,Rr[u[g]]),l+=1;return r=0,r|=this._flags.READONLY?4:0,s.setInt32(l,r,wt),this.__meta_dataview__=s,s});function Mr(e,t,r,n,i,o,a){var u,s,f,l,c;if(u=0,e<=0)return u;if(s=n,f=a,1===r&&1===o){if((l=e%5)>0)for(c=0;c<l;c++)u+=t[s]*i[f],s+=1,f+=1;if(e<5)return u;for(c=l;c<e;c+=5)u+=t[s]*i[f]+t[s+1]*i[f+1]+t[s+2]*i[f+2]+t[s+3]*i[f+3]+t[s+4]*i[f+4],s+=5,f+=5;return u}for(c=0;c<e;c++)u+=t[s]*i[f],s+=r,f+=o;return u}G((function(e,t,r,n,i){var o,a,u,s,f;if(o=0,e<=0)return o;if(1===r&&1===i){if((s=e%5)>0)for(f=0;f<s;f++)o+=t[f]*n[f];if(e<5)return o;for(f=s;f<e;f+=5)o+=t[f]*n[f]+t[f+1]*n[f+1]+t[f+2]*n[f+2]+t[f+3]*n[f+3]+t[f+4]*n[f+4];return o}for(a=r<0?(1-e)*r:0,u=i<0?(1-e)*i:0,f=0;f<e;f++)o+=t[a]*n[u],a+=r,u+=i;return o}),"ndarray",Mr);function Ir(e,t,r,n,i,o,a,u){var s,f,l,c;if(e<=0||0===t)return o;if(s=i,f=u,1===n&&1===a){if((l=e%4)>0)for(c=0;c<l;c++)o[f]+=t*r[s],s+=n,f+=a;if(e<4)return o;for(c=l;c<e;c+=4)o[f]+=t*r[s],o[f+1]+=t*r[s+1],o[f+2]+=t*r[s+2],o[f+3]+=t*r[s+3],s+=4,f+=4;return o}for(c=0;c<e;c++)o[f]+=t*r[s],s+=n,f+=a;return o}G((function(e,t,r,n,i,o){var a,u,s,f;if(e<=0||0===t)return i;if(1===n&&1===o){if((s=e%4)>0)for(f=0;f<s;f++)i[f]+=t*r[f];if(e<4)return i;for(f=s;f<e;f+=4)i[f]+=t*r[f],i[f+1]+=t*r[f+1],i[f+2]+=t*r[f+2],i[f+3]+=t*r[f+3];return i}for(a=n<0?(1-e)*n:0,u=o<0?(1-e)*o:0,f=0;f<e;f++)i[u]+=t*r[a],a+=n,u+=o;return i}),"ndarray",Ir);var Fr,kr=Object,Br=Object.getPrototypeOf;Fr=tt(Object.getPrototypeOf)?Br:function(e){var t=function(e){return e.__proto__}(e);return t||null===t?t:"[object Function]"===Q(e.constructor)?e.constructor.prototype:e instanceof Object?Object.prototype:null};var Pr=Fr;function Ur(e){return null==e?null:(e=kr(e),Pr(e))}function Cr(e){if("object"!=typeof e||null===e)return!1;if(e instanceof Error)return!0;for(;e;){if("[object Error]"===Q(e))return!0;e=Ur(e)}return!1}function zr(e){try{return function(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}(e)}catch(e){return Cr(e)?e:"object"==typeof e?new Error(JSON.stringify(e)):new Error(e.toString())}}function Yr(e,t,r,n,i){var o,a,u,s;if(e<=0)return n;if(1===r&&1===i){if((u=e%8)>0)for(s=0;s<u;s++)n[s]=t[s];if(e<8)return n;for(s=u;s<e;s+=8)n[s]=t[s],n[s+1]=t[s+1],n[s+2]=t[s+2],n[s+3]=t[s+3],n[s+4]=t[s+4],n[s+5]=t[s+5],n[s+6]=t[s+6],n[s+7]=t[s+7];return n}for(o=r<0?(1-e)*r:0,a=i<0?(1-e)*i:0,s=0;s<e;s++)n[a]=t[o],o+=r,a+=i;return n}G(Yr,"ndarray",(function(e,t,r,n,i,o,a){var u,s,f,l;if(e<=0)return i;if(u=n,s=a,1===r&&1===o){if((f=e%8)>0)for(l=0;l<f;l++)i[s]=t[u],u+=r,s+=o;if(e<8)return i;for(l=f;l<e;l+=8)i[s]=t[u],i[s+1]=t[u+1],i[s+2]=t[u+2],i[s+3]=t[u+3],i[s+4]=t[u+4],i[s+5]=t[u+5],i[s+6]=t[u+6],i[s+7]=t[u+7],u+=8,s+=8;return i}for(l=0;l<e;l++)i[s]=t[u],u+=r,s+=o;return i}));var qr,Gr=zr((0,e.join)(__dirname,"./native.js")),Wr=qr=Cr(Gr)?Yr:Gr;const{ndarray:Dr}=qr;function $r(e,t,r,n){var i,o;if(e<=0||n<=0||1===t)return r;if(1===n){if((o=e%5)>0)for(i=0;i<o;i++)r[i]*=t;if(e<5)return r;for(i=o;i<e;i+=5)r[i]*=t,r[i+1]*=t,r[i+2]*=t,r[i+3]*=t,r[i+4]*=t;return r}for(e*=n,i=0;i<e;i+=n)r[i]*=t;return r}G($r,"ndarray",(function(e,t,r,n,i){var o,a,u;if(e<=0||1===t)return r;if(o=i,1===n){if((a=e%5)>0)for(u=0;u<a;u++)r[o]*=t,o+=n;if(e<5)return r;for(u=a;u<e;u+=5)r[o]*=t,r[o+1]*=t,r[o+2]*=t,r[o+3]*=t,r[o+4]*=t,o+=5;return r}for(u=0;u<e;u++)r[o]*=t,o+=n;return r}));var Hr=zr((0,e.join)(__dirname,"./native.js")),Jr=Cr(Hr)?$r:Hr;function Xr(e,t){return Wt(e)||Wt(t)?NaN:e===oe||t===oe?oe:e===t&&0===e?function(e){return 0===e&&1/e===oe}(e)?e:t:e>t?e:t}var Zr=Math.ceil;function Kr(e){return e<0?Zr(e):ue(e)}var Qr=1023;function en(e){return e===oe||e===ae}var tn=2147483647,rn="function"==typeof Uint32Array;function nn(e){return rn&&e instanceof Uint32Array||"[object Uint32Array]"===Q(e)}var on="function"==typeof Uint32Array?Uint32Array:null;var an,un="function"==typeof Uint32Array?Uint32Array:void 0;an=function(){var e,t;if("function"!=typeof on)return!1;try{e=nn(t=new on(t=[1,3.14,-3.14,4294967296,4294967297]))&&1===t[0]&&3===t[1]&&4294967293===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?un:function(){throw new Error("not implemented")};var sn,fn,ln=an;!0===wt?(sn=1,fn=0):(sn=0,fn=1);var cn={HIGH:sn,LOW:fn},hn=new Ot(1),pn=new ln(hn.buffer),gn=cn.HIGH,mn=cn.LOW;function dn(e,t,r,n){return hn[0]=e,t[n]=pn[gn],t[n+r]=pn[mn],t}function yn(e){return dn(e,[0,0],1,0)}G(yn,"assign",dn);var vn,wn,bn=!0===wt?1:0,En=new Ot(1),_n=new ln(En.buffer);function Tn(e){return En[0]=e,_n[bn]}!0===wt?(vn=1,wn=0):(vn=0,wn=1);var xn={HIGH:vn,LOW:wn},An=new Ot(1),On=new ln(An.buffer),jn=xn.HIGH,Vn=xn.LOW;function Rn(e,t){return On[jn]=e,On[Vn]=t,An[0]}var Nn=[0,0];function Sn(e,t){var r,n;return yn.assign(e,Nn,1,0),r=Nn[0],r&=tn,n=Tn(t),Rn(r|=n&=2147483648,Nn[1])}function Ln(e,t,r,n){return Wt(e)||en(e)?(t[n]=e,t[n+r]=0,t):0!==e&&Se(e)<22250738585072014e-324?(t[n]=4503599627370496*e,t[n+r]=-52,t):(t[n]=e,t[n+r]=0,t)}G((function(e){return Ln(e,[0,0],1,0)}),"assign",Ln);var Mn=[0,0],In=[0,0];function Fn(e,t){var r,n;return 0===t||0===e||Wt(e)||en(e)?e:(Ln(e,Mn,1,0),t+=Mn[1],t+=function(e){var t=Tn(e);return(t=(2146435072&t)>>>20)-Qr|0}(e=Mn[0]),t<-1074?Sn(0,e):t>1023?e<0?ae:oe:(t<=-1023?(t+=52,n=2220446049250313e-31):n=1,yn.assign(e,In,1,0),r=In[0],r&=2148532223,n*Rn(r|=t+Qr<<20,In[1])))}var kn=1.4426950408889634,Bn=1/(1<<28);function Pn(e){var t;return Wt(e)||e===oe?e:e===ae?0:e>709.782712893384?oe:e<-745.1332191019411?0:e>-3.725290298461914e-9&&e<Bn?1+e:function(e,t,r){var n,i,o,a;return Fn(1-(t-(n=e-t)*(o=n-(i=n*n)*(0===(a=i)?.16666666666666602:.16666666666666602+a*(a*(6613756321437934e-20+a*(4.1381367970572385e-8*a-16533902205465252e-22))-.0027777777777015593)))/(2-o)-e),r)}(e-.6931471803691238*(t=Kr(e<0?kn*e-.5:kn*e+.5)),1.9082149292705877e-10*t,t)}function Un(e){return se(e/2)}function Cn(e){return Un(e>0?e-1:e+1)}var zn=Math.sqrt,Yn=!0===wt?0:1,qn=new Ot(1),Gn=new ln(qn.buffer);function Wn(e,t){return qn[0]=e,Gn[Yn]=t>>>0,qn[0]}function Dn(e){return 0|e}var $n=!0===wt?1:0,Hn=new Ot(1),Jn=new ln(Hn.buffer);function Xn(e,t){return Hn[0]=e,Jn[$n]=t>>>0,Hn[0]}var Zn=1048576,Kn=[1,1.5],Qn=[0,.5849624872207642],ei=[0,1.350039202129749e-8];var ti=1048575;var ri=1048576;var ni=1083179008,ii=1e300,oi=1e-300,ai=[0,0],ui=[0,0];function si(e,t){var r,n,i,o,a,u,s,f,l,c,h,p,g,m;if(Wt(e)||Wt(t))return NaN;if(yn.assign(t,ai,1,0),a=ai[0],0===ai[1]){if(0===t)return 1;if(1===t)return e;if(-1===t)return 1/e;if(.5===t)return zn(e);if(-.5===t)return 1/zn(e);if(2===t)return e*e;if(3===t)return e*e*e;if(4===t)return(e*=e)*e;if(en(t))return function(e,t){return-1===e?(e-e)/(e-e):1===e?1:Se(e)<1==(t===oe)?0:oe}(e,t)}if(yn.assign(e,ai,1,0),o=ai[0],0===ai[1]){if(0===o)return function(e,t){return t===ae?oe:t===oe?0:t>0?Cn(t)?e:0:Cn(t)?Sn(oe,e):oe}(e,t);if(1===e)return 1;if(-1===e&&Cn(t))return-1;if(en(e))return e===ae?si(-0,-t):t<0?0:oe}if(e<0&&!1===se(t))return(e-e)/(e-e);if(i=Se(e),r=o&tn|0,n=a&tn|0,s=a>>>31|0,u=(u=o>>>31|0)&&Cn(t)?-1:1,n>1105199104){if(n>1139802112)return function(e,t){return(Tn(e)&tn)<=1072693247?t<0?1/0:0:t>0?1/0:0}(e,t);if(r<1072693247)return 1===s?u*ii*ii:u*oi*oi;if(r>1072693248)return 0===s?u*ii*ii:u*oi*oi;h=function(e,t){var r,n,i,o,a,u;return r=(a=1.9259629911266175e-8*(i=t-1)-i*i*(0===(u=i)?.5:.5+u*(.25*u-.3333333333333333))*1.4426950408889634)-((n=Wn(n=(o=1.4426950216293335*i)+a,0))-o),e[0]=n,e[1]=r,e}(ui,i)}else h=function(e,t,r){var n,i,o,a,u,s,f,l,c,h,p,g,m,d,y,v,w,b,E,_,T;return b=0,r<Zn&&(b-=53,r=Tn(t*=9007199254740992)),b+=(r>>20)-Qr|0,r=1072693248|(E=1048575&r|0),E<=235662?_=0:E<767610?_=1:(_=0,b+=1,r-=Zn),a=Wn(i=(v=(t=Xn(t,r))-(f=Kn[_]))*(w=1/(t+f)),0),n=524288+(r>>1|536870912),s=Xn(0,n+=_<<18),y=(o=i*i)*o*(0===(T=o)?.5999999999999946:.5999999999999946+T*(.4285714285785502+T*(.33333332981837743+T*(.272728123808534+T*(.23066074577556175+.20697501780033842*T))))),s=Wn(s=3+(o=a*a)+(y+=(u=w*(v-a*s-a*(t-(s-f))))*(a+i)),0),m=(p=-7.028461650952758e-9*(c=Wn(c=(v=a*s)+(w=u*s+(y-(s-3-o))*i),0))+.9617966939259756*(w-(c-v))+ei[_])-((g=Wn(g=(h=.9617967009544373*c)+p+(l=Qn[_])+(d=b),0))-d-l-h),e[0]=g,e[1]=m,e}(ui,i,r);if(p=(c=(t-(f=Wn(t,0)))*h[0]+t*h[1])+(l=f*h[0]),yn.assign(p,ai,1,0),g=Dn(ai[0]),m=Dn(ai[1]),g>=ni){if(0!=(g-ni|m))return u*ii*ii;if(c+8008566259537294e-32>p-l)return u*ii*ii}else if((g&tn)>=1083231232){if(0!=(g-3230714880|m))return u*oi*oi;if(c<=p-l)return u*oi*oi}return p=function(e,t,r){var n,i,o,a,u,s,f,l,c,h;return c=((l=e&tn|0)>>20)-Qr|0,f=0,l>1071644672&&(i=Xn(0,((f=e+(ri>>c+1)>>>0)&~(ti>>(c=((f&tn)>>20)-Qr|0)))>>>0),f=(f&ti|ri)>>20-c>>>0,e<0&&(f=-f),t-=i),e=Dn(e=Tn(s=1-((s=(o=.6931471824645996*(i=Wn(i=r+t,0)))+(a=.6931471805599453*(r-(i-t))+-1.904654299957768e-9*i))*(n=s-(i=s*s)*(0===(h=i)?.16666666666666602:.16666666666666602+h*(h*(6613756321437934e-20+h*(4.1381367970572385e-8*h-16533902205465252e-22))-.0027777777777015593)))/(n-2)-((u=a-(s-o))+s*u)-s))),(e+=f<<20>>>0)>>20<=0?Fn(s,f):Xn(s,e)}(g,l,c),u*p}function fi(e){return le(e)&&e>=0}function li(e){return ce(e)&&e.valueOf()>=0}function ci(e){return fi(e)||li(e)}G(ci,"isPrimitive",fi),G(ci,"isObject",li);var hi=4294967295;function pi(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length&&se(e.length)&&e.length>=0&&e.length<=hi}function gi(e){if("function"!=typeof e)throw new TypeError(I("invalid argument. Must provide a function. Value: `%s`.",e));return function(t){var r,n;if(!pi(t))return!1;if(0===(r=t.length))return!1;for(n=0;n<r;n++)if(!1===e(t[n]))return!1;return!0}}var mi=gi(ci.isPrimitive),di=gi(ci.isObject),yi=gi(ci);G(yi,"primitives",mi),G(yi,"objects",di);var vi=gi(he.isPrimitive),wi=gi(he.isObject),bi=gi(he);G(bi,"primitives",vi),G(bi,"objects",wi);var Ei=dr(),_i=Ei.length;function Ti(e){var t;for(t=0;t<_i;t++)if(e===Ei[t])return!0;return!1}var xi="function";function Ai(e){return typeof e.get===xi&&typeof e.set===xi}var Oi={complex128:function(e,t){return e.get(t)},complex64:function(e,t){return e.get(t)},default:function(e,t){return e.get(t)}};function ji(e){var t=Oi[e];return"function"==typeof t?t:Oi.default}var Vi={float64:function(e,t){return e[t]},float32:function(e,t){return e[t]},int32:function(e,t){return e[t]},int16:function(e,t){return e[t]},int8:function(e,t){return e[t]},uint32:function(e,t){return e[t]},uint16:function(e,t){return e[t]},uint8:function(e,t){return e[t]},uint8c:function(e,t){return e[t]},generic:function(e,t){return e[t]},default:function(e,t){return e[t]}};function Ri(e){var t=Vi[e];return"function"==typeof t?t:Vi.default}var Ni={Float32Array:"float32",Float64Array:"float64",Array:"generic",Int16Array:"int16",Int32Array:"int32",Int8Array:"int8",Uint16Array:"uint16",Uint32Array:"uint32",Uint8Array:"uint8",Uint8ClampedArray:"uint8c",Complex64Array:"complex64",Complex128Array:"complex128"},Si="function"==typeof Float32Array;var Li="function"==typeof Float32Array?Float32Array:null;var Mi,Ii="function"==typeof Float32Array?Float32Array:void 0;Mi=function(){var e,t,r;if("function"!=typeof Li)return!1;try{t=new Li([1,3.14,-3.14,5e40]),r=t,e=(Si&&r instanceof Float32Array||"[object Float32Array]"===Q(r))&&1===t[0]&&3.140000104904175===t[1]&&-3.140000104904175===t[2]&&t[3]===oe}catch(t){e=!1}return e}()?Ii:function(){throw new Error("not implemented")};var Fi=Mi,ki="function"==typeof Int32Array;function Bi(e){return ki&&e instanceof Int32Array||"[object Int32Array]"===Q(e)}var Pi=2147483647,Ui="function"==typeof Int32Array?Int32Array:null;var Ci,zi="function"==typeof Int32Array?Int32Array:void 0;Ci=function(){var e,t;if("function"!=typeof Ui)return!1;try{e=Bi(t=new Ui([1,3.14,-3.14,2147483648]))&&1===t[0]&&3===t[1]&&-3===t[2]&&-2147483648===t[3]}catch(t){e=!1}return e}()?zi:function(){throw new Error("not implemented")};var Yi=Ci,qi="function"==typeof Int16Array;var Gi="function"==typeof Int16Array?Int16Array:null;var Wi,Di="function"==typeof Int16Array?Int16Array:void 0;Wi=function(){var e,t,r;if("function"!=typeof Gi)return!1;try{t=new Gi([1,3.14,-3.14,32768]),r=t,e=(qi&&r instanceof Int16Array||"[object Int16Array]"===Q(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-32768===t[3]}catch(t){e=!1}return e}()?Di:function(){throw new Error("not implemented")};var $i=Wi,Hi="function"==typeof Uint8ClampedArray;var Ji="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null;var Xi,Zi="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0;Xi=function(){var e,t,r;if("function"!=typeof Ji)return!1;try{t=new Ji([-1,0,1,3.14,4.99,255,256]),r=t,e=(Hi&&r instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===Q(r))&&0===t[0]&&0===t[1]&&1===t[2]&&3===t[3]&&5===t[4]&&255===t[5]&&255===t[6]}catch(t){e=!1}return e}()?Zi:function(){throw new Error("not implemented")};var Ki=Xi,Qi="function"==typeof Int8Array;var eo="function"==typeof Int8Array?Int8Array:null;var to,ro="function"==typeof Int8Array?Int8Array:void 0;to=function(){var e,t,r;if("function"!=typeof eo)return!1;try{t=new eo([1,3.14,-3.14,128]),r=t,e=(Qi&&r instanceof Int8Array||"[object Int8Array]"===Q(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-128===t[3]}catch(t){e=!1}return e}()?ro:function(){throw new Error("not implemented")};var no=to;function io(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&se(e.length)&&e.length>=0&&e.length<=hi}function oo(e){return"object"==typeof e&&null!==e&&!Je(e)}function ao(e,t){if(!(this instanceof ao))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!W(e))throw new TypeError(I("invalid argument. Real component must be a number. Value: `%s`.",e));if(!W(t))throw new TypeError(I("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return Y(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),Y(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:t}),this}G(ao,"BYTES_PER_ELEMENT",8),G(ao.prototype,"BYTES_PER_ELEMENT",8),G(ao.prototype,"byteLength",16),G(ao.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),G(ao.prototype,"toJSON",(function(){var e={type:"Complex128"};return e.re=this.re,e.im=this.im,e}));var uo="function"==typeof Math.fround?Math.fround:null,so=new Fi(1);var fo="function"==typeof uo?uo:function(e){return so[0]=e,so[0]};function lo(e,t){if(!(this instanceof lo))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!W(e))throw new TypeError(I("invalid argument. Real component must be a number. Value: `%s`.",e));if(!W(t))throw new TypeError(I("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return Y(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:fo(e)}),Y(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:fo(t)}),this}function co(e){return e instanceof ao||e instanceof lo||"object"==typeof e&&null!==e&&"number"==typeof e.re&&"number"==typeof e.im}G(lo,"BYTES_PER_ELEMENT",4),G(lo.prototype,"BYTES_PER_ELEMENT",4),G(lo.prototype,"byteLength",8),G(lo.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),G(lo.prototype,"toJSON",(function(){var e={type:"Complex64"};return e.re=this.re,e.im=this.im,e}));function ho(e){return"object"==typeof e&&null!==e&&"Complex64Array"===e.constructor.name&&8===e.BYTES_PER_ELEMENT}function po(e){return"object"==typeof e&&null!==e&&"Complex128Array"===e.constructor.name&&16===e.BYTES_PER_ELEMENT}function go(){return"function"==typeof Z&&"symbol"==typeof Z("foo")&&X(Z,"iterator")&&"symbol"==typeof Z.iterator}var mo=go()?Symbol.iterator:null;function yo(e){return e.re}function vo(e){return e.im}function wo(e,t){return new Fi(e.buffer,e.byteOffset+e.BYTES_PER_ELEMENT*t,2*(e.length-t))}function bo(e,t){return new Ot(e.buffer,e.byteOffset+e.BYTES_PER_ELEMENT*t,2*(e.length-t))}function Eo(e){var t,r,n;for(t=[];!(r=e.next()).done;)if(io(n=r.value)&&n.length>=2)t.push(n[0],n[1]);else{if(!co(n))return new TypeError(I("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",n));t.push(yo(n),vo(n))}return t}function _o(e,t,r){var n,i,o,a;for(n=[],a=-1;!(i=e.next()).done;)if(a+=1,io(o=t.call(r,i.value,a))&&o.length>=2)n.push(o[0],o[1]);else{if(!co(o))return new TypeError(I("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",o));n.push(yo(o),vo(o))}return n}function To(e,t){var r,n,i,o;for(r=t.length,o=0,i=0;i<r;i++){if(!co(n=t[i]))return null;e[o]=yo(n),e[o+1]=vo(n),o+=2}return e}var xo=2*Fi.BYTES_PER_ELEMENT,Ao=go();function Oo(e){return e instanceof Ro||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function jo(e){return e===Ro||"Complex128Array"===e.name}function Vo(e,t){return new lo(e[t*=2],e[t+1])}function Ro(){var e,t,r,n;if(t=arguments.length,!(this instanceof Ro))return 0===t?new Ro:1===t?new Ro(arguments[0]):2===t?new Ro(arguments[0],arguments[1]):new Ro(arguments[0],arguments[1],arguments[2]);if(0===t)r=new Fi(0);else if(1===t)if(fi(arguments[0]))r=new Fi(2*arguments[0]);else if(or(arguments[0]))if((n=(r=arguments[0]).length)&&Je(r)&&co(r[0])){if(null===(r=To(new Fi(2*n),r))){if(!Un(n))throw new RangeError(I("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",n));r=new Fi(arguments[0])}}else{if(ho(r))r=wo(r,0);else if(po(r))r=bo(r,0);else if(!Un(n))throw new RangeError(I("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",n));r=new Fi(r)}else if(Et(arguments[0])){if(!se((r=arguments[0]).byteLength/xo))throw new RangeError(I("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",xo,r.byteLength));r=new Fi(r)}else{if(!oo(arguments[0]))throw new TypeError(I("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(r=arguments[0],!1===Ao)throw new TypeError(I("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",r));if(!tt(r[mo]))throw new TypeError(I("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if(!tt((r=r[mo]()).next))throw new TypeError(I("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if((r=Eo(r))instanceof Error)throw r;r=new Fi(r)}else{if(!Et(r=arguments[0]))throw new TypeError(I("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",r));if(!fi(e=arguments[1]))throw new TypeError(I("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",e));if(!se(e/xo))throw new RangeError(I("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",xo,e));if(2===t){if(!se((n=r.byteLength-e)/xo))throw new RangeError(I("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",xo,n));r=new Fi(r,e)}else{if(!fi(n=arguments[2]))throw new TypeError(I("invalid argument. Length must be a nonnegative integer. Value: `%s`.",n));if(n*xo>r.byteLength-e)throw new RangeError(I("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",n*xo));r=new Fi(r,e,2*n)}}return G(this,"_buffer",r),G(this,"_length",r.length/2),this}function No(e){var t,r,n;for(t=[];!(r=e.next()).done;)if(io(n=r.value)&&n.length>=2)t.push(n[0],n[1]);else{if(!co(n))return new TypeError(I("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",n));t.push(Fe(n),ke(n))}return t}function So(e,t,r){var n,i,o,a;for(n=[],a=-1;!(i=e.next()).done;)if(a+=1,io(o=t.call(r,i.value,a))&&o.length>=2)n.push(o[0],o[1]);else{if(!co(o))return new TypeError(I("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",o));n.push(Fe(o),ke(o))}return n}function Lo(e,t){var r,n,i,o;for(r=t.length,o=0,i=0;i<r;i++){if(!co(n=t[i]))return null;e[o]=Fe(n),e[o+1]=ke(n),o+=2}return e}G(Ro,"BYTES_PER_ELEMENT",xo),G(Ro,"name","Complex64Array"),G(Ro,"from",(function(e){var t,r,n,i,o,a,u,s,f,l,c,h;if(!tt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!jo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((r=arguments.length)>1){if(!tt(n=arguments[1]))throw new TypeError(I("invalid argument. Second argument must be a function. Value: `%s`.",n));r>2&&(t=arguments[2])}if(Oo(e)){if(s=e.length,n){for(o=(i=new this(s))._buffer,h=0,c=0;c<s;c++){if(co(l=n.call(t,e.get(c),c)))o[h]=yo(l),o[h+1]=vo(l);else{if(!(io(l)&&l.length>=2))throw new TypeError(I("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[h]=l[0],o[h+1]=l[1]}h+=2}return i}return new this(e)}if(or(e)){if(n){for(s=e.length,u=e.get&&e.set?ji("default"):Ri("default"),c=0;c<s;c++)if(!co(u(e,c))){f=!0;break}if(f){if(!Un(s))throw new RangeError(I("invalid argument. First argument must have a length which is a multiple of %u. Length: `%u`.",2,s));for(o=(i=new this(s/2))._buffer,c=0;c<s;c++)o[c]=n.call(t,u(e,c),c);return i}for(o=(i=new this(s))._buffer,h=0,c=0;c<s;c++){if(co(l=n.call(t,u(e,c),c)))o[h]=yo(l),o[h+1]=vo(l);else{if(!(io(l)&&l.length>=2))throw new TypeError(I("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[h]=l[0],o[h+1]=l[1]}h+=2}return i}return new this(e)}if(oo(e)&&Ao&&tt(e[mo])){if(!tt((o=e[mo]()).next))throw new TypeError(I("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",e));if((a=n?_o(o,n,t):Eo(o))instanceof Error)throw a;for(o=(i=new this(s=a.length/2))._buffer,c=0;c<s;c++)o[c]=a[c];return i}throw new TypeError(I("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",e))})),G(Ro,"of",(function(){var e,t;if(!tt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!jo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return new this(e)})),G(Ro.prototype,"at",(function(e){if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!se(e))throw new TypeError(I("invalid argument. Must provide an integer. Value: `%s`.",e));if(e<0&&(e+=this._length),!(e<0||e>=this._length))return Vo(this._buffer,e)})),Re(Ro.prototype,"buffer",(function(){return this._buffer.buffer})),Re(Ro.prototype,"byteLength",(function(){return this._buffer.byteLength})),Re(Ro.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),G(Ro.prototype,"BYTES_PER_ELEMENT",Ro.BYTES_PER_ELEMENT),G(Ro.prototype,"copyWithin",(function(e,t){if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*e,2*t):this._buffer.copyWithin(2*e,2*t,2*arguments[2]),this})),G(Ro.prototype,"entries",(function(){var e,t,r,n,i,o,a;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return t=this,e=this._buffer,n=this._length,o=-1,a=-2,G(r={},"next",(function(){var t;if(o+=1,i||o>=n)return{done:!0};return t=new lo(e[a+=2],e[a+1]),{value:[o,t],done:!1}})),G(r,"return",(function(e){if(i=!0,arguments.length)return{value:e,done:!0};return{done:!0}})),mo&&G(r,mo,(function(){return t.entries()})),r})),G(Ro.prototype,"every",(function(e,t){var r,n;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=0;n<this._length;n++)if(!e.call(t,Vo(r,n),n,this))return!1;return!0})),G(Ro.prototype,"fill",(function(e,t,r){var n,i,o,a,u,s;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!co(e))throw new TypeError(I("invalid argument. First argument must be a complex number. Value: `%s`.",e));if(n=this._buffer,i=this._length,arguments.length>1){if(!se(t))throw new TypeError(I("invalid argument. Second argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=i)<0&&(t=0),arguments.length>2){if(!se(r))throw new TypeError(I("invalid argument. Third argument must be an integer. Value: `%s`.",r));r<0&&(r+=i)<0&&(r=0),r>i&&(r=i)}else r=i}else t=0,r=i;for(a=yo(e),u=vo(e),s=t;s<r;s++)n[o=2*s]=a,n[o+1]=u;return this})),G(Ro.prototype,"filter",(function(e,t){var r,n,i,o;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=[],i=0;i<this._length;i++)o=Vo(r,i),e.call(t,o,i,this)&&n.push(o);return new this.constructor(n)})),G(Ro.prototype,"find",(function(e,t){var r,n,i;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=0;n<this._length;n++)if(i=Vo(r,n),e.call(t,i,n,this))return i})),G(Ro.prototype,"findIndex",(function(e,t){var r,n,i;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=0;n<this._length;n++)if(i=Vo(r,n),e.call(t,i,n,this))return n;return-1})),G(Ro.prototype,"findLast",(function(e,t){var r,n,i;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=this._length-1;n>=0;n--)if(i=Vo(r,n),e.call(t,i,n,this))return i})),G(Ro.prototype,"findLastIndex",(function(e,t){var r,n,i;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=this._length-1;n>=0;n--)if(i=Vo(r,n),e.call(t,i,n,this))return n;return-1})),G(Ro.prototype,"forEach",(function(e,t){var r,n,i;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=0;n<this._length;n++)i=Vo(r,n),e.call(t,i,n,this)})),G(Ro.prototype,"get",(function(e){if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!fi(e))throw new TypeError(I("invalid argument. Must provide a nonnegative integer. Value: `%s`.",e));if(!(e>=this._length))return Vo(this._buffer,e)})),G(Ro.prototype,"includes",(function(e,t){var r,n,i,o,a;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!co(e))throw new TypeError(I("invalid argument. First argument must be a complex number. Value: `%s`.",e));if(arguments.length>1){if(!se(t))throw new TypeError(I("invalid argument. Second argument must be an integer. Value: `%s`.",t));t<0&&(t+=this._length)<0&&(t=0)}else t=0;for(i=yo(e),o=vo(e),r=this._buffer,a=t;a<this._length;a++)if(i===r[n=2*a]&&o===r[n+1])return!0;return!1})),G(Ro.prototype,"indexOf",(function(e,t){var r,n,i,o,a;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!co(e))throw new TypeError(I("invalid argument. First argument must be a complex number. Value: `%s`.",e));if(arguments.length>1){if(!se(t))throw new TypeError(I("invalid argument. Second argument must be an integer. Value: `%s`.",t));t<0&&(t+=this._length)<0&&(t=0)}else t=0;for(i=yo(e),o=vo(e),r=this._buffer,a=t;a<this._length;a++)if(i===r[n=2*a]&&o===r[n+1])return a;return-1})),G(Ro.prototype,"join",(function(e){var t,r,n,i;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)n=",";else{if(!Be(e))throw new TypeError(I("invalid argument. First argument must be a string. Value: `%s`.",e));n=e}for(t=[],r=this._buffer,i=0;i<this._length;i++)t.push(Vo(r,i).toString());return t.join(n)})),G(Ro.prototype,"lastIndexOf",(function(e,t){var r,n,i,o,a;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!co(e))throw new TypeError(I("invalid argument. First argument must be a complex number. Value: `%s`.",e));if(arguments.length>1){if(!se(t))throw new TypeError(I("invalid argument. Second argument must be an integer. Value: `%s`.",t));t>=this._length?t=this._length-1:t<0&&(t+=this._length)}else t=this._length-1;for(i=yo(e),o=vo(e),r=this._buffer,a=t;a>=0;a--)if(i===r[n=2*a]&&o===r[n+1])return a;return-1})),Re(Ro.prototype,"length",(function(){return this._length})),G(Ro.prototype,"map",(function(e,t){var r,n,i,o,a;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(n=this._buffer,r=(i=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)if(co(a=e.call(t,Vo(n,o),o,this)))r[2*o]=yo(a),r[2*o+1]=vo(a);else{if(!io(a)||2!==a.length)throw new TypeError(I("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",a));r[2*o]=a[0],r[2*o+1]=a[1]}return i})),G(Ro.prototype,"reverse",(function(){var e,t,r,n,i,o;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,e=this._buffer,n=ue(r/2),i=0;i<n;i++)o=r-i-1,t=e[2*i],e[2*i]=e[2*o],e[2*o]=t,t=e[2*i+1],e[2*i+1]=e[2*o+1],e[2*o+1]=t;return this})),G(Ro.prototype,"set",(function(e){var t,r,n,i,o,a,u,s,f;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!fi(r=arguments[1]))throw new TypeError(I("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",r))}else r=0;if(co(e)){if(r>=this._length)throw new RangeError(I("invalid argument. Index argument is out-of-bounds. Value: `%u`.",r));return n[r*=2]=yo(e),void(n[r+1]=vo(e))}if(Oo(e)){if(r+(a=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(t=e._buffer,f=n.byteOffset+r*xo,t.buffer===n.buffer&&t.byteOffset<f&&t.byteOffset+t.byteLength>f){for(i=new Fi(t.length),s=0;s<t.length;s++)i[s]=t[s];t=i}for(r*=2,f=0,s=0;s<a;s++)n[r]=t[f],n[r+1]=t[f+1],r+=2,f+=2}else{if(!or(e))throw new TypeError(I("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",e));for(a=e.length,s=0;s<a;s++)if(!co(e[s])){o=!0;break}if(o){if(!Un(a))throw new RangeError(I("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",a));if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(t=e,f=n.byteOffset+r*xo,t.buffer===n.buffer&&t.byteOffset<f&&t.byteOffset+t.byteLength>f){for(i=new Fi(a),s=0;s<a;s++)i[s]=t[s];t=i}for(r*=2,a/=2,f=0,s=0;s<a;s++)n[r]=t[f],n[r+1]=t[f+1],r+=2,f+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,s=0;s<a;s++)u=e[s],n[r]=yo(u),n[r+1]=vo(u),r+=2}})),G(Ro.prototype,"slice",(function(e,t){var r,n,i,o,a,u,s;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(a=this._buffer,u=this._length,0===arguments.length)e=0,t=u;else{if(!se(e))throw new TypeError(I("invalid argument. First argument must be an integer. Value: `%s`.",e));if(e<0&&(e+=u)<0&&(e=0),1===arguments.length)t=u;else{if(!se(t))throw new TypeError(I("invalid argument. Second argument must be an integer. Value: `%s`.",t));t<0?(t+=u)<0&&(t=0):t>u&&(t=u)}}for(r=e<t?t-e:0,n=(i=new this.constructor(r))._buffer,s=0;s<r;s++)o=2*(s+e),n[2*s]=a[o],n[2*s+1]=a[o+1];return i})),G(Ro.prototype,"some",(function(e,t){var r,n;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=0;n<this._length;n++)if(e.call(t,Vo(r,n),n,this))return!0;return!1})),G(Ro.prototype,"subarray",(function(e,t){var r,n,i;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,i=this._length,0===arguments.length)e=0,t=i;else{if(!se(e))throw new TypeError(I("invalid argument. First argument must be an integer. Value: `%s`.",e));if(e<0&&(e+=i)<0&&(e=0),1===arguments.length)t=i;else{if(!se(t))throw new TypeError(I("invalid argument. Second argument must be an integer. Value: `%s`.",t));t<0?(t+=i)<0&&(t=0):t>i&&(t=i)}}return e>=i?(i=0,r=n.byteLength):e>=t?(i=0,r=n.byteOffset+e*xo):(i=t-e,r=n.byteOffset+e*xo),new this.constructor(n.buffer,r,i<0?0:i)})),G(Ro.prototype,"toReversed",(function(){var e,t,r,n,i,o;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,t=new this.constructor(r),n=this._buffer,e=t._buffer,i=0;i<r;i++)o=r-i-1,e[2*i]=n[2*o],e[2*i+1]=n[2*o+1];return t})),G(Ro.prototype,"toString",(function(){var e,t,r;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],t=this._buffer,r=0;r<this._length;r++)e.push(Vo(t,r).toString());return e.join(",")})),G(Ro.prototype,"with",(function(e,t){var r,n,i;if(!Oo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!se(e))throw new TypeError(I("invalid argument. First argument must be an integer. Value: `%s`.",e));if(i=this._length,e<0&&(e+=i),e<0||e>=i)throw new RangeError(I("invalid argument. Index argument is out-of-bounds. Value: `%s`.",e));if(!co(t))throw new TypeError(I("invalid argument. Second argument must be a complex number. Value: `%s`.",t));return(r=(n=new this.constructor(this._buffer))._buffer)[2*e]=yo(t),r[2*e+1]=vo(t),n}));var Mo=2*Ot.BYTES_PER_ELEMENT,Io=go();function Fo(e){return e instanceof Po||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function ko(e){return e===Po||"Complex64Array"===e.name}function Bo(e,t){return new ao(e[t*=2],e[t+1])}function Po(){var e,t,r,n;if(t=arguments.length,!(this instanceof Po))return 0===t?new Po:1===t?new Po(arguments[0]):2===t?new Po(arguments[0],arguments[1]):new Po(arguments[0],arguments[1],arguments[2]);if(0===t)r=new Ot(0);else if(1===t)if(fi(arguments[0]))r=new Ot(2*arguments[0]);else if(or(arguments[0]))if((n=(r=arguments[0]).length)&&Je(r)&&co(r[0])){if(null===(r=Lo(new Ot(2*n),r))){if(!Un(n))throw new RangeError(I("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",n));r=new Ot(arguments[0])}}else{if(ho(r))r=wo(r,0);else if(po(r))r=bo(r,0);else if(!Un(n))throw new RangeError(I("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",n));r=new Ot(r)}else if(Et(arguments[0])){if(!se((r=arguments[0]).byteLength/Mo))throw new RangeError(I("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",Mo,r.byteLength));r=new Ot(r)}else{if(!oo(arguments[0]))throw new TypeError(I("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(r=arguments[0],!1===Io)throw new TypeError(I("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",r));if(!tt(r[mo]))throw new TypeError(I("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if(!tt((r=r[mo]()).next))throw new TypeError(I("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if((r=No(r))instanceof Error)throw r;r=new Ot(r)}else{if(!Et(r=arguments[0]))throw new TypeError(I("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",r));if(!fi(e=arguments[1]))throw new TypeError(I("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",e));if(!se(e/Mo))throw new RangeError(I("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",Mo,e));if(2===t){if(!se((n=r.byteLength-e)/Mo))throw new RangeError(I("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",Mo,n));r=new Ot(r,e)}else{if(!fi(n=arguments[2]))throw new TypeError(I("invalid argument. Length must be a nonnegative integer. Value: `%s`.",n));if(n*Mo>r.byteLength-e)throw new RangeError(I("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",n*Mo));r=new Ot(r,e,2*n)}}return G(this,"_buffer",r),G(this,"_length",r.length/2),this}G(Po,"BYTES_PER_ELEMENT",Mo),G(Po,"name","Complex128Array"),G(Po,"from",(function(e){var t,r,n,i,o,a,u,s,f,l,c,h;if(!tt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!ko(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((r=arguments.length)>1){if(!tt(n=arguments[1]))throw new TypeError(I("invalid argument. Second argument must be a function. Value: `%s`.",n));r>2&&(t=arguments[2])}if(Fo(e)){if(s=e.length,n){for(o=(i=new this(s))._buffer,h=0,c=0;c<s;c++){if(co(l=n.call(t,e.get(c),c)))o[h]=Fe(l),o[h+1]=ke(l);else{if(!(io(l)&&l.length>=2))throw new TypeError(I("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[h]=l[0],o[h+1]=l[1]}h+=2}return i}return new this(e)}if(or(e)){if(n){for(s=e.length,u=e.get&&e.set?ji("default"):Ri("default"),c=0;c<s;c++)if(!co(u(e,c))){f=!0;break}if(f){if(!Un(s))throw new RangeError(I("invalid argument. First argument must have a length which is a multiple of two. Length: `%u`.",s));for(o=(i=new this(s/2))._buffer,c=0;c<s;c++)o[c]=n.call(t,u(e,c),c);return i}for(o=(i=new this(s))._buffer,h=0,c=0;c<s;c++){if(co(l=n.call(t,u(e,c),c)))o[h]=Fe(l),o[h+1]=ke(l);else{if(!(io(l)&&l.length>=2))throw new TypeError(I("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[h]=l[0],o[h+1]=l[1]}h+=2}return i}return new this(e)}if(oo(e)&&Io&&tt(e[mo])){if(!tt((o=e[mo]()).next))throw new TypeError(I("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",e));if((a=n?So(o,n,t):No(o))instanceof Error)throw a;for(o=(i=new this(s=a.length/2))._buffer,c=0;c<s;c++)o[c]=a[c];return i}throw new TypeError(I("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",e))})),G(Po,"of",(function(){var e,t;if(!tt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!ko(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return new this(e)})),G(Po.prototype,"at",(function(e){if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!se(e))throw new TypeError(I("invalid argument. Must provide an integer. Value: `%s`.",e));if(e<0&&(e+=this._length),!(e<0||e>=this._length))return Bo(this._buffer,e)})),Re(Po.prototype,"buffer",(function(){return this._buffer.buffer})),Re(Po.prototype,"byteLength",(function(){return this._buffer.byteLength})),Re(Po.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),G(Po.prototype,"BYTES_PER_ELEMENT",Po.BYTES_PER_ELEMENT),G(Po.prototype,"copyWithin",(function(e,t){if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*e,2*t):this._buffer.copyWithin(2*e,2*t,2*arguments[2]),this})),G(Po.prototype,"entries",(function(){var e,t,r,n,i,o,a;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return t=this,e=this._buffer,n=this._length,o=-1,a=-2,G(r={},"next",(function(){var t;if(o+=1,i||o>=n)return{done:!0};return t=new ao(e[a+=2],e[a+1]),{value:[o,t],done:!1}})),G(r,"return",(function(e){if(i=!0,arguments.length)return{value:e,done:!0};return{done:!0}})),mo&&G(r,mo,(function(){return t.entries()})),r})),G(Po.prototype,"every",(function(e,t){var r,n;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=0;n<this._length;n++)if(!e.call(t,Bo(r,n),n,this))return!1;return!0})),G(Po.prototype,"fill",(function(e,t,r){var n,i,o,a,u,s;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!co(e))throw new TypeError(I("invalid argument. First argument must be a complex number. Value: `%s`.",e));if(n=this._buffer,i=this._length,arguments.length>1){if(!se(t))throw new TypeError(I("invalid argument. Second argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=i)<0&&(t=0),arguments.length>2){if(!se(r))throw new TypeError(I("invalid argument. Third argument must be an integer. Value: `%s`.",r));r<0&&(r+=i)<0&&(r=0),r>i&&(r=i)}else r=i}else t=0,r=i;for(a=Fe(e),u=ke(e),s=t;s<r;s++)n[o=2*s]=a,n[o+1]=u;return this})),G(Po.prototype,"filter",(function(e,t){var r,n,i,o;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=[],i=0;i<this._length;i++)o=Bo(r,i),e.call(t,o,i,this)&&n.push(o);return new this.constructor(n)})),G(Po.prototype,"find",(function(e,t){var r,n,i;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=0;n<this._length;n++)if(i=Bo(r,n),e.call(t,i,n,this))return i})),G(Po.prototype,"findIndex",(function(e,t){var r,n,i;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=0;n<this._length;n++)if(i=Bo(r,n),e.call(t,i,n,this))return n;return-1})),G(Po.prototype,"findLast",(function(e,t){var r,n,i;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=this._length-1;n>=0;n--)if(i=Bo(r,n),e.call(t,i,n,this))return i})),G(Po.prototype,"findLastIndex",(function(e,t){var r,n,i;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=this._length-1;n>=0;n--)if(i=Bo(r,n),e.call(t,i,n,this))return n;return-1})),G(Po.prototype,"forEach",(function(e,t){var r,n,i;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=0;n<this._length;n++)i=Bo(r,n),e.call(t,i,n,this)})),G(Po.prototype,"get",(function(e){if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!fi(e))throw new TypeError(I("invalid argument. Must provide a nonnegative integer. Value: `%s`.",e));if(!(e>=this._length))return Bo(this._buffer,e)})),Re(Po.prototype,"length",(function(){return this._length})),G(Po.prototype,"includes",(function(e,t){var r,n,i,o,a;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!co(e))throw new TypeError(I("invalid argument. First argument must be a complex number. Value: `%s`.",e));if(arguments.length>1){if(!se(t))throw new TypeError(I("invalid argument. Second argument must be an integer. Value: `%s`.",t));t<0&&(t+=this._length)<0&&(t=0)}else t=0;for(i=Fe(e),o=ke(e),r=this._buffer,a=t;a<this._length;a++)if(i===r[n=2*a]&&o===r[n+1])return!0;return!1})),G(Po.prototype,"indexOf",(function(e,t){var r,n,i,o,a;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!co(e))throw new TypeError(I("invalid argument. First argument must be a complex number. Value: `%s`.",e));if(arguments.length>1){if(!se(t))throw new TypeError(I("invalid argument. Second argument must be an integer. Value: `%s`.",t));t<0&&(t+=this._length)<0&&(t=0)}else t=0;for(i=Fe(e),o=ke(e),r=this._buffer,a=t;a<this._length;a++)if(i===r[n=2*a]&&o===r[n+1])return a;return-1})),G(Po.prototype,"join",(function(e){var t,r,n,i;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)n=",";else{if(!ze(e))throw new TypeError(I("invalid argument. First argument must be a string. Value: `%s`.",e));n=e}for(t=[],r=this._buffer,i=0;i<this._length;i++)t.push(Bo(r,i).toString());return t.join(n)})),G(Po.prototype,"lastIndexOf",(function(e,t){var r,n,i,o,a;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!co(e))throw new TypeError(I("invalid argument. First argument must be a complex number. Value: `%s`.",e));if(arguments.length>1){if(!se(t))throw new TypeError(I("invalid argument. Second argument must be an integer. Value: `%s`.",t));t>=this._length?t=this._length-1:t<0&&(t+=this._length)}else t=this._length-1;for(i=Fe(e),o=ke(e),r=this._buffer,a=t;a>=0;a--)if(i===r[n=2*a]&&o===r[n+1])return a;return-1})),G(Po.prototype,"map",(function(e,t){var r,n,i,o,a;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(n=this._buffer,r=(i=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)if(co(a=e.call(t,Bo(n,o),o,this)))r[2*o]=Fe(a),r[2*o+1]=ke(a);else{if(!io(a)||2!==a.length)throw new TypeError(I("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",a));r[2*o]=a[0],r[2*o+1]=a[1]}return i})),G(Po.prototype,"reverse",(function(){var e,t,r,n,i,o;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,e=this._buffer,n=ue(r/2),i=0;i<n;i++)o=r-i-1,t=e[2*i],e[2*i]=e[2*o],e[2*o]=t,t=e[2*i+1],e[2*i+1]=e[2*o+1],e[2*o+1]=t;return this})),G(Po.prototype,"set",(function(e){var t,r,n,i,o,a,u,s,f;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!fi(r=arguments[1]))throw new TypeError(I("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",r))}else r=0;if(co(e)){if(r>=this._length)throw new RangeError(I("invalid argument. Index argument is out-of-bounds. Value: `%u`.",r));return n[r*=2]=Fe(e),void(n[r+1]=ke(e))}if(Fo(e)){if(r+(a=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(t=e._buffer,f=n.byteOffset+r*Mo,t.buffer===n.buffer&&t.byteOffset<f&&t.byteOffset+t.byteLength>f){for(i=new Ot(t.length),s=0;s<t.length;s++)i[s]=t[s];t=i}for(r*=2,f=0,s=0;s<a;s++)n[r]=t[f],n[r+1]=t[f+1],r+=2,f+=2}else{if(!or(e))throw new TypeError(I("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",e));for(a=e.length,s=0;s<a;s++)if(!co(e[s])){o=!0;break}if(o){if(!Un(a))throw new RangeError(I("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",a));if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(t=e,f=n.byteOffset+r*Mo,t.buffer===n.buffer&&t.byteOffset<f&&t.byteOffset+t.byteLength>f){for(i=new Ot(a),s=0;s<a;s++)i[s]=t[s];t=i}for(r*=2,a/=2,f=0,s=0;s<a;s++)n[r]=t[f],n[r+1]=t[f+1],r+=2,f+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,s=0;s<a;s++)u=e[s],n[r]=Fe(u),n[r+1]=ke(u),r+=2}})),G(Po.prototype,"some",(function(e,t){var r,n;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!tt(e))throw new TypeError(I("invalid argument. First argument must be a function. Value: `%s`.",e));for(r=this._buffer,n=0;n<this._length;n++)if(e.call(t,Bo(r,n),n,this))return!0;return!1})),G(Po.prototype,"subarray",(function(e,t){var r,n,i;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,i=this._length,0===arguments.length)e=0,t=i;else{if(!se(e))throw new TypeError(I("invalid argument. First argument must be an integer. Value: `%s`.",e));if(e<0&&(e+=i)<0&&(e=0),1===arguments.length)t=i;else{if(!se(t))throw new TypeError(I("invalid argument. Second argument must be an integer. Value: `%s`.",t));t<0?(t+=i)<0&&(t=0):t>i&&(t=i)}}return e>=i?(i=0,r=n.byteLength):e>=t?(i=0,r=n.byteOffset+e*Mo):(i=t-e,r=n.byteOffset+e*Mo),new this.constructor(n.buffer,r,i<0?0:i)})),G(Po.prototype,"toReversed",(function(){var e,t,r,n,i,o;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,t=new this.constructor(r),n=this._buffer,e=t._buffer,i=0;i<r;i++)o=r-i-1,e[2*i]=n[2*o],e[2*i+1]=n[2*o+1];return t})),G(Po.prototype,"toString",(function(){var e,t,r;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],t=this._buffer,r=0;r<this._length;r++)e.push(Bo(t,r).toString());return e.join(",")})),G(Po.prototype,"with",(function(e,t){var r,n,i;if(!Fo(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!se(e))throw new TypeError(I("invalid argument. First argument must be an integer. Value: `%s`.",e));if(i=this._length,e<0&&(e+=i),e<0||e>=i)throw new RangeError(I("invalid argument. Index argument is out-of-bounds. Value: `%s`.",e));if(!co(t))throw new TypeError(I("invalid argument. Second argument must be a complex number. Value: `%s`.",t));return(r=(n=new this.constructor(this._buffer))._buffer)[2*e]=Fe(t),r[2*e+1]=ke(t),n}));var Uo=[Ot,Fi,Yi,ln,$i,yt,no,ct,Ki,Ro,Po],Co=["float64","float32","int32","uint32","int16","uint16","int8","uint8","uint8c","complex64","complex128"],zo=Co.length;function Yo(e){var t;if(Je(e))return"generic";if(Ke(e))return null;for(t=0;t<zo;t++)if(e instanceof Uo[t])return Co[t];return Ni[Qe(e)]||null}function qo(e){var t,r,n;if(!or(e))throw new TypeError(I("invalid argument. Must provide an array-like object. Value: `%s`.",e));return n=Yo(e),Ai(e)&&(t=ji(n)),r=e.length,void 0===t?function(t){var n;for(n=0;n<r;n++)if(e[n]===t)return!0;return!1}:function(n){var i;for(i=0;i<r;i++)if(t(e,i)===n)return!0;return!1}}G((function(e,t){var r,n,i,o;for(i=Yo(e),n=Ai(e)?ji(i):Ri(i),r=e.length,o=0;o<r;o++)if(n(e,o)===t)return!0;return!1}),"factory",qo);var Go=qo(Pt());function Wo(e,t,r,n){var i=Ie(t,r,n);return i[0]>=0&&i[1]<e}function Do(e){var t,r,n;if(0===(t=e.length))return 0;for(r=1,n=0;n<t;n++)r*=e[n];return r}function $o(){return{dtypes:{default:"float64",numeric:"float64",real:"float64",floating_point:"float64",real_floating_point:"float64",complex_floating_point:"complex128",integer:"int32",signed_integer:"int32",unsigned_integer:"uint32"},order:"row-major",casting:"safe",index_mode:"throw"}}var Ho={dtypes:{default:"float64",numeric:"float64",real:"float64",floating_point:"float64",real_floating_point:"float64",complex_floating_point:"complex128",integer:"int32",signed_integer:"int32",unsigned_integer:"uint32"},order:"row-major",casting:"safe",index_mode:"throw"},Jo={"dtypes.default":Ho.dtypes.default,"dtypes.numeric":Ho.dtypes.numeric,"dtypes.real":Ho.dtypes.real,"dtypes.floating_point":Ho.dtypes.floating_point,"dtypes.real_floating_point":Ho.dtypes.real_floating_point,"dtypes.complex_floating_point":Ho.dtypes.complex_floating_point,"dtypes.integer":Ho.dtypes.integer,"dtypes.signed_integer":Ho.dtypes.signed_integer,"dtypes.unsigned_integer":Ho.dtypes.unsigned_integer,order:Ho.order,casting:Ho.casting,index_mode:Ho.index_mode};function Xo(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t?new TypeError(I("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `%s`.",e)):null}G($o,"get",(function(e){var t=Jo[e];return void 0===t?null:t}));var Zo=Object.create;function Ko(){}var Qo="function"==typeof Zo?Zo:function(e){return Ko.prototype=e,new Ko};function ea(e,t){return e<0?0:e>t?t:e}function ta(e,t){var r=t+1;return e<0?((e+=r)<0&&0!==(e%=r)&&(e+=r),e):e>t?((e-=r)>t&&(e%=r),e):e}function ra(e,t){return e<0?(e+=t+1)<0?-1:e:e>t?-1:e}var na=qo(wr()),ia={wrap:ta,clamp:ea,normalize:function(e,t){var r=ra(e,t);if(r<0||r>t)throw new RangeError(I("invalid argument. Index must resolve to a value on the interval: [0, %d]. Value: `%d`.",t,e));return r},throw:function(e,t){if(e<0||e>t)throw new RangeError(I("invalid argument. Index must resolve to a value on the interval: [0, %d]. Value: `%d`.",t,e));return e}};function oa(e,t,r){var n;if("clamp"===r)return ea(e,t);if("wrap"===r)return ta(e,t);if(n=e,"normalize"===r&&(n=ra(n,t)),n<0||n>t)throw new RangeError(I("invalid argument. Index must resolve to a value on the interval: [0, %d]. Value: `%d`.",t,e));return n}G(oa,"factory",(function(e){if(!na(e))throw new TypeError(I("invalid argument. First argument must be a recognized index mode. Value: `%s`.",e));return ia[e]}));var aa=Nr.prototype.iget;var ua=Nr.prototype.iset;function sa(e,t){var r,n;for(r=[],n=0;n<t;n++)r.push(e[n]);return r}var fa=Object.prototype;function la(e){var t;return!!oo(e)&&(!(t=Ur(e))||!X(e,"constructor")&&X(t,"constructor")&&tt(t.constructor)&&"[object Function]"===Q(t.constructor)&&X(t,"isPrototypeOf")&&tt(t.isPrototypeOf)&&(t===fa||function(e){var t;for(t in e)if(!X(e,t))return!1;return!0}(e)))}function ca(e,t){var r;if(!la(t))return new TypeError(I("invalid argument. Options argument must be an object. Value: `%s`.",t));if(X(t,"mode")&&(e.mode=t.mode,!na(e.mode)))return new TypeError(I("invalid option. `%s` option must be a recognized mode. Option: `%s`.","mode",e.mode));if(X(t,"submode")){if(e.submode=t.submode,!Je(e.submode))return new TypeError(I("invalid option. `%s` option must be an array containing recognized modes. Option: `%s`.","submode",e.submode));if(0===e.submode.length)return new TypeError(I("invalid option. `%s` option must be an array containing recognized modes. Option: `%s`.","submode",e.submode.join(",")));for(r=0;r<e.submode.length;r++)if(!na(e.submode[r]))return new TypeError(I("invalid option. Each submode must be a recognized mode. Option: `%s`.",e.submode[r]));e.submode=e.submode.slice()}return X(t,"readonly")&&(e.readonly=t.readonly,!de(e.readonly))?new TypeError(I("invalid option. `%s` option must be a boolean. Option: `%s`.","readonly",e.readonly)):null}var ha=32767,pa=$o.get("index_mode");function ga(e,t,r,n,i,o,a){var u,s,f,l,c;if(!(this instanceof ga))return arguments.length<7?new ga(e,t,r,n,i,o):new ga(e,t,r,n,i,o,a);if(!Go(e))throw new TypeError(I("invalid argument. First argument must be a supported ndarray data type. Value: `%s`.",e));if(!or(t))throw new TypeError(I("invalid argument. Second argument must be an array-like object, typed-array-like, or a Buffer. Value: `%s`.",t));if(t.get&&t.set&&(!tt(t.get)||!tt(t.set)))throw new TypeError(I("invalid argument. Second argument `get` and `set` properties must be functions. Value: `%s`.",t));if(!mi(r)&&(!or(r)||r.length>0))throw new TypeError(I("invalid argument. Third argument must be an array-like object containing nonnegative integers. Value: `%s`.",r));if((u=r.length)>ha)throw new RangeError(I("invalid argument. Number of dimensions must not exceed %u due to stack limits. Value: `%u`.",ha,u));if(!vi(n))throw new TypeError(I("invalid argument. Fourth argument must be an array-like object containing integers. Value: `%s`.",n));if(u>0){if(n.length!==u)throw new RangeError(I("invalid argument. Fourth argument length must match the number of dimensions. Expected number of dimensions: `%u`. Strides length: `%u`.",u,n.length))}else{if(1!==n.length)throw new RangeError("invalid argument. Fourth argument length must be equal to 1 when creating a zero-dimensional ndarray.");if(0!==n[0])throw new RangeError(I("invalid argument. Fourth argument must contain a single element equal to 0. Value: `%d`.",n[0]))}if(!fi(i))throw new TypeError(I("invalid argument. Fifth argument must be a nonnegative integer. Value: `%s`.",i));if(!Ti(o))throw new TypeError(I("invalid argument. Sixth argument must be a supported order. Value: `%s`.",o));if(u>0&&!Wo(t.length,r,n,i)&&Do(r)>0)throw new Error("invalid arguments. Input buffer is incompatible with the specified meta data. Ensure that the offset is valid with regard to the strides array and that the buffer has enough elements to satisfy the desired array shape.");if((s={}).mode=pa,s.readonly=false,arguments.length>6&&(f=ca(s,a)))throw f;return this._mode=s.mode,void 0===s.submode&&(s.submode=[this._mode]),this._submode=s.submode,l=sa(r,u),c=sa(n,u||1),Nr.call(this,e,t,l,c,i,o),this._flags.READONLY=s.readonly,this}function ma(e,t){return"column-major"===t?function(e){var t,r,n;for(t=[],r=1,n=0;n<e.length;n++)t.push(r),r*=e[n];return t}(e):function(e){var t,r,n,i;for(t=e.length,r=[],i=0;i<t;i++)r.push(0);for(n=1,i=t-1;i>=0;i--)r[i]=n,n*=e[i];return r}(e)}function da(e,t,r,n,i,o){var a,u,s,f,l;for(a=e.length,u=1,l=0;l<a;l++)u*=e[l];if("clamp"===o)i<0?i=0:i>=u&&(i=u-1);else if("wrap"===o)i<0?(i+=u)<0&&0!==(i%=u)&&(i+=u):i>=u&&(i-=u)>=u&&(i%=u);else if("normalize"===o&&i<0&&(i+=u),i<0||i>=u)throw new RangeError(I("invalid argument. Linear index must not exceed array dimensions. Number of array elements: `%u`. Value: `%d`.",u,i));if(s=r,"column-major"===n){for(l=0;l<a;l++)i-=f=i%e[l],i/=e[l],s+=f*t[l];return s}for(l=a-1;l>=0;l--)i-=f=i%e[l],i/=e[l],s+=f*t[l];return s}!function(e,t){var r=Xo(e);if(r)throw r;if(r=Xo(t))throw r;if(void 0===t.prototype)throw new TypeError(I("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `%s`.",t.prototype));e.prototype=Qo(t.prototype),Y(e.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:e})}(ga,Nr),G(ga,"name","ndarray"),G(ga.prototype,"get",(function(){var e,t,r,n;if(arguments.length!==this._ndims)throw new RangeError(I("invalid arguments. Number of indices must match the number of dimensions. ndims: `%u`. nargs: `%u`.",this._ndims,arguments.length));for(e=this._offset,r=this._submode.length,n=0;n<arguments.length;n++){if(!le(arguments[n]))throw new TypeError(I("invalid argument. Indices must be integer valued. Argument: `%u`. Value: `%s`.",n,arguments[n]));t=oa(arguments[n],this._shape[n]-1,this._submode[n%r]),e+=this._strides[n]*t}return this._accessors?this._buffer.get(e):this._buffer[e]})),G(ga.prototype,"iget",(function(e){if(this._ndims>0){if(!le(e))throw new TypeError(I("invalid argument. Index must be an integer. Value: `%s`.",e));return e=oa(e,this._length-1,this._mode),aa.call(this,e)}return aa.call(this)})),G(ga.prototype,"set",(function(){var e,t,r,n;if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(arguments.length!==this._ndims+1)throw new RangeError(I("invalid arguments. Number of indices must match the number of dimensions. ndims: `%u`. nargs: `%u`.",this._ndims,arguments.length));for(e=this._offset,r=this._submode.length,n=0;n<arguments.length-1;n++){if(!le(arguments[n]))throw new TypeError(I("invalid argument. Indices must be integer valued. Argument: `%i`. Value: `%s`.",n,arguments[n]));t=oa(arguments[n],this._shape[n]-1,this._submode[n%r]),e+=this._strides[n]*t}return this._accessors?this._buffer.set(arguments[n],e):this._buffer[e]=arguments[n],this})),G(ga.prototype,"iset",(function(e,t){if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(this._ndims>0){if(!le(e))throw new TypeError(I("invalid argument. Index must be an integer. Value: `%s`.",e));e=oa(e,this._length-1,this._mode),ua.call(this,e,t)}else ua.call(this,e);return this})),G(ma,"assign",(function(e,t,r){return"column-major"===t?function(e,t){var r,n;for(r=1,n=0;n<e.length;n++)t[n]=r,r*=e[n];return t}(e,r):function(e,t){var r,n;for(r=1,n=e.length-1;n>=0;n--)t[n]=r,r*=e[n];return t}(e,r)}));var ya={basic:"_basicLearningRate",constant:"_constantLearningRate",invscaling:"_inverseScalingLearningRate",pegasos:"_pegasosLearningRate"},va={hinge:"_hingeLoss",log:"_logLoss",modifiedHuber:"_modifiedHuberLoss",perceptron:"_perceptronLoss",squaredHinge:"_squaredHingeLoss"};function wa(e,t){var r;return this._N=e,this._opts=t,this._scaleFactor=1,this._t=0,this._learningRateMethod=ya[t.learningRate[0]],this._lossMethod=va[t.loss],r=e,t.intercept&&(r+=1),this._weights=new Ot(r),this._coefficients=new ga("float64",new Ot(r),[r],[1],0,"row-major"),this}G(wa.prototype,"_add",(function(e,t){var r=t/this._scaleFactor,n=this._weights;return Ir(e.shape[0],r,e.data,e.strides[0],e.offset,n,1,0),this._opts.intercept&&(n[this._N]+=r),this})),G(wa.prototype,"_basicLearningRate",(function(){return 10/(10+this._t)})),G(wa.prototype,"_constantLearningRate",(function(){return this._opts.learningRate[1]})),G(wa.prototype,"_dot",(function(e,t,r){var n=Mr(this._N,this._weights,1,0,e,t,r);return this._opts.intercept&&(n+=this._weights[this._N]),n*=this._scaleFactor})),G(wa.prototype,"_hingeLoss",(function(e,t){var r;return r=this[this._learningRateMethod](),this._regularize(r),t*this._dot(e.data,e.strides[0],e.offset)<1&&this._add(e,t*r),this})),G(wa.prototype,"_inverseScalingLearningRate",(function(){var e=this._opts.learningRate;return e[1]/si(this._t,e[2])})),G(wa.prototype,"_logLoss",(function(e,t){var r,n;return n=this[this._learningRateMethod](),this._regularize(n),r=t/(1+Pn(t*this._dot(e.data,e.strides[0],e.offset))),this._add(e,n*r),this})),G(wa.prototype,"_modifiedHuberLoss",(function(e,t){var r,n;return r=this[this._learningRateMethod](),this._regularize(r),(n=t*this._dot(e.data,e.strides[0],e.offset))<-1?this._add(e,4*r*t):this._add(e,r*(t-n*t)),this})),G(wa.prototype,"_pegasosLearningRate",(function(){return 1/(this._opts.lambda*this._t)})),G(wa.prototype,"_perceptronLoss",(function(e,t){var r;return r=this[this._learningRateMethod](),this._regularize(r),t*this._dot(e.data,e.strides[0],e.offset)<=0&&this._add(e,t*r),this})),G(wa.prototype,"_regularize",(function(e){var t=this._opts.lambda;return t<=0||this._scale(Xr(1-e*t,1e-7)),this})),G(wa.prototype,"_scale",(function(e){var t;if(e<=0)throw new RangeError(I("invalid argument. Attempting to scale a weight vector by a nonpositive value. This is likely due to too large a value of eta * lambda. Value: `%f`.",e));return(t=this._scaleFactor)<1e-11&&(Jr(this._N,t,this._weights,1),this._scaleFactor=1),this._scaleFactor*=e,this})),G(wa.prototype,"_squaredHingeLoss",(function(e,t){var r,n;return r=this[this._learningRateMethod](),this._regularize(r),(n=t*this._dot(e.data,e.strides[0],e.offset))<1&&this._add(e,r*(t-n*t)),this})),Re(wa.prototype,"coefficients",(function(){var e=this._coefficients.data,t=this._weights;return Wr(t.length,t,1,e,1),Jr(this._N,this._scaleFactor,e,1),this._coefficients})),Re(wa.prototype,"nfeatures",(function(){return this._N})),G(wa.prototype,"predict",(function(e,t){var r,n,i,o,a,u,s,f,l,c,h,p,g,m,d,y,v;for(n=e.data,o=e.shape,l=e.strides,h=e.offset,u=e.order,r=o.length-1,a=[],y=0;y<r;y++)a.push(o[y]);for(0===r?(p=1,i=new Ot(1),c=[0]):(p=Do(a),i=new Ot(p),c=ma(a,u)),m=new ga("int8",i,a,c,0,u),g=this._N,f=l[r],y=0;y<p;y++)s=da(o,l,h,u,y*g,"throw"),d=this._dot(n,f,s),"label"===t?d=d>0?1:-1:"probability"===t&&(d=Wt(v=d)?v:1/(1+Pn(-v))),0===r?m.iset(d):m.iset(y,d);return m})),G(wa.prototype,"update",(function(e,t){return this._t+=1,this[this._lossMethod](e,t)}));var ba={basic:["basic"],constant:["constant",.02],invscaling:["invscaling",.02,.5],pegasos:["pegasos"]};function Ea(e){return W(e)&&e>=0}function _a(e){return ne(e)&&e.valueOf()>=0}function Ta(e){return Ea(e)||_a(e)}function xa(e){return W(e)&&e>0}function Aa(e){return ne(e)&&e.valueOf()>0}function Oa(e){return xa(e)||Aa(e)}function ja(e,t,r){var n,i,o;if(!or(e)&&!Be(e))throw new TypeError(I("invalid argument. First argument must be array-like. Value: `%s`.",e));if(arguments.length<2)throw new Error("insufficient arguments. Must provide a search value.");if(arguments.length>2){if(!le(r))throw new TypeError(I("invalid argument. Third argument must be an integer. Value: `%s`.",r));(i=r)<0&&(i=0)}else i=0;if(Be(e)){if(!Be(t))throw new TypeError(I("invalid argument. Second argument must be a string. Value: `%s`.",t));return-1!==e.indexOf(t,i)}if(n=e.length,Dt(t)){for(o=i;o<n;o++)if(Dt(e[o]))return!0;return!1}for(o=i;o<n;o++)if(e[o]===t)return!0;return!1}G(Ta,"isPrimitive",Ea),G(Ta,"isObject",_a),G(Oa,"isPrimitive",xa),G(Oa,"isObject",Aa);var Va=["basic","constant","invscaling","pegasos"],Ra=["hinge","log","modifiedHuber","perceptron","squaredHinge"];function Na(e,t){var r;if(!la(t))return new TypeError(I("invalid argument. Options argument must be an object. Value: `%s`.",t));if(X(t,"intercept")&&(e.intercept=t.intercept,!de(e.intercept)))return new TypeError(I("invalid option. `%s` option must be a boolean. Option: `%s`.","intercept",e.intercept));if(X(t,"lambda")&&(e.lambda=t.lambda,!Ea(e.lambda)))return new TypeError(I("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","lambda",e.lambda));if(X(t,"learningRate")){if(!io(t.learningRate))return new TypeError(I("invalid option. `%s` option must be an array-like object. Option: `%s`.","learningRate",t.learningRate));if(r=t.learningRate[0],e.learningRate[0]=r,!ja(Va,r))return new TypeError(I('invalid option. First `%s` option must be one of the following: "%s". Option: `%s`.',"learningRate",Va.join('", "'),r));if(t.learningRate.length>1&&("constant"===r||"invscaling"===r)&&(e.learningRate[1]=t.learningRate[1],!xa(e.learningRate[1])))return new TypeError(I("invalid option. Second `%s` option must be a positive number. Option: `%s`.","learningRate",e.learningRate[1]));if(t.learningRate.length>2&&"invscaling"===r&&(e.learningRate[2]=t.learningRate[2],!W(e.learningRate[2])))return new TypeError(I("invalid option. Third `%s` option must be a number. Option: `%s`.","learningRate",e.learningRate[2]))}return X(t,"loss")&&(e.loss=t.loss,!ja(Ra,e.loss))?new TypeError(I('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"loss",Ra.join('", "'),e.loss)):null}function Sa(e){return Sr(e)&&2===e.ndims&&2===e.shape.length&&2===e.strides.length}function La(e,t,r,n){Y(e,t,{configurable:!1,enumerable:!1,get:r,set:n})}var Ma={float64:function(e,t,r){e[t]=r},float32:function(e,t,r){e[t]=r},int32:function(e,t,r){e[t]=r},int16:function(e,t,r){e[t]=r},int8:function(e,t,r){e[t]=r},uint32:function(e,t,r){e[t]=r},uint16:function(e,t,r){e[t]=r},uint8:function(e,t,r){e[t]=r},uint8c:function(e,t,r){e[t]=r},generic:function(e,t,r){e[t]=r},default:function(e,t,r){e[t]=r}};function Ia(e){var t=Ma[e];return"function"==typeof t?t:Ma.default}var Fa={complex128:function(e,t,r){e.set(r,t)},complex64:function(e,t,r){e.set(r,t)},default:function(e,t,r){e.set(r,t)}};function ka(e){var t=Fa[e];return"function"==typeof t?t:Fa.default}function Ba(e){var t=function(e){var t=Yo(e);return Ai(e)?{accessorProtocol:!0,accessors:[ji(t),ka(t)]}:{accessorProtocol:!1,accessors:[Ri(t),Ia(t)]}}(e);return{data:e,accessorProtocol:t.accessorProtocol,accessors:t.accessors}}function Pa(e,t,r,n,i,o,a){var u,s,f,l,c,h,p;for(u=t.data,s=i.data,l=t.accessors[0],f=i.accessors[1],c=n,h=a,p=0;p<e;p++)f(s,h,l(u,c)),c+=r,h+=o;return t}function Ua(e,t,r,n,i){var o,a,u,s,f,l;if(e<=0)return n;if(u=Ba(t),s=Ba(n),u.accessorProtocol||s.accessorProtocol)return Pa(e,u,r,o=r<0?(1-e)*r:0,s,i,a=i<0?(1-e)*i:0),s.data;if(1===r&&1===i){if((f=e%8)>0)for(l=0;l<f;l++)n[l]=t[l];if(e<8)return n;for(l=f;l<e;l+=8)n[l]=t[l],n[l+1]=t[l+1],n[l+2]=t[l+2],n[l+3]=t[l+3],n[l+4]=t[l+4],n[l+5]=t[l+5],n[l+6]=t[l+6],n[l+7]=t[l+7];return n}for(o=r<0?(1-e)*r:0,a=i<0?(1-e)*i:0,l=0;l<e;l++)n[a]=t[o],o+=r,a+=i;return n}function Ca(e,t,r,n,i,o,a){var u,s,f,l,c,h;if(e<=0)return i;if(f=Ba(t),l=Ba(i),f.accessorProtocol||l.accessorProtocol)return Pa(e,f,r,n,l,o,a),l.data;if(u=n,s=a,1===r&&1===o){if((c=e%8)>0)for(h=0;h<c;h++)i[s]=t[u],u+=r,s+=o;if(e<8)return i;for(h=c;h<e;h+=8)i[s]=t[u],i[s+1]=t[u+1],i[s+2]=t[u+2],i[s+3]=t[u+3],i[s+4]=t[u+4],i[s+5]=t[u+5],i[s+6]=t[u+6],i[s+7]=t[u+7],u+=8,s+=8;return i}for(h=0;h<e;h++)i[s]=t[u],u+=r,s+=o;return i}function za(){}G(Ua,"ndarray",Ca);var Ya="foo"===za.name;var qa=[Ot,Fi,Yi,ln,$i,yt,no,ct,Ki],Ga=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],Wa=xt()?Ur(Ot):Da;function Da(){}function $a(e){var t,r;if("object"!=typeof e||null===e)return!1;if(e instanceof Wa)return!0;for(r=0;r<qa.length;r++)if(e instanceof qa[r])return!0;for(;e;){for(t=Qe(e),r=0;r<Ga.length;r++)if(Ga[r]===t)return!0;e=Ur(e)}return!1}Wa="TypedArray"===function(e){if(!1===tt(e))throw new TypeError(I("invalid argument. Must provide a function. Value: `%s`.",e));return Ya?e.name:He.exec(e.toString())[1]}(Wa)?Wa:Da;var Ha=[Po,Ro],Ja=["Complex64Array","Complex128Array"];function Xa(e,t){if("function"!=typeof t)throw new TypeError(I("invalid argument. Second argument must be callable. Value: `%s`.",t));return e instanceof t}var Za=[[Ot,"Float64Array"],[Fi,"Float32Array"],[Yi,"Int32Array"],[ln,"Uint32Array"],[$i,"Int16Array"],[yt,"Uint16Array"],[no,"Int8Array"],[ct,"Uint8Array"],[Ki,"Uint8ClampedArray"],[Ro,"Complex64Array"],[Po,"Complex128Array"]];function Ka(e){var t,r;for(r=0;r<Za.length;r++)if(Xa(e,Za[r][0]))return Za[r][1];for(;e;){for(t=Qe(e),r=0;r<Za.length;r++)if(t===Za[r][1])return Za[r][1];e=Ur(e)}}function Qa(e){var t,r,n;if($a(e))t=e;else{if(!function(e){var t,r;if("object"!=typeof e||null===e)return!1;for(r=0;r<Ha.length;r++)if(e instanceof Ha[r])return!0;for(;e;){for(t=Qe(e),r=0;r<Ja.length;r++)if(Ja[r]===t)return!0;e=Ur(e)}return!1}(e))throw new TypeError(I("invalid argument. Must provide a typed array. Value: `%s`.",e));t=8===e.BYTES_PER_ELEMENT?wo(e,0):bo(e,0)}for(r={type:Ka(e),data:[]},n=0;n<t.length;n++)r.data.push(t[n]);return r}function eu(e,t,r){var n;for(n=0;n<8;n++)if(Wt(e()))throw new Error("unexpected error. PRNG returned NaN.");for(n=r-1;n>=0;n--)t[n]=e();return t}function tu(){return 0|ue(1+2147483646*Math.random())}var ru=2147483646,nu=2147483646,iu=32,ou=39;function au(e,t){var r;return r=t?"option":"argument",e.length<40?new RangeError(I("invalid %s. State array has insufficient length.",r)):1!==e[0]?new RangeError(I("invalid %s. State array has an incompatible schema version. Expected: `%s`. Actual: `%s`.",r,1,e[0])):3!==e[1]?new RangeError(I("invalid %s. State array has an incompatible number of sections. Expected: `%s`. Actual: `%s`.",r,3,e[1])):e[2]!==iu?new RangeError(I("invalid %s. State array has an incompatible table length. Expected: `%s`. Actual: `%s`.",r,iu,e[2])):2!==e[35]?new RangeError(I("invalid %s. State array has an incompatible state length. Expected: `%u`. Actual: `%u`.",r,2,e[35])):e[38]!==e.length-ou?new RangeError(I("invalid %s. State array length is incompatible with seed section length. Expected: `%u`. Actual: `%u`.",r,e.length-ou,e[38])):null}function uu(e){var t,r,n,i,o,a;if(n={},arguments.length){if(!la(e))throw new TypeError(I("invalid argument. Options argument must be an object. Value: `%s`.",e));if(X(e,"copy")&&(n.copy=e.copy,!de(e.copy)))throw new TypeError(I("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",e.copy));if(X(e,"state")){if(r=e.state,n.state=!0,!Bi(r))throw new TypeError(I("invalid option. `%s` option must be an Int32Array. Option: `%s`.","state",r));if(a=au(r,!0))throw a;!1===n.copy?t=r:(t=new Yi(r.length),Ua(r.length,r,1,t,1)),r=new Yi(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,iu),i=new Yi(t.buffer,t.byteOffset+39*t.BYTES_PER_ELEMENT,r[38])}if(void 0===i)if(X(e,"seed"))if(i=e.seed,n.seed=!0,pe(i)){if(i>nu)throw new RangeError(I("invalid option. `%s` option must be a positive integer less than the maximum signed 32-bit integer. Option: `%u`.","seed",i));i|=0}else{if(!(or(i)&&i.length>0))throw new TypeError(I("invalid option. `%s` option must be either a positive integer less than the maximum signed 32-bit integer or an array-like object containing integer values less than the maximum signed 32-bit integer. Option: `%s`.","seed",i));o=i.length,(t=new Yi(ou+o))[0]=1,t[1]=3,t[2]=iu,t[35]=2,t[37]=i[0],t[38]=o,Ua.ndarray(o,i,1,0,t,1,39),r=new Yi(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,iu),i=new Yi(t.buffer,t.byteOffset+39*t.BYTES_PER_ELEMENT,o),r=eu(g,r,iu),t[36]=r[0]}else i=0|tu()}else i=0|tu();return void 0===r&&((t=new Yi(40))[0]=1,t[1]=3,t[2]=iu,t[35]=2,t[37]=i,t[38]=1,t[39]=i,r=new Yi(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,iu),i=new Yi(t.buffer,t.byteOffset+39*t.BYTES_PER_ELEMENT,1),r=eu(g,r,iu),t[36]=r[0]),G(m,"NAME","minstd-shuffle"),Re(m,"seed",u),Re(m,"seedLength",s),La(m,"state",c,h),Re(m,"stateLength",f),Re(m,"byteLength",l),G(m,"toJSON",p),G(m,"MIN",1),G(m,"MAX",2147483646),G(m,"normalized",d),G(d,"NAME",m.NAME),Re(d,"seed",u),Re(d,"seedLength",s),La(d,"state",c,h),Re(d,"stateLength",f),Re(d,"byteLength",l),G(d,"toJSON",p),G(d,"MIN",(m.MIN-1)/ru),G(d,"MAX",(m.MAX-1)/ru),m;function u(){var e=t[38];return Ua(e,i,1,new Yi(e),1)}function s(){return t[38]}function f(){return t.length}function l(){return t.byteLength}function c(){var e=t.length;return Ua(e,t,1,new Yi(e),1)}function h(e){var o;if(!Bi(e))throw new TypeError(I("invalid argument. Must provide an Int32Array. Value: `%s`.",e));if(o=au(e,!1))throw o;!1===n.copy?n.state&&e.length===t.length?Ua(e.length,e,1,t,1):(t=e,n.state=!0):(e.length!==t.length&&(t=new Yi(e.length)),Ua(e.length,e,1,t,1)),r=new Yi(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,iu),i=new Yi(t.buffer,t.byteOffset+39*t.BYTES_PER_ELEMENT,t[38])}function p(){var e={type:"PRNG"};return e.name=m.NAME,e.state=Qa(t),e.params=[],e}function g(){var e=0|t[37];return e=16807*e%Pi|0,t[37]=e,0|e}function m(){var e,n;return e=t[36],n=ue(iu*(e/Pi)),e=r[n],t[36]=e,r[n]=g(),e}function d(){return(m()-1)/ru}}var su=uu({seed:tu()});G(su,"factory",uu);var fu=.6931471803691238,lu=1.9082149292705877e-10,cu=1048575;function hu(e){var t,r,n,i,o,a,u,s,f,l,c,h;return 0===e?ae:Wt(e)||e<0?NaN:(o=0,(r=Tn(e))<1048576&&(o-=54,r=Tn(e*=0x40000000000000)),r>=2146435072?e+e:(o+=(r>>20)-Qr|0,o+=(s=(r&=cu)+614244&1048576|0)>>20|0,u=(e=Xn(e,r|1072693248^s))-1,(cu&2+r)<3?0===u?0===o?0:o*fu+o*lu:(a=u*u*(.5-.3333333333333333*u),0===o?u-a:o*fu-(a-o*lu-u)):(s=r-398458|0,f=440401-r|0,i=(c=(h=(l=u/(2+u))*l)*h)*function(e){return 0===e?.3999999999940942:.3999999999940942+e*(.22222198432149784+.15313837699209373*e)}(c),n=h*function(e){return 0===e?.6666666666666735:.6666666666666735+e*(.2857142874366239+e*(.1818357216161805+.14798198605116586*e))}(c),a=n+i,(s|=f)>0?(t=.5*u*u,0===o?u-(t-l*(t+a)):o*fu-(t-(l*(t+a)+o*lu)-u)):0===o?u-l*(u-a):o*fu-(l*(u-a)-o*lu-u))))}function pu(e,t,r){return(r?Nr:ga)("float64",new Ot(e*t),[e,t],[t,1],0,"row-major")}function gu(e,t){var r,n,i,o,a,u,s,f,l,c,h;for(l=t.shape[0],c=t.shape[1],r=t.data,n=e.data,i=t.strides[0],o=t.strides[1],a=e.strides[0],u=e.strides[1],s=t.offset,f=e.offset,h=0;h<l;h++)Ca(c,r,o,s,n,u,f),s+=i,f+=a;return e}function mu(e,t){return(t?Nr:ga)("float64",new Ot(e),[e],[1],0,"row-major")}function du(e,t){return Ca(t.shape[0],t.data,t.strides[0],t.offset,e.data,e.strides[0],e.offset),e}var yu=["euclidean","correlation","cosine"],vu=["forgy","sample","kmeans++"];function wu(e,t){if(!la(t))return new TypeError(I("invalid argument. Options argument must be an object. Value: `%s`.",t));if(X(t,"metric")&&(e.metric=t.metric,!ja(yu,e.metric)))return new TypeError(I('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"metric",yu.join('", "'),e.metric));if(X(t,"init")){if(!io(t.init))return new TypeError(I("invalid option. `%s` option must be an array-like object. Option: `%s`.","init",t.init));if(!ja(vu,t.init[0]))return new TypeError(I('invalid option. `%s` option method must be one of the following: "%s". Option: `%s`.',"init",vu.join('", "'),t.init[0]));if(e.init[0]=t.init[0],t.init.length>1&&(e.init[1]=t.init[1],!pe(e.init[1])))return new TypeError(I("invalid option. First `%s` parameter option must be a positive integer. Option: `%s`.","init",e.init[1]));if(t.init.length>2&&(e.init[2]=t.init[2],!pe(e.init[2])))return new TypeError(I("invalid option. Second `%s` parameter option must be a positive integer. Option: `%s`.","init",e.init[2]))}return X(t,"normalize")&&(e.normalize=t.normalize,!de(e.normalize))?new TypeError(I("invalid option. `%s` option must be a boolean. Option: `%s`.","normalize",e.normalize)):X(t,"copy")&&(e.copy=t.copy,!de(e.copy))?new TypeError(I("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",e.copy)):(X(t,"seed")&&(e.seed=t.seed),null)}var bu={forgy:["forgy",1],sample:["sample",1],"kmeans++":["kmeans++",1,1]};function Eu(e,t,r,n){var i,o,a,u;for(o=0,i=n,u=0;u<e;u++)o+=(a=t[i])*a,i+=r;for(o=zn(o),i=n,u=0;u<e;u++)t[i]/=o;return t}function _u(e){var t,r,n,i,o,a,u;for(t=e.data,o=e.shape[0],a=e.shape[1],r=e.strides[0],n=e.strides[1],i=e.offset,u=0;u<o;u++)Eu(a,t,n,i),i+=r;return e}function Tu(e,t,r,n,i,o,a,u,s,f){var l,c,h,p;for(l=n,c=a,h=f,p=0;p<e;p++)t[l]=(t[l]-i[c])/u[h],l+=r,c+=o,h+=s;return t}function xu(e,t){var r,n,i,o,a,u,s;for(r=e.data,a=e.shape[0],u=e.shape[1],n=e.strides[0],i=e.strides[1],o=e.offset,s=0;s<a;s++)Tu(u,r,i,o,t,2,0,t,2,1),o+=n;return e}function Au(e){return null!==e&&"object"==typeof e&&fi(e.length)&&e.length<=ir&&"number"==typeof e.BYTES_PER_ELEMENT&&"number"==typeof e.byteOffset&&"number"==typeof e.byteLength}var Ou=9007199254740991;function ju(e,t){var r,n;return((r=(65535&(e>>>=0))>>>0)*(n=(65535&(t>>>=0))>>>0)>>>0)+((e>>>16>>>0)*n+r*(t>>>16>>>0)<<16>>>0)>>>0}function Vu(){return ue(1+4294967294*Math.random())>>>0}var Ru=624,Nu=4294967295,Su=19650218,Lu=2147483648,Mu=2147483647,Iu=2636928640,Fu=4022730752,ku=[0,2567483615],Bu=1/9007199254740992,Pu=67108864,Uu=.9999999999999999,Cu=630;function zu(e,t){var r;return r=t?"option":"argument",e.length<631?new RangeError(I("invalid %s. `state` array has insufficient length.",r)):1!==e[0]?new RangeError(I("invalid %s. `state` array has an incompatible schema version. Expected: `%s`. Actual: `%s.`",r,1,e[0])):3!==e[1]?new RangeError(I("invalid %s. `state` array has an incompatible number of sections. Expected: `%s`. Actual: `%s`.",r,3,e[1])):e[2]!==Ru?new RangeError(I("invalid %s. `state` array has an incompatible state length. Expected: `%u`. Actual: `%u`.",r,Ru,e[2])):1!==e[627]?new RangeError(I("invalid %s. `state` array has an incompatible section length. Expected: `%u`. Actual: `%u`.",r,1,e[627])):e[629]!==e.length-Cu?new RangeError(I("invalid %s. `state` array length is incompatible with seed section length. Expected: `%u`. Actual: `%u`.",r,e.length-Cu,e[629])):null}function Yu(e,t,r){var n;for(e[0]=r>>>0,n=1;n<t;n++)r=((r=e[n-1]>>>0)^r>>>30)>>>0,e[n]=ju(r,1812433253)+n>>>0;return e}function qu(e,t,r,n){var i,o,a,u;for(o=1,a=0,u=Xr(t,n);u>0;u--)i=ju(i=((i=e[o-1]>>>0)^i>>>30)>>>0,1664525)>>>0,e[o]=(e[o]>>>0^i)+r[a]+a>>>0,a+=1,(o+=1)>=t&&(e[0]=e[t-1],o=1),a>=n&&(a=0);for(u=t-1;u>0;u--)i=ju(i=((i=e[o-1]>>>0)^i>>>30)>>>0,1566083941)>>>0,e[o]=(e[o]>>>0^i)-o>>>0,(o+=1)>=t&&(e[0]=e[t-1],o=1);return e[0]=2147483648,e}function Gu(e){var t,r;for(227,r=0;r<227;r++)t=e[r]&Lu|e[r+1]&Mu,e[r]=e[r+397]^t>>>1^ku[1&t];for(623;r<623;r++)t=e[r]&Lu|e[r+1]&Mu,e[r]=e[r-227]^t>>>1^ku[1&t];return t=e[623]&Lu|e[0]&Mu,e[623]=e[396]^t>>>1^ku[1&t],e}function Wu(e){var t,r,n,i,o,a;if(n={},arguments.length){if(!la(e))throw new TypeError(I("invalid argument. Options argument must be an object. Value: `%s`.",e));if(X(e,"copy")&&(n.copy=e.copy,!de(e.copy)))throw new TypeError(I("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",e.copy));if(X(e,"state")){if(r=e.state,n.state=!0,!nn(r))throw new TypeError(I("invalid option. `%s` option must be a Uint32Array. Option: `%s`.","state",r));if(a=zu(r,!0))throw a;!1===n.copy?t=r:(t=new ln(r.length),Ua(r.length,r,1,t,1)),r=new ln(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,Ru),i=new ln(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,r[629])}if(void 0===i)if(X(e,"seed"))if(i=e.seed,n.seed=!0,pe(i)){if(i>Nu)throw new RangeError(I("invalid option. `%s` option must be a positive integer less than or equal to the maximum unsigned 32-bit integer. Option: `%u`.","seed",i));i>>>=0}else{if(!1===or(i)||i.length<1)throw new TypeError(I("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%s`.","seed",i));if(1===i.length){if(!pe(i=i[0]))throw new TypeError(I("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%s`.","seed",i));if(i>Nu)throw new RangeError(I("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%u`.","seed",i));i>>>=0}else o=i.length,(t=new ln(Cu+o))[0]=1,t[1]=3,t[2]=Ru,t[627]=1,t[628]=Ru,t[629]=o,Ua.ndarray(o,i,1,0,t,1,630),r=new ln(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,Ru),i=new ln(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,o),r=qu(r=Yu(r,Ru,Su),Ru,i,o)}else i=Vu()>>>0}else i=Vu()>>>0;return void 0===r&&((t=new ln(631))[0]=1,t[1]=3,t[2]=Ru,t[627]=1,t[628]=Ru,t[629]=1,t[630]=i,r=new ln(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,Ru),i=new ln(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,1),r=Yu(r,Ru,i)),G(g,"NAME","mt19937"),Re(g,"seed",u),Re(g,"seedLength",s),La(g,"state",c,h),Re(g,"stateLength",f),Re(g,"byteLength",l),G(g,"toJSON",p),G(g,"MIN",0),G(g,"MAX",Kt),G(g,"normalized",m),G(m,"NAME",g.NAME),Re(m,"seed",u),Re(m,"seedLength",s),La(m,"state",c,h),Re(m,"stateLength",f),Re(m,"byteLength",l),G(m,"toJSON",p),G(m,"MIN",0),G(m,"MAX",Uu),g;function u(){var e=t[629];return Ua(e,i,1,new ln(e),1)}function s(){return t[629]}function f(){return t.length}function l(){return t.byteLength}function c(){var e=t.length;return Ua(e,t,1,new ln(e),1)}function h(e){var o;if(!nn(e))throw new TypeError(I("invalid argument. Must provide a Uint32Array. Value: `%s`.",e));if(o=zu(e,!1))throw o;!1===n.copy?n.state&&e.length===t.length?Ua(e.length,e,1,t,1):(t=e,n.state=!0):(e.length!==t.length&&(t=new ln(e.length)),Ua(e.length,e,1,t,1)),r=new ln(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,Ru),i=new ln(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,t[629])}function p(){var e={type:"PRNG"};return e.name=g.NAME,e.state=Qa(t),e.params=[],e}function g(){var e,n;return(n=t[628])>=Ru&&(r=Gu(r),n=0),e=r[n],t[628]=n+1,e^=e>>>11,e^=e<<7&Iu,e^=e<<15&Fu,(e^=e>>>18)>>>0}function m(){var e=g()>>>5,t=g()>>>6;return(e*Pu+t)*Bu}}function Du(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/}G(Wu({seed:Vu()}),"factory",Wu),G(Du,"REGEXP",/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/);var $u=void 0!==Object.getOwnPropertyNames,Hu=kr.getOwnPropertyNames;var Ju=$u?function(e){return Hu(kr(e))}:function(e){return gr(kr(e))},Xu=void 0!==Object.getOwnPropertyDescriptor,Zu=Object.getOwnPropertyDescriptor;var Ku=Xu?function(e,t){var r;return null==e||void 0===(r=Zu(e,t))?null:r}:function(e,t){return X(e,t)?{configurable:!0,enumerable:!0,writable:!0,value:e[t]}:null},Qu="function"==typeof Buffer?Buffer:null;var es,ts=t.Buffer;es=function(){var e,t;if("function"!=typeof Qu)return!1;try{e=Ke(t="function"==typeof Qu.from?Qu.from([1,2,3,4]):new Qu([1,2,3,4]))&&1===t[0]&&2===t[1]&&3===t[2]&&4===t[3]}catch(t){e=!1}return e}()?ts:function(){throw new Error("not implemented")};var rs=es;var ns=tt(rs.from)?function(e){if(!Ke(e))throw new TypeError(I("invalid argument. Must provide a Buffer. Value: `%s`.",e));return rs.from(e)}:function(e){if(!Ke(e))throw new TypeError(I("invalid argument. Must provide a Buffer. Value: `%s`.",e));return new rs(e)};function is(e){return new no(e)}function os(e){return new ct(e)}function as(e){return new Ki(e)}function us(e){return new $i(e)}function ss(e){return new yt(e)}function fs(e){return new Yi(e)}function ls(e){return new ln(e)}function cs(e){return new Fi(e)}function hs(e){return new Ot(e)}var ps={int8array:is,uint8array:os,uint8clampedarray:as,int16array:us,uint16array:ss,int32array:fs,uint32array:ls,float32array:cs,float64array:hs};function gs(e,t,r,n,i){var o,a,u,s,f,l,c,h,p,g;if(i-=1,"object"!=typeof e||null===e)return e;if(Ke(e))return ns(e);if(Cr(e))return function(e){var t,r,n,i,o,a,u=[],s=[];for(o=new e.constructor(e.message),u.push(e),s.push(o),e.stack&&(o.stack=e.stack),e.code&&(o.code=e.code),e.errno&&(o.errno=e.errno),e.syscall&&(o.syscall=e.syscall),t=gr(e),a=0;a<t.length;a++)i=t[a],X(r=Ku(e,i),"value")&&(n=Je(e[i])?[]:{},r.value=gs(e[i],n,u,s,-1)),Y(o,i,r);return o}(e);if("date"===(u=et(e)))return new Date(+e);if("regexp"===u)return function(e){if(!Be(e))throw new TypeError(I("invalid argument. Must provide a regular expression string. Value: `%s`.",e));return(e=/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/.exec(e))?new RegExp(e[1],e[2]):null}(e.toString());if("set"===u)return new Set(e);if("map"===u)return new Map(e);if("string"===u||"boolean"===u||"number"===u)return e.valueOf();if(f=ps[u])return f(e);if("array"!==u&&"object"!==u)return"function"==typeof Object.freeze?function(e){var t,r,n,i,o,a,u,s;for(t=[],i=[],u=Object.create(Ur(e)),t.push(e),i.push(u),r=Ju(e),s=0;s<r.length;s++)n=r[s],X(o=Ku(e,n),"value")&&(a=Je(e[n])?[]:{},o.value=gs(e[n],a,t,i,-1)),Y(u,n,o);return Object.isExtensible(e)||Object.preventExtensions(u),Object.isSealed(e)&&Object.seal(u),Object.isFrozen(e)&&Object.freeze(u),u}(e):{};if(a=gr(e),i>0)for(o=u,g=0;g<a.length;g++)h=e[l=a[g]],u=et(h),"object"!=typeof h||null===h||"array"!==u&&"object"!==u||Ke(h)?"object"===o?(X(s=Ku(e,l),"value")&&(s.value=gs(h)),Y(t,l,s)):t[l]=gs(h):-1===(p=ar(r,h))?(c=Je(h)?new Array(h.length):{},r.push(h),n.push(c),"array"===o?t[l]=gs(h,c,r,n,i):(X(s=Ku(e,l),"value")&&(s.value=gs(h,c,r,n,i)),Y(t,l,s))):t[l]=n[p];else if("array"===u)for(g=0;g<a.length;g++)t[l=a[g]]=e[l];else for(g=0;g<a.length;g++)l=a[g],s=Ku(e,l),Y(t,l,s);return Object.isExtensible(e)||Object.preventExtensions(t),Object.isSealed(e)&&Object.seal(t),Object.isFrozen(e)&&Object.freeze(t),t}function ms(e,t){var r;if(arguments.length>1){if(!fi(t))throw new TypeError(I("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",t));if(0===t)return e}else t=oe;return gs(e,r=Je(e)?new Array(e.length):{},[e],[r],t)}function ds(e,t,r){var n,i,o,a;for(o=e.length,i=new Array(t),a=0;a<t;a++)n=ue(o*r()),i[a]=e[n];return i}function ys(e,t,r,n){var i,o,a,u,s,f,l,c;for(u=e.length,i=new Array(u),s=0;s<u;s++)i[s]=n[s];for(a=new Array(t),s=0;s<t;s++){for(c=r(),o=0,f=0;f<u&&!(c<(o+=i[f]));f++);for(l=0;l<u;l++)l!==f&&(i[l]/=1-i[f]);i[f]=0,a[s]=e[f]}return a}var vs=Array.prototype.slice;function ws(e,t,r){var n,i,o;for(i=e.length-1;i>0;i--)o=ue(r()*(i+1)),n=e[i],e[i]=e[o],e[o]=n;return vs.call(e,0,t)}function bs(e,t,r,n){var i,o,a,u,s,f,l,c,h,p;for(a=n.slice(),f=e.length,i=[],o=[],h=0;h<f;h++)a[h]*=f,a[h]<1?i.push(h):o.push(h);for(u=new Array(f),l=new Array(f);0!==i.length&&0!==o.length;)p=i.shift(),c=o.shift(),l[p]=a[p],u[p]=c,a[c]=a[c]+a[p]-1,a[c]<1?i.push(c):o.push(c);for(h=0;h<o.length;h++)l[o[h]]=1;for(h=0;h<i.length;h++)l[i[h]]=1;for(s=new Array(t),h=0;h<t;h++)p=ue(f*r()),r()<l[p]?s[h]=e[p]:s[h]=e[u[p]];return s}var Es={mutate:!1,replace:!0};function _s(e,t){return Wt(e)||Wt(t)?NaN:en(e)||en(t)?e===t?NaN:oe:Se(e-t)}var Ts=1.4901161193847656e-8;function xs(e,t){return la(t)?X(t,"size")&&(e.size=t.size,!ci(e.size))?new TypeError(I("invalid option. `%s` option must be a nonnegative integer. Option: `%s`.","size",e.size)):X(t,"probs")&&(e.probs=t.probs,!function(e){var t,r;if(Je(e)){for(t=0,r=0;r<e.length;r++){if(!W(e[r])||e[r]>1||e[r]<0)return!1;t+=e[r]}return _s(t,1)<=Ts}if($a(e)){for(t=0,r=0;r<e.length;r++){if(e[r]>1||e[r]<0)return!1;t+=e[r]}return _s(t,1)<=Ts}return!1}(e.probs))?new TypeError(I("invalid option. `%s` option must be an array of probabilities that sum to one. Option: `%s`.","probs",e.probs)):X(t,"mutate")&&(e.mutate=t.mutate,!de(e.mutate))?new TypeError(I("invalid option. `%s` option must be a boolean. Option: `%s`.","mutate",e.mutate)):X(t,"replace")&&(e.replace=t.replace,!de(e.replace))?new TypeError(I("invalid option. `%s` option must be a boolean. Option: `%s`.","replace",e.replace)):null:new TypeError(I("invalid argument. Options argument must be an object. Value: `%s`.",t))}var As=Array.prototype.slice;function Os(){var e,t,r,n,i,o;if(r=ms(Es),1===arguments.length)pi(arguments[0])||Au(arguments[0])?t=arguments[0]:i=xs(r,e=arguments[0]);else if(arguments.length>1){if(e=arguments[1],!pi(t=arguments[0])&&!Au(t))throw new TypeError(I("invalid argument. `%s` argument must be array-like. Value: `%s`.","pool",t));i=xs(r,e)}if(i)throw i;return n=e&&e.seed?Wu({seed:e.seed}):Wu(),void 0===t?o=a:(t=Be(t)?t.split(""):ms(t),o=u),G(o,"seed",n.seed),G(o,"PRNG",n),n=n.normalized,o;function a(e,t){var i,o,a,u,s;if(!pi(e)&&!Au(e))throw new TypeError(I("invalid argument. First argument must be array-like. Value: `%s`.",e));if(Be(e)&&(e=e.split("")),a={},arguments.length>1&&(s=xs(a,t)))throw s;if(i=void 0===a.replace?r.replace:a.replace,void 0!==a.probs&&(o=a.probs),u=a.size?a.size:r.size?r.size:e.length,!1===i&&u>e.length)throw new RangeError(I("invalid option. `size` option must be less than or equal to the length of `x` when `replace` is `false`. Option: `%s`.",u));return o?i?bs(e,u,n,o):ys(e,u,n,o):i?ds(e,u,n):ws(As.call(e),u,n)}function u(e){var i,o,a,u,s,f;if(0===t.length)return null;if(a={},arguments.length&&(s=xs(a,e)))throw s;if(o=void 0===a.mutate?r.mutate:a.mutate,i=void 0===a.replace?r.replace:a.replace,u=a.size?a.size:r.size?r.size:t.length,!1===i&&u>t.length)throw new RangeError(I("invalid option. `size` option must be less than or equal to the population size when `replace` is `false`. Option: `%s`.",u));return i?ds(t,u,n):(f=ws(t,u,n),o&&(t=t.slice(u,t.length)),f)}}function js(e){return function(){return e}}function Vs(e,t){return!le(e)||Ht(e)?new TypeError(I("invalid argument. First argument must be an integer and not NaN. Value: `%s`.",e)):!le(t)||Ht(t)?new TypeError(I("invalid argument. Second argument must be an integer and not NaN. Value: `%s`.",t)):e>t?new RangeError(I("invalid argument. Minimum support must be less than or equal to maximum support. Value: `[%d, %d]`.",e,t)):null}function Rs(e,t,r){var n,i,o,a,u,s,f,l;if(0===(o=r-t))return t;if(f=e.MIN,(i=e.MAX-f)===o)return e()-f+t;if(i<o)for(a=0;;){for(o===Ou?(a=ue(o/(i+1)),o%(i+1)===i&&(a+=1)):a=ue((o+1)/(i+1)),n=0,s=1;s<=a;){if(n+=(e()-f)*s,s*i==o-s+1)return n;s*=i+1}if(!((l=Rs(e,0,ue(o/s)))>Ou/s||(n+=l*=s)>o))return n+t}for(i===Ou?(u=ue(i/(o+1)),i%(o+1)===o&&(u+=1)):u=ue((i+1)/(o+1));;)if(n=e()-f,(n=ue(n/u))<=o)return n+t}function Ns(){var e,t,r,n,i,o;if(0===arguments.length)t=Wu();else if(1===arguments.length){if(!la(e=arguments[0]))throw new TypeError(I("invalid argument. Options argument must be an object. Value: `%s`.",e));if(X(e,"prng")){if(!tt(e.prng))throw new TypeError(I("invalid option. `%s` option must be a pseudorandom number generator function. Option: `%s`.","prng",e.prng));if(!se((t=e.prng).MIN))throw new TypeError(I("invalid option. `%s` option must have a `MIN` property specifying the minimum possible pseudorandom integer value.","prng"));if(!se(t.MAX))throw new TypeError(I("invalid option. `%s` option must have a `MAX` property specifying the maximum possible pseudorandom integer value.","prng"))}else t=Wu(e)}else{if(n=Vs(i=arguments[0],o=arguments[1]))throw n;if(arguments.length>2){if(!la(e=arguments[2]))throw new TypeError(I("invalid argument. Options argument must be an object. Value: `%s`.",e));if(X(e,"prng")){if(!tt(e.prng))throw new TypeError(I("invalid option. `%s` option must be a pseudorandom number generator function. Option: `%s`.","prng",e.prng));if(!se((t=e.prng).MIN))throw new TypeError(I("invalid option. `%s` option must have a `MIN` property specifying the minimum possible pseudorandom integer value.","prng"));if(!se(t.MAX))throw new TypeError(I("invalid option. `%s` option must have a `MAX` property specifying the maximum possible pseudorandom integer value.","prng"))}else t=Wu(e)}else t=Wu()}return G(r=void 0===i?g:p,"NAME","discrete-uniform"),e&&e.prng?(G(r,"seed",null),G(r,"seedLength",null),La(r,"state",js(null),tr),G(r,"stateLength",null),G(r,"byteLength",null),G(r,"toJSON",js(null)),G(r,"PRNG",t)):(Re(r,"seed",a),Re(r,"seedLength",u),La(r,"state",l,c),Re(r,"stateLength",s),Re(r,"byteLength",f),G(r,"toJSON",h),G(r,"PRNG",t)),r;function a(){return t.seed}function u(){return t.seedLength}function s(){return t.stateLength}function f(){return t.byteLength}function l(){return t.state}function c(e){t.state=e}function h(){var e={type:"PRNG"};return e.name=r.NAME,e.state=Qa(t.state),e.params=void 0===i?[]:[i,o],e}function p(){return Rs(t,i,o)}function g(e,r){return Wt(e)||Wt(r)||!se(e)||!se(r)||e>r?NaN:Rs(t,e,r)}}function Ss(e,t,r,n,i,o,a){var u=function(e,t,r,n,i,o,a){var u,s,f,l,c;for(u=n,s=a,l=0,c=0;c<e;c++)l+=(f=t[u]-i[s])*f,u+=r,s+=o;return zn(l)}(e,t,r,n,i,o,a);return u*u}function Ls(e,t,r,n,i,o,a){var u,s,f,l;for(u=n,s=a,f=0,l=0;l<e;l++)f+=t[u]*i[s],u+=r,s+=o;return f}function Ms(e,t,r,n,i,o,a){var u=1-Ls(e,t,r,n,i,o,a);return u*u}function Is(e,t,r,n,i,o,a){var u=1-Ls(e,t,r,n,i,o,a);return u*u}function Fs(e,t,r,n,i,o){var a,u,s,f,l;for(f=i.data,a=(s=i.strides[0])*o,u=0,l=0;l<r;l++)e[l]=t(n,f,1,u,f,1,a),u+=s;return e}function ks(){var e,t;return e=0,t=0,function(r){if(0===arguments.length)return 0===t?null:e;return e+=(r-e)/(t+=1)}}function Bs(e,t,r,n,i,o,a,u,s){var f,l,c,h;for(f=oe,h=0;h<t;h++)(c=e(r,n,1,o,a,u,s))<f&&(f=c,l=h),o+=i;return l}function Ps(e,t,r,n,i,o,a,u){var s,f;for(f=0;f<e;f++)s=r[i],s+=(o[u]-s)/t,r[i]=s,i+=n,u+=a;return r}function Us(e,t,r,n,i,o){var a,u;return u=e.shape[1],function(s){void 0===a&&((a=pu(o.init[1],u,!0)).count=0);if(a.count<o.init[1]&&(Ca(u,s.data,s.strides[0],s.offset,a.data,a.strides[1],a.strides[0]*a.count),a.count+=1,a.count<o.init[1]))return!1;o.normalize&&("cosine"===o.metric?a=_u(a):"correlation"===o.metric&&(a=xu(a,n())));e="forgy"===o.init[0]?function(e,t,r){var n,i,o,a,u,s,f,l,c,h,p,g,m,d,y,v;for(m=e.shape[0],d=e.shape[1],i=e.data,f=e.strides[0],l=e.strides[1],h=e.offset,a=t.data,o=t.shape[0],u=t.strides[0],s=t.strides[1],g=t.offset,n=Ns(0,m-1,{seed:r}),c=[],y=0;y<m*d;y++)c.push(ks());for(y=0;y<o;y++){for(p=d*n(),v=0;v<d;v++)c[p+v](a[g+s*v]);g+=u}for(p=0,y=0;y<m;y++){for(v=0;v<d;v++)i[h+l*v]=c[p](),p+=1;h+=f}return e}(e,a,o.seed):"sample"===o.init[0]?function(e,t,r){var n,i,o,a,u,s,f,l,c,h,p;for(c=e.shape[0],h=e.shape[1],i=e.data,s=e.strides[1],f=e.offset,o=t.data,a=t.strides[0],u=t.strides[1],n=[],p=0;p<t.shape[0];p++)n.push(p);for(l=c===n.length?n:Os({seed:r,size:c,mutate:!1,replacement:!1})(n),p=0;p<c;p++)Dr(h,o,u,a*l[p],i,s,f);return e}(e,a,o.seed):function(e,t,r,n,i){var o,a,u,s,f,l,c,h,p,g,m,d,y,v,w,b,E,_,T,x,A,O,j,V,R,N,S,L;if(V=e.shape[0],s=e.shape[1],h=t.shape[0],d=e.data,E=e.strides[0],_=e.strides[1],T=e.offset,y=t.data,w=t.strides[0],b=t.strides[1],u=Ns({seed:(c=Wu({seed:i}))()}),c=c.normalized,m="cosine"===r?Ms:"correlation"===r?Is:Ss,j=u(0,h-1),1===V)return Dr(s,y,b,w*j,d,_,T);for(o=[j],x=new Array(s),f=new Array(2*h),v=0,N=0;N<h;N++)f[v]=oe,f[v+1]=0,v+=2;for(l=new Array(h),S=1;S<V;S++){for(Fs(x,m,h,s,t,o[S-1]),p=0,v=0,N=0;N<h;N++)x[N]<f[v]?(f[v]=x[N],f[v+1]=S-1,p+=x[N]):p+=f[v],v+=2;for(l[0]=f[0]/p,v=2,N=1;N<h;N++)l[N]=l[N-1]+f[v]/p,v+=2;for(g=oe,A=-1,L=0;L<n;L++){for(j=-1;-1===j;)for(R=c(),N=0;N<h;N++)if(R<l[N]){j=N;break}for(p=0,a=w*j,v=0,N=0;N<h;N++)(O=m(s,y,1,w*N,y,1,a))<f[v]?p+=O:p+=f[v],v+=2;p<g&&(g=p,A=j)}o.push(A)}for(N=0;N<V;N++)Dr(s,y,b,w*o[N],d,_,T),T+=E;return e}(e,a,o.metric,o.init[2],o.seed);return function(e,t,r,n,i){var o,a,u,s,f,l,c,h,p,g,m;for(p=t.shape[0],o=t.shape[1],s=e.shape[0],a=t.data,f=t.strides[0],u=e.data,l=e.strides[0],h=0,m=0;m<s;m++)c=f*(g=Bs(i,p,o,a,f,0,u,1,h)),Ps(o,r.get(g,0)+1,a,1,c,u,1,h),n(g,i(o,a,1,c,u,1,h)),h+=l}(a,e,t,r,i),!0}}function Cs(e,t){var r,n;for(r=[],n=0;n<t;n++)r.push(0);return function(t,n){var i,o,a;return a=e.get(t,0)+1,e.set(t,0,a),e.set(t,1,e.get(t,1)+n),o=e.get(t,2),o+=(i=n-o)/a,r[t]+=i*(n-o),e.set(t,2,o),e.set(t,3,zn(r[t]/(a-1))),e}}function zs(e){var t,r,n,i,o;if(0===arguments.length)t=[0,0];else{if(!io(e))throw new TypeError(I("invalid argument. Output argument must be an array-like object. Value: `%s`.",e));t=e}return i=0,n=0,o=0,a;function a(e){return 0===arguments.length?0===o?null:(t[0]=n,1===o?(Wt(i)?t[1]=NaN:t[1]=0,t):(t[1]=zn(i/(o-1)),t)):(i+=(r=e-n)*(e-(n+=r/(o+=1))),t[0]=n,o<2?(Wt(i)?t[1]=NaN:t[1]=0,t):(t[1]=zn(i/(o-1)),t))}}function Ys(e){var t,r,n,i,o;for(2,t=2*(n=new Ot(2*e)).BYTES_PER_ELEMENT,r=[],i=0,o=0;o<e;o++)r.push(zs(new Ot(n.buffer,i,2))),i+=t;return function(t){var i;if(0===arguments.length)return n;for(i=0;i<e;i++)r[i](t.get(i));return n}}G(Os(),"factory",Os),G(Ns(),"factory",Ns);function qs(e,t){var r={};return r.centroids=pu(e,t,!1),r.stats=pu(e,4,!1),r}function Gs(e,t){var r;if(!(this instanceof Gs))return new Gs(e,t);if(!me(e))throw new TypeError(I("invalid argument. First argument must be a positive integer. Value: `%s`.",e));if(!Ee(t))throw new TypeError(I("invalid argument. Second argument must be a boolean. Value: `%s`.",t));for(this.scale=1,this.norm=0,this.intercept=t,this.nWeights=e+(this.intercept?1:0),this._data=new Array(this.nWeights),r=0;r<this.nWeights;r++)this._data[r]=0}G(Gs.prototype,"scaleTo",(function(e){var t;if(this.scale<1e-11){for(t=0;t<this.nWeights;t++)this._data[t]*=this.scale;this.scale=1}if(this.norm*=si(e,2),!(e>0))throw new RangeError(I("unexpected error. Scaling weight vector by nonpositive value, likely due to too large value of eta * lambda. Value: `%f`.",e));this.scale*=e})),G(Gs.prototype,"add",(function(e,t){var r,n,i;for(n=0,void 0===t&&(t=1),i=0;i<e.length;i++)r=e[i]*t,n+=this._data[i]*r,this._data[i]=this._data[i]+r/this.scale;this.intercept&&(r=1*t,n+=this._data[i]*r,this._data[i]=this._data[i]+r/this.scale),this.norm+=(function(e,t){var r,n=e.length,i=0;for(r=0;r<n;r++)i+=e[r]*t[r];return i}(e,e)+(this.intercept?1:0))*si(t,2)+2*this.scale*n})),G(Gs.prototype,"innerProduct",(function(e){var t,r=0;for(t=0;t<e.length;t++)r+=this._data[t]*e[t];return r+=this.intercept?this._data[t]:0,r*=this.scale}));function Ws(e,t,r){var n;t>0&&(n=1-r*t,e.scaleTo(Xr(n,1e-7)))}function Ds(e,t,r,n,i,o){var a=e.innerProduct(t)-r;Ws(e,i,n),a>o?e.add(t,-n):a<-o&&e.add(t,+n)}function $s(e,t,r,n,i){var o=r-e.innerProduct(t);Ws(e,i,n),e.add(t,n*o)}function Hs(e,t,r,n,i,o){var a=e.innerProduct(t)-r;Ws(e,i,n),a>o?e.add(t,-n):a<-o?e.add(t,+n):e.add(t,-n*a)}function Js(e,t,r){var n,i;switch(n=1,e){case"basic":i=function(){var e=1e3/(n+1e3);return n+=1,e};break;case"constant":i=function(){return n+=1,t};break;case"pegasos":i=function(){var e=1/(r*n);return n+=1,e};break;default:throw new Error(I('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"learningRate",["basic","constant","pegasos"].join('", "'),e))}return i}var Xs={epsilon:.1,eta0:.02,intercept:!0,lambda:.001,learningRate:"basic",loss:"squaredError"};function Zs(e,t){return la(t)?X(t,"epsilon")&&(e.epsilon=t.epsilon,!xa(e.epsilon))?new TypeError(I("invalid option. `%s` option must be a positive number. Option: `%s`.","epsilon",e.epsilon)):X(t,"eta0")&&(e.eta0=t.eta0,!xa(e.eta0))?new TypeError(I("invalid option. `%s` option must be a positive number. Option: `%s`.","eta0",e.eta0)):X(t,"lambda")&&(e.lambda=t.lambda,!Ea(e.lambda))?new TypeError(I("invalid option. `%s` option must be a nonnegative number. Option: `%s`.","lambda",e.lambda)):X(t,"learningRate")&&(e.learningRate=t.learningRate,!Be(e.learningRate))?new TypeError(I("invalid option. `%s` option must be a string. Option: `%s`.","learningRate",e.learningRate)):X(t,"loss")&&(e.loss=t.loss,!Be(e.loss))?new TypeError(I("invalid option. `%s` option must be a string. Option: `%s`.","loss",e.loss)):X(t,"intercept")&&(e.intercept=t.intercept,!de(e.intercept))?new TypeError(I("invalid option. `%s` option must be a boolean. Option: `%s`.","intercept",e.intercept)):null:new TypeError(I("invalid argument. Options argument must be an object. Value: `%s`.",t))}var Ks={};q(Ks,"incrBinaryClassification",(function(e,t){var r,n,i;if(!pe(e))throw new TypeError(I("invalid argument. First argument must be a positive integer. Value: `%s`.",e));if(n={intercept:!0,lambda:1e-4,learningRate:ba.basic.slice(),loss:"log"},arguments.length>1&&(i=Na(n,t)))throw i;return r=new wa(e,n),G(o,"predict",a),o;function o(e,t){if(0===arguments.length)return r.coefficients;if(!Lr(e))throw new TypeError(I("invalid argument. First argument must be a one-dimensional ndarray. Value: `%s`.",e));if(-1!==t&&1!==t)throw new TypeError(I("invalid argument. Second argument must be either +1 or -1. Value: `%s`.",t));if(e.shape[0]!==r.nfeatures)throw new TypeError(I("invalid argument. First argument must be a one-dimensional ndarray of length %u. Actual length: `%u`.",r.nfeatures,e.shape[0]));return r.update(e,t),r.coefficients}function a(t,i){var o,a;if(!Sr(t))throw new TypeError(I("invalid argument. First argument must be an ndarray. Value: `%s`.",t));if((o=t.shape)[o.length-1]!==e)throw new TypeError(I("invalid argument. First argument must be an ndarray whose last dimension is of size %u. Actual size: `%u`.",e,o[o.length-1]));if(a="label",arguments.length>1){if("probability"===i){if("log"!==n.loss&&"modifiedHuber"!==n.loss)throw new Error(I('invalid argument. Second argument is incompatible with model loss function. Probability predictions are only supported when the loss function is one of the following: "%s". Model loss function: `%s`.',["log","modifiedHuber"].join('", "'),n.loss))}else if("label"!==i&&"linear"!==i)throw new TypeError(I('invalid argument. Second argument must be a string value equal to either "label", "probability", or "linear". Value: `%s`.',i));a=i}return r.predict(t,a)}})),q(Ks,"incrkmeans",(function(){var e,t,r,n,i,o,a,u,s,f,l,c,h,p;if(Sa(arguments[0]))p=arguments[0].shape[0],u=arguments[0].shape[1],t=gu(t=pu(p,u,!0),arguments[0]),arguments.length>1&&(n=arguments[1],h=!0);else{if(!pe(arguments[0]))throw new TypeError(I("invalid argument. First argument must either be a positive integer specifying the number of clusters or a matrix containing initial centroids. Value: `%s`.",arguments[0]));if(p=arguments[0],!pe(u=arguments[1]))throw new TypeError(I("invalid argument. Argument specifying number of dimensions must be a positive integer. Value: `%s`.",u));arguments.length>2&&(n=arguments[2],h=!0)}if((f={metric:"euclidean",init:bu["kmeans++"].slice(),seed:su(),normalize:!0,copy:!0}).init[1]=p,f.init[2]=2+ue(hu(p)),h&&(c=wu(f,n)))throw c;if(f.init[1]<p)throw new RangeError(I("invalid option. First `%s` parameter option must be greater than or equal to the number of clusters. Options: `%f`.","init",f.init[1]));return i=qs(p,u),a=pu(p,4,!0),e=Cs(a,p),"cosine"===f.metric?(s=Ms,f.copy&&(o=mu(u,!0))):"correlation"===f.metric?(s=Is,f.normalize&&(r=Ys(u)),f.copy&&(o=mu(u,!0))):s=Ss,void 0===t?(t=pu(p,u,!0),l=Us(t,a,e,r,s,f)):gu(i.centroids,t),G(g,"seed",f.seed),G(g,"predict",m),g;function g(n){var c,h,g,m,d,y,v,w,b,E,_;if(0===arguments.length)return l?null:i;if(!Lr(w=n))throw new TypeError(I("invalid argument. Must provide a one-dimensional ndarray. Value: `%s`.",w));if(w.shape[0]!==u)throw new Error(I("invalid argument. Vector length must match centroid dimensions. Expected: `%u``. Actual: `%u``.",u,w.shape[0]));if(r&&r(w),l){if(!1===l(w))return null;l=void 0}else f.normalize&&("cosine"===f.metric?(f.copy&&(w=du(o,w)),Eu(u,w.data,w.strides[0],w.offset)):"correlation"===f.metric&&(f.copy&&(w=du(o,w)),g=r(),Tu(u,w.data,w.strides[0],w.offset,g,2,0,g,2,1))),c=t.data,d=t.strides[0],h=w.data,m=w.strides[0],y=w.offset,v=d*(_=Bs(s,p,u,c,d,0,h,m,y)),b=a.get(_,0)+1,Ps(u,b,c,1,v,h,m,y),E=s(u,c,1,v,h,m,y),e(_,E);return Wr(t.length,t.data,1,i.centroids.data,1),Wr(a.length,a.data,1,i.stats.data,1),i}function m(e,n){var i,o,a,c,h,g,m,d,y,v,w;if(arguments.length>1){if(!Lr(e))throw new TypeError(I("invalid argument. Output argument must be a one-dimensional ndarray. Value: `%s`.",e));y=e,d=n}else d=e;if(!Sa(d))throw new TypeError(I("invalid argument. Must provide a two-dimensional ndarray. Value: `%s`.",d));if(d.shape[1]!==u)throw new Error(I("invalid argument. Number of matrix columns must match centroid dimensions. Expected: `%u`. Actual: `%u`.",u,d.shape[1]));if(void 0===y)y=mu(d.shape[0],!1);else if(y.length!==d.shape[0])throw new Error(I("invalid argument. Output vector length must match the number of data points. Expected: `%u`. Actual: `%u`.",d.shape[0],y.length));if(l)return null;for(a=d.shape[0],f.normalize&&("cosine"===f.metric?(f.copy&&(d=gu(pu(a,u,!0),d)),d=_u(d)):"correlation"===f.metric&&(f.copy&&(d=gu(pu(a,u,!0),d)),d=xu(d,r()))),o=t.data,g=t.strides[0],i=d.data,c=d.strides[0],h=d.strides[1],m=d.offset,w=0;w<a;w++)v=Bs(s,p,u,o,g,0,i,h,m),y.set(w,v),m+=c;return y}})),q(Ks,"incrSGDRegression",(function(e){var t,r,n,i,o,a,u;if(a=ms(Xs),arguments.length>0&&(u=Zs(a,e)))throw u;switch(n=null,a.loss){case"epsilonInsensitive":r=Ds;break;case"huber":r=Hs;break;case"squaredError":r=$s;break;default:throw Error(I('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"loss",["epsilonInsensitive","huber","squaredError"].join('", "'),a.loss))}function o(e,o){var u;if(!Je(e))throw new TypeError(I("invalid argument. First argument must be an array. Value: `%s`.",e));if(n||(n=new Gs(e.length,a.intercept),t=a.intercept?n.nWeights-1:n.nWeights),e.length!==t)throw new TypeError(I("invalid argument. First argument must be an array of length %u. Value: `%s`.",t,e));u=i(),r(n,e,o,u,a.lambda,a.epsilon)}return i=Js(a.learningRate,a.eta0,a.lambda),Re(o,"coefs",s),G(o,"predict",f),o;function s(){var e,t;for(e=new Array(n.nWeights),t=0;t<e.length;t++)e[t]=n._data[t]*n.scale;return e}function f(e){if(!Je(e)||e.length!==t)throw new TypeError(I("invalid argument. First argument must be an array of length %u. Value: `%s`.",t||0,e));return n.innerProduct(e)}}));var Qs={};return q(Qs,"incr",Ks),Qs}));
//# sourceMappingURL=index.js.map
